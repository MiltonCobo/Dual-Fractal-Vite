var tw=Object.defineProperty;var ew=(r,t,e)=>t in r?tw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Ec=(r,t,e)=>(ew(r,typeof t!="symbol"?t+"":t,e),e),Iu=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var nr=(r,t,e)=>(Iu(r,t,"read from private field"),e?e.call(r):t.get(r)),Bu=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},vo=(r,t,e,n)=>(Iu(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e);var Lu=(r,t,e)=>(Iu(r,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hl=function(r,t){return Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Hl(r,t)};function Q(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hl(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var rw=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),nw=function(){function r(){this.browser=new rw,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),xn=new nw;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(xn.wxa=!0,xn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?xn.worker=!0:typeof navigator>"u"?(xn.node=!0,xn.svgSupported=!0):iw(navigator.userAgent,xn);function iw(r,t){var e=t.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(r);n&&(e.firefox=!0,e.version=n[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),o&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}const Nt=xn;var lh=12,aw="sans-serif",On=lh+"px "+aw,ow=20,sw=100,uw="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function lw(r){var t={};if(typeof JSON>"u")return t;for(var e=0;e<r.length;e++){var n=String.fromCharCode(e+32),i=(r.charCodeAt(e)-ow)/sw;t[n]=i}return t}var fw=lw(uw),Ui={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,t;return function(e,n){if(!r){var i=Ui.createCanvas();r=i&&i.getContext("2d")}if(r)return t!==n&&(t=r.font=n||On),r.measureText(e);e=e||"",n=n||On;var a=/(\d+)px/.exec(n),o=a&&+a[1]||lh,s=0;if(n.indexOf("mono")>=0)s=o*e.length;else for(var u=0;u<e.length;u++){var l=fw[e[u]];s+=l==null?o:l*o}return{width:s}}}(),loadImage:function(r,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=r,n}},E0=Wi(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),x0=Wi(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),io=Object.prototype.toString,Ys=Array.prototype,hw=Ys.forEach,cw=Ys.filter,fh=Ys.slice,vw=Ys.map,xc=(function(){}).constructor,po=xc?xc.prototype:null,hh="__proto__",pw=2311;function T0(){return pw++}function ch(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function gt(r){if(r==null||typeof r!="object")return r;var t=r,e=io.call(r);if(e==="[object Array]"){if(!ba(r)){t=[];for(var n=0,i=r.length;n<i;n++)t[n]=gt(r[n])}}else if(x0[e]){if(!ba(r)){var a=r.constructor;if(a.from)t=a.from(r);else{t=new a(r.length);for(var n=0,i=r.length;n<i;n++)t[n]=r[n]}}}else if(!E0[e]&&!ba(r)&&!ws(r)){t={};for(var o in r)r.hasOwnProperty(o)&&o!==hh&&(t[o]=gt(r[o]))}return t}function pt(r,t,e){if(!ot(t)||!ot(r))return e?gt(t):r;for(var n in t)if(t.hasOwnProperty(n)&&n!==hh){var i=r[n],a=t[n];ot(a)&&ot(i)&&!st(a)&&!st(i)&&!ws(a)&&!ws(i)&&!Tc(a)&&!Tc(i)&&!ba(a)&&!ba(i)?pt(i,a,e):(e||!(n in r))&&(r[n]=gt(t[n]))}return r}function K(r,t){if(Object.assign)Object.assign(r,t);else for(var e in t)t.hasOwnProperty(e)&&e!==hh&&(r[e]=t[e]);return r}function Mt(r,t,e){for(var n=kt(t),i=0;i<n.length;i++){var a=n[i];(e?t[a]!=null:r[a]==null)&&(r[a]=t[a])}return r}function Ct(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return e}return-1}function dw(r,t){var e=r.prototype;function n(){}n.prototype=t.prototype,r.prototype=new n;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);r.prototype.constructor=r,r.superClass=t}function Sr(r,t,e){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(e?t[a]!=null:r[a]==null)&&(r[a]=t[a])}else Mt(r,t,e)}function Te(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function I(r,t,e){if(r&&t)if(r.forEach&&r.forEach===hw)r.forEach(t,e);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)t.call(e,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&t.call(e,r[a],a,r)}function nt(r,t,e){if(!r)return[];if(!t)return vh(r);if(r.map&&r.map===vw)return r.map(t,e);for(var n=[],i=0,a=r.length;i<a;i++)n.push(t.call(e,r[i],i,r));return n}function Wi(r,t,e,n){if(r&&t){for(var i=0,a=r.length;i<a;i++)e=t.call(n,e,r[i],i,r);return e}}function le(r,t,e){if(!r)return[];if(!t)return vh(r);if(r.filter&&r.filter===cw)return r.filter(t,e);for(var n=[],i=0,a=r.length;i<a;i++)t.call(e,r[i],i,r)&&n.push(r[i]);return n}function kt(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function gw(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return r.apply(t,e.concat(fh.call(arguments)))}}var Qt=po&&_t(po.bind)?po.call.bind(po.bind):gw;function Yt(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return r.apply(this,t.concat(fh.call(arguments)))}}function st(r){return Array.isArray?Array.isArray(r):io.call(r)==="[object Array]"}function _t(r){return typeof r=="function"}function lt(r){return typeof r=="string"}function mw(r){return io.call(r)==="[object String]"}function Jt(r){return typeof r=="number"}function ot(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function Tc(r){return!!E0[io.call(r)]}function ke(r){return!!x0[io.call(r)]}function ws(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function Zs(r){return r.colorStops!=null}function yw(r){return r.image!=null}function Ds(r){return r!==r}function Ra(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0,n=r.length;e<n;e++)if(r[e]!=null)return r[e]}function bt(r,t){return r??t}function rs(r,t,e){return r??t??e}function vh(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return fh.apply(r,t)}function F0(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function Nr(r,t){if(!r)throw new Error(t)}function Hr(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var I0="__ec_primitive__";function Xl(r){r[I0]=!0}function ba(r){return r[I0]}var _w=function(){function r(){this.data={}}return r.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){return this.data[t]=e,this},r.prototype.keys=function(){return kt(this.data)},r.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},r}(),B0=typeof Map=="function";function ww(){return B0?new Map:new _w}var Dw=function(){function r(t){var e=st(t);this.data=ww();var n=this;t instanceof r?t.each(i):t&&I(t,i);function i(a,o){e?n.set(a,o):n.set(o,a)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,e){return this.data.set(t,e),e},r.prototype.each=function(t,e){this.data.forEach(function(n,i){t.call(e,n,i)})},r.prototype.keys=function(){var t=this.data.keys();return B0?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r}();function ft(r){return new Dw(r)}function Sw(r,t){for(var e=new r.constructor(r.length+t.length),n=0;n<r.length;n++)e[n]=r[n];for(var i=r.length,n=0;n<t.length;n++)e[n+i]=t[n];return e}function Hs(r,t){var e;if(Object.create)e=Object.create(r);else{var n=function(){};n.prototype=r,e=new n}return t&&K(e,t),e}function L0(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Oa(r,t){return r.hasOwnProperty(t)}function Re(){}var Cw=180/Math.PI;function qi(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function bw(r){return[r[0],r[1]]}function Fc(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function Aw(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function Pu(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function jl(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var Mw=jl;function Ew(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var Ci=Ew;function Qe(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i+e[4],r[1]=e[1]*n+e[3]*i+e[5],r}function gi(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function mi(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}var Xn=function(){function r(t,e){this.target=t,this.topTarget=e&&e.topTarget}return r}(),xw=function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Xn(e,t),"dragstart",t.event))},r.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(a,o,t),this.handler.dispatchToElement(new Xn(e,t),"drag",t.event);var s=this.handler.findHover(n,i,e).target,u=this._dropTarget;this._dropTarget=s,e!==s&&(u&&s!==u&&this.handler.dispatchToElement(new Xn(u,t),"dragleave",t.event),s&&s!==u&&this.handler.dispatchToElement(new Xn(s,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Xn(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Xn(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r}();const Tw=xw;var Fw=function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;e!=null&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===n)return this;var u={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=a[t].length-1,h=a[t][l];return h&&h.callAtLast?a[t].splice(l,0,u):a[t].push(u),this},r.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},r.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],a=0,o=n[t].length;a<o;a++)n[t][a].h!==e&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},r.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,s=i.length,u=0;u<s;u++){var l=i[u];if(!(a&&a.filter&&l.query!=null&&!a.filter(t,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,s=e[o-1],u=i.length,l=0;l<u;l++){var h=i[l];if(!(a&&a.filter&&h.query!=null&&!a.filter(t,h.query)))switch(o){case 0:h.h.call(s);break;case 1:h.h.call(s,e[0]);break;case 2:h.h.call(s,e[0],e[1]);break;default:h.h.apply(s,e.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r}();const vr=Fw;var Iw=Math.log(2);function Kl(r,t,e,n,i,a){var o=n+"-"+i,s=r.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var u=Math.round(Math.log((1<<s)-1&~i)/Iw);return r[e][u]}for(var l=n|1<<e,h=e+1;n&1<<h;)h++;for(var f=0,c=0,v=0;c<s;c++){var d=1<<c;d&i||(f+=(v%2?-1:1)*r[e][c]*Kl(r,t-1,h,l,i|d,a),v++)}return a[o]=f,f}function Ic(r,t){var e=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],n={},i=Kl(e,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*Kl(e,7,o===0?1:0,1<<o,1<<s,n)/i*t[o];return function(u,l,h){var f=l*a[6]+h*a[7]+1;u[0]=(l*a[0]+h*a[1]+a[2])/f,u[1]=(l*a[3]+h*a[4]+a[5])/f}}}var Bc="___zrEVENTSAVED";function Bw(r,t,e,n,i){if(t.getBoundingClientRect&&Nt.domSupported&&!P0(t)){var a=t[Bc]||(t[Bc]={}),o=Lw(t,a),s=Pw(o,a,i);if(s)return s(r,e,n),!0}return!1}function Lw(r,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,l=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[u]+":0",i[l]+":0",n[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),r.appendChild(o),e.push(o)}return e}function Pw(r,t,e){for(var n=e?"invTrans":"trans",i=t[n],a=t.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var h=r[l].getBoundingClientRect(),f=2*l,c=h.left,v=h.top;o.push(c,v),u=u&&a&&c===a[f]&&v===a[f+1],s.push(r[l].offsetLeft,r[l].offsetTop)}return u&&i?i:(t.srcCoords=o,t[n]=e?Ic(s,o):Ic(o,s))}function P0(r){return r.nodeName.toUpperCase()==="CANVAS"}var Nw=/([&<>"'])/g,Rw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ow(r){return r==null?"":(r+"").replace(Nw,function(t,e){return Rw[e]})}var kw=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Nu=[],zw=Nt.browser.firefox&&+Nt.browser.version.split(".")[0]<39;function Ql(r,t,e,n){return e=e||{},n?Lc(r,t,e):zw&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):Lc(r,t,e),e}function Lc(r,t,e){if(Nt.domSupported&&r.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(P0(r)){var a=r.getBoundingClientRect();e.zrX=n-a.left,e.zrY=i-a.top;return}else if(Bw(Nu,r,n,i)){e.zrX=Nu[0],e.zrY=Nu[1];return}}e.zrX=e.zrY=0}function ph(r){return r||window.event}function or(r,t,e){if(t=ph(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&Ql(r,o,t,e)}else{Ql(r,t,t,e);var a=Vw(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&kw.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function Vw(r){var t=r.wheelDelta;if(t)return t;var e=r.deltaX,n=r.deltaY;if(e==null||n==null)return t;var i=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*i*a}function Jl(r,t,e,n){r.addEventListener(t,e,n)}function $w(r,t,e,n){r.removeEventListener(t,e,n)}var Gw=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0},Uw=function(){function r(){this._track=[]}return r.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},o=0,s=i.length;o<s;o++){var u=i[o],l=Ql(n,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},r.prototype._recognize=function(t){for(var e in Ru)if(Ru.hasOwnProperty(e)){var n=Ru[e](this._track,t);if(n)return n}},r}();function Pc(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}function Ww(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var Ru={pinch:function(r,t){var e=r.length;if(e){var n=(r[e-1]||{}).points,i=(r[e-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=Pc(n)/Pc(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=Ww(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:r[0].target,event:t}}}}};function Ss(){return[1,0,0,1,0,0]}function dh(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function qw(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function bi(r,t,e){var n=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=s,r[5]=u,r}function Nc(r,t,e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+e[0],r[5]=t[5]+e[1],r}function N0(r,t,e){var n=t[0],i=t[2],a=t[4],o=t[1],s=t[3],u=t[5],l=Math.sin(e),h=Math.cos(e);return r[0]=n*h+o*l,r[1]=-n*l+o*h,r[2]=i*h+s*l,r[3]=-i*l+h*s,r[4]=h*a+l*u,r[5]=h*u-l*a,r}function Yw(r,t,e){var n=e[0],i=e[1];return r[0]=t[0]*n,r[1]=t[1]*i,r[2]=t[2]*n,r[3]=t[3]*i,r[4]=t[4]*n,r[5]=t[5]*i,r}function gh(r,t){var e=t[0],n=t[2],i=t[4],a=t[1],o=t[3],s=t[5],u=e*o-a*n;return u?(u=1/u,r[0]=o*u,r[1]=-a*u,r[2]=-n*u,r[3]=e*u,r[4]=(n*s-o*i)*u,r[5]=(a*i-e*s)*u,r):null}var Zw=function(){function r(t,e){this.x=t||0,this.y=e||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,e,n){t.x=e,t.y=n},r.copy=function(t,e){t.x=e.x,t.y=e.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},r.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},r.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},r.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},r.lerp=function(t,e,n,i){var a=1-i;t.x=a*e.x+i*n.x,t.y=a*e.y+i*n.y},r}();const Pt=Zw;var go=Math.min,mo=Math.max,sn=new Pt,un=new Pt,ln=new Pt,fn=new Pt,Ji=new Pt,ta=new Pt,Hw=function(){function r(t,e,n,i){n<0&&(t=t+n,n=-n),i<0&&(e=e+i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}return r.prototype.union=function(t){var e=go(t.x,this.x),n=go(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mo(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=mo(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,a=Ss();return Nc(a,a,[-e.x,-e.y]),Yw(a,a,[n,i]),Nc(a,a,[t.x,t.y]),a},r.prototype.intersect=function(t,e){if(!t)return!1;t instanceof r||(t=r.create(t));var n=this,i=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,u=t.x,l=t.x+t.width,h=t.y,f=t.y+t.height,c=!(a<u||l<i||s<h||f<o);if(e){var v=1/0,d=0,p=Math.abs(a-u),m=Math.abs(l-i),g=Math.abs(s-h),y=Math.abs(f-o),_=Math.min(p,m),w=Math.min(g,y);a<u||l<i?_>d&&(d=_,p<m?Pt.set(ta,-p,0):Pt.set(ta,m,0)):_<v&&(v=_,p<m?Pt.set(Ji,p,0):Pt.set(Ji,-m,0)),s<h||f<o?w>d&&(d=w,g<y?Pt.set(ta,0,-g):Pt.set(ta,0,y)):_<v&&(v=_,g<y?Pt.set(Ji,0,g):Pt.set(Ji,0,-y))}return e&&Pt.copy(e,c?Ji:ta),c},r.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},r.applyTransform=function(t,e,n){if(!n){t!==e&&r.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];t.x=e.x*i+o,t.y=e.y*a+s,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}sn.x=ln.x=e.x,sn.y=fn.y=e.y,un.x=fn.x=e.x+e.width,un.y=ln.y=e.y+e.height,sn.transform(n),fn.transform(n),un.transform(n),ln.transform(n),t.x=go(sn.x,un.x,ln.x,fn.x),t.y=go(sn.y,un.y,ln.y,fn.y);var u=mo(sn.x,un.x,ln.x,fn.x),l=mo(sn.y,un.y,ln.y,fn.y);t.width=u-t.x,t.height=l-t.y},r}();const At=Hw;var R0="silent";function Xw(r,t,e){return{type:r,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:jw}}function jw(){Gw(this.event)}var Kw=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(vr),ea=function(){function r(t,e){this.x=t,this.y=e}return r}(),Qw=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ou=new At(0,0,0,0),O0=function(r){Q(t,r);function t(e,n,i,a,o){var s=r.call(this)||this;return s._hovered=new ea(0,0),s.storage=e,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new Kw,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new Tw(s),s}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(I(Qw,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,i=e.zrY,a=k0(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=a?new ea(n,i):this.findHover(n,i),l=u.target,h=this.proxy;h.setCursor&&h.setCursor(l?l.cursor:"default"),s&&l!==s&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(u,"mousemove",e),l&&l!==s&&this.dispatchToElement(u,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new ea(0,0)},t.prototype.dispatch=function(e,n){var i=this[e];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,i){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var o="on"+n,s=Xw(n,e,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(n,s)}))}},t.prototype.findHover=function(e,n,i){var a=this.storage.getDisplayList(),o=new ea(e,n);if(Rc(a,o,e,n,i),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,l=u/2,h=new At(e-l,n-l,u,u),f=a.length-1;f>=0;f--){var c=a[f];c!==i&&!c.ignore&&!c.ignoreCoarsePointer&&(!c.parent||!c.parent.ignoreCoarsePointer)&&(Ou.copy(c.getBoundingRect()),c.transform&&Ou.applyTransform(c.transform),Ou.intersect(h)&&s.push(c))}if(s.length)for(var v=4,d=Math.PI/12,p=Math.PI*2,m=0;m<l;m+=v)for(var g=0;g<p;g+=d){var y=e+m*Math.cos(g),_=n+m*Math.sin(g);if(Rc(s,o,y,_,i),o.target)return o}}return o},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Uw);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;e.gestureEvent=o;var s=new ea;s.target=a.target,this.dispatchToElement(s,o,a.event)}},t}(vr);I(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){O0.prototype[r]=function(t){var e=t.zrX,n=t.zrY,i=k0(this,e,n),a,o;if((r!=="mouseup"||!i)&&(a=this.findHover(e,n),o=a.target),r==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(r==="mouseup")this._upEl=o;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||Mw(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,t)}});function Jw(r,t,e){if(r[r.rectHover?"rectContain":"contain"](t,e)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(t,e))return!1;n.silent&&(i=!0)}var s=n.__hostTarget;n=s||n.parent}return i?R0:!0}return!1}function Rc(r,t,e,n,i){for(var a=r.length-1;a>=0;a--){var o=r[a],s=void 0;if(o!==i&&!o.ignore&&(s=Jw(o,e,n))&&(!t.topTarget&&(t.topTarget=o),s!==R0)){t.target=o;break}}}function k0(r,t,e){var n=r.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}const tD=O0;var z0=32,ra=7;function eD(r){for(var t=0;r>=z0;)t|=r&1,r>>=1;return r+t}function Oc(r,t,e,n){var i=t+1;if(i===e)return 1;if(n(r[i++],r[t])<0){for(;i<e&&n(r[i],r[i-1])<0;)i++;rD(r,t,i)}else for(;i<e&&n(r[i],r[i-1])>=0;)i++;return i-t}function rD(r,t,e){for(e--;t<e;){var n=r[t];r[t++]=r[e],r[e--]=n}}function kc(r,t,e,n,i){for(n===t&&n++;n<e;n++){for(var a=r[n],o=t,s=n,u;o<s;)u=o+s>>>1,i(a,r[u])<0?s=u:o=u+1;var l=n-o;switch(l){case 3:r[o+3]=r[o+2];case 2:r[o+2]=r[o+1];case 1:r[o+1]=r[o];break;default:for(;l>0;)r[o+l]=r[o+l-1],l--}r[o]=a}}function ku(r,t,e,n,i,a){var o=0,s=0,u=1;if(a(r,t[e+i])>0){for(s=n-i;u<s&&a(r,t[e+i+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(r,t[e+i-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var h=o+(u-o>>>1);a(r,t[e+h])>0?o=h+1:u=h}return u}function zu(r,t,e,n,i,a){var o=0,s=0,u=1;if(a(r,t[e+i])<0){for(s=i+1;u<s&&a(r,t[e+i-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=n-i;u<s&&a(r,t[e+i+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var h=o+(u-o>>>1);a(r,t[e+h])<0?u=h:o=h+1}return u}function nD(r,t){var e=ra,n,i,a=0;r.length;var o=[];n=[],i=[];function s(v,d){n[a]=v,i[a]=d,a+=1}function u(){for(;a>1;){var v=a-2;if(v>=1&&i[v-1]<=i[v]+i[v+1]||v>=2&&i[v-2]<=i[v]+i[v-1])i[v-1]<i[v+1]&&v--;else if(i[v]>i[v+1])break;h(v)}}function l(){for(;a>1;){var v=a-2;v>0&&i[v-1]<i[v+1]&&v--,h(v)}}function h(v){var d=n[v],p=i[v],m=n[v+1],g=i[v+1];i[v]=p+g,v===a-3&&(n[v+1]=n[v+2],i[v+1]=i[v+2]),a--;var y=zu(r[m],r,d,p,0,t);d+=y,p-=y,p!==0&&(g=ku(r[d+p-1],r,m,g,g-1,t),g!==0&&(p<=g?f(d,p,m,g):c(d,p,m,g)))}function f(v,d,p,m){var g=0;for(g=0;g<d;g++)o[g]=r[v+g];var y=0,_=p,w=v;if(r[w++]=r[_++],--m===0){for(g=0;g<d;g++)r[w+g]=o[y+g];return}if(d===1){for(g=0;g<m;g++)r[w+g]=r[_+g];r[w+m]=o[y];return}for(var S=e,D,b,M;;){D=0,b=0,M=!1;do if(t(r[_],o[y])<0){if(r[w++]=r[_++],b++,D=0,--m===0){M=!0;break}}else if(r[w++]=o[y++],D++,b=0,--d===1){M=!0;break}while((D|b)<S);if(M)break;do{if(D=zu(r[_],o,y,d,0,t),D!==0){for(g=0;g<D;g++)r[w+g]=o[y+g];if(w+=D,y+=D,d-=D,d<=1){M=!0;break}}if(r[w++]=r[_++],--m===0){M=!0;break}if(b=ku(o[y],r,_,m,0,t),b!==0){for(g=0;g<b;g++)r[w+g]=r[_+g];if(w+=b,_+=b,m-=b,m===0){M=!0;break}}if(r[w++]=o[y++],--d===1){M=!0;break}S--}while(D>=ra||b>=ra);if(M)break;S<0&&(S=0),S+=2}if(e=S,e<1&&(e=1),d===1){for(g=0;g<m;g++)r[w+g]=r[_+g];r[w+m]=o[y]}else{if(d===0)throw new Error;for(g=0;g<d;g++)r[w+g]=o[y+g]}}function c(v,d,p,m){var g=0;for(g=0;g<m;g++)o[g]=r[p+g];var y=v+d-1,_=m-1,w=p+m-1,S=0,D=0;if(r[w--]=r[y--],--d===0){for(S=w-(m-1),g=0;g<m;g++)r[S+g]=o[g];return}if(m===1){for(w-=d,y-=d,D=w+1,S=y+1,g=d-1;g>=0;g--)r[D+g]=r[S+g];r[w]=o[_];return}for(var b=e;;){var M=0,E=0,C=!1;do if(t(o[_],r[y])<0){if(r[w--]=r[y--],M++,E=0,--d===0){C=!0;break}}else if(r[w--]=o[_--],E++,M=0,--m===1){C=!0;break}while((M|E)<b);if(C)break;do{if(M=d-zu(o[_],r,v,d,d-1,t),M!==0){for(w-=M,y-=M,d-=M,D=w+1,S=y+1,g=M-1;g>=0;g--)r[D+g]=r[S+g];if(d===0){C=!0;break}}if(r[w--]=o[_--],--m===1){C=!0;break}if(E=m-ku(r[y],o,0,m,m-1,t),E!==0){for(w-=E,_-=E,m-=E,D=w+1,S=_+1,g=0;g<E;g++)r[D+g]=o[S+g];if(m<=1){C=!0;break}}if(r[w--]=r[y--],--d===0){C=!0;break}b--}while(M>=ra||E>=ra);if(C)break;b<0&&(b=0),b+=2}if(e=b,e<1&&(e=1),m===1){for(w-=d,y-=d,D=w+1,S=y+1,g=d-1;g>=0;g--)r[D+g]=r[S+g];r[w]=o[_]}else{if(m===0)throw new Error;for(S=w-(m-1),g=0;g<m;g++)r[S+g]=o[g]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:s}}function ns(r,t,e,n){e||(e=0),n||(n=r.length);var i=n-e;if(!(i<2)){var a=0;if(i<z0){a=Oc(r,e,n,t),kc(r,e,n,e+a,t);return}var o=nD(r,t),s=eD(i);do{if(a=Oc(r,e,n,t),a<s){var u=i;u>s&&(u=s),kc(r,e,e+u,e+a,t),a=u}o.pushRun(e,a),o.mergeRuns(),i-=a,e+=a}while(i!==0);o.forceMergeRuns()}}var Ne=1,_a=2,hi=4,zc=!1;function Vu(){zc||(zc=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Vc(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var iD=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Vc}return r.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},r.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,ns(n,Vc)},r.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e?e=e.slice():e=[];for(var a=i,o=t;a;)a.parent=o,a.updateTransform(),e.push(a),o=a,a=a.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),u=0;u<s.length;u++){var l=s[u];t.__dirty&&(l.__dirty|=Ne),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(Vu(),h.z=0),isNaN(h.z2)&&(Vu(),h.z2=0),isNaN(h.zlevel)&&(Vu(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,e,n);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,n);var v=t.getTextContent();v&&this._updateAndAddDisplayable(v,e,n)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var i=Ct(this._roots,t);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}();const aD=iD;var V0;V0=Nt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};const tf=V0;var is={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)))},elasticOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(r*=2)<1?-.5*(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-is.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?is.bounceIn(r*2)*.5:is.bounceOut(r*2-1)*.5+.5}};const $0=is;var yo=Math.pow,Qr=Math.sqrt,Cs=1e-8,G0=1e-4,$c=Qr(3),_o=1/3,yr=qi(),He=qi(),Ai=qi();function Xr(r){return r>-Cs&&r<Cs}function U0(r){return r>Cs||r<-Cs}function pe(r,t,e,n,i){var a=1-i;return a*a*(a*r+3*i*t)+i*i*(i*n+3*a*e)}function W0(r,t,e,n,i,a){var o=n+3*(t-e)-r,s=3*(e-t*2+r),u=3*(t-r),l=r-i,h=s*s-3*o*u,f=s*u-9*o*l,c=u*u-3*s*l,v=0;if(Xr(h)&&Xr(f))if(Xr(s))a[0]=0;else{var d=-u/s;d>=0&&d<=1&&(a[v++]=d)}else{var p=f*f-4*h*c;if(Xr(p)){var m=f/h,d=-s/o+m,g=-m/2;d>=0&&d<=1&&(a[v++]=d),g>=0&&g<=1&&(a[v++]=g)}else if(p>0){var y=Qr(p),_=h*s+1.5*o*(-f+y),w=h*s+1.5*o*(-f-y);_<0?_=-yo(-_,_o):_=yo(_,_o),w<0?w=-yo(-w,_o):w=yo(w,_o);var d=(-s-(_+w))/(3*o);d>=0&&d<=1&&(a[v++]=d)}else{var S=(2*h*s-3*o*f)/(2*Qr(h*h*h)),D=Math.acos(S)/3,b=Qr(h),M=Math.cos(D),d=(-s-2*b*M)/(3*o),g=(-s+b*(M+$c*Math.sin(D)))/(3*o),E=(-s+b*(M-$c*Math.sin(D)))/(3*o);d>=0&&d<=1&&(a[v++]=d),g>=0&&g<=1&&(a[v++]=g),E>=0&&E<=1&&(a[v++]=E)}}return v}function q0(r,t,e,n,i){var a=6*e-12*t+6*r,o=9*t+3*n-3*r-9*e,s=3*t-3*r,u=0;if(Xr(o)){if(U0(a)){var l=-s/a;l>=0&&l<=1&&(i[u++]=l)}}else{var h=a*a-4*o*s;if(Xr(h))i[0]=-a/(2*o);else if(h>0){var f=Qr(h),l=(-a+f)/(2*o),c=(-a-f)/(2*o);l>=0&&l<=1&&(i[u++]=l),c>=0&&c<=1&&(i[u++]=c)}}return u}function Gc(r,t,e,n,i,a){var o=(t-r)*i+r,s=(e-t)*i+t,u=(n-e)*i+e,l=(s-o)*i+o,h=(u-s)*i+s,f=(h-l)*i+l;a[0]=r,a[1]=o,a[2]=l,a[3]=f,a[4]=f,a[5]=h,a[6]=u,a[7]=n}function oD(r,t,e,n,i,a,o,s,u,l,h){var f,c=.005,v=1/0,d,p,m,g;yr[0]=u,yr[1]=l;for(var y=0;y<1;y+=.05)He[0]=pe(r,e,i,o,y),He[1]=pe(t,n,a,s,y),m=Ci(yr,He),m<v&&(f=y,v=m);v=1/0;for(var _=0;_<32&&!(c<G0);_++)d=f-c,p=f+c,He[0]=pe(r,e,i,o,d),He[1]=pe(t,n,a,s,d),m=Ci(He,yr),d>=0&&m<v?(f=d,v=m):(Ai[0]=pe(r,e,i,o,p),Ai[1]=pe(t,n,a,s,p),g=Ci(Ai,yr),p<=1&&g<v?(f=p,v=g):c*=.5);return h&&(h[0]=pe(r,e,i,o,f),h[1]=pe(t,n,a,s,f)),Qr(v)}function sD(r,t,e,n,i,a,o,s,u){for(var l=r,h=t,f=0,c=1/u,v=1;v<=u;v++){var d=v*c,p=pe(r,e,i,o,d),m=pe(t,n,a,s,d),g=p-l,y=m-h;f+=Math.sqrt(g*g+y*y),l=p,h=m}return f}function Ce(r,t,e,n){var i=1-n;return i*(i*r+2*n*t)+n*n*e}function uD(r,t,e,n,i){var a=r-2*t+e,o=2*(t-r),s=r-n,u=0;if(Xr(a)){if(U0(o)){var l=-s/o;l>=0&&l<=1&&(i[u++]=l)}}else{var h=o*o-4*a*s;if(Xr(h)){var l=-o/(2*a);l>=0&&l<=1&&(i[u++]=l)}else if(h>0){var f=Qr(h),l=(-o+f)/(2*a),c=(-o-f)/(2*a);l>=0&&l<=1&&(i[u++]=l),c>=0&&c<=1&&(i[u++]=c)}}return u}function Y0(r,t,e){var n=r+e-2*t;return n===0?.5:(r-t)/n}function Uc(r,t,e,n,i){var a=(t-r)*n+r,o=(e-t)*n+t,s=(o-a)*n+a;i[0]=r,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=e}function lD(r,t,e,n,i,a,o,s,u){var l,h=.005,f=1/0;yr[0]=o,yr[1]=s;for(var c=0;c<1;c+=.05){He[0]=Ce(r,e,i,c),He[1]=Ce(t,n,a,c);var v=Ci(yr,He);v<f&&(l=c,f=v)}f=1/0;for(var d=0;d<32&&!(h<G0);d++){var p=l-h,m=l+h;He[0]=Ce(r,e,i,p),He[1]=Ce(t,n,a,p);var v=Ci(He,yr);if(p>=0&&v<f)l=p,f=v;else{Ai[0]=Ce(r,e,i,m),Ai[1]=Ce(t,n,a,m);var g=Ci(Ai,yr);m<=1&&g<f?(l=m,f=g):h*=.5}}return u&&(u[0]=Ce(r,e,i,l),u[1]=Ce(t,n,a,l)),Qr(f)}function fD(r,t,e,n,i,a,o){for(var s=r,u=t,l=0,h=1/o,f=1;f<=o;f++){var c=f*h,v=Ce(r,e,i,c),d=Ce(t,n,a,c),p=v-s,m=d-u;l+=Math.sqrt(p*p+m*m),s=v,u=d}return l}var hD=/cubic-bezier\(([0-9,\.e ]+)\)/;function Z0(r){var t=r&&hD.exec(r);if(t){var e=t[1].split(","),n=+Hr(e[0]),i=+Hr(e[1]),a=+Hr(e[2]),o=+Hr(e[3]);if(isNaN(n+i+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:W0(0,n,a,1,u,s)&&pe(0,i,o,1,s[0])}}}var cD=function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Re,this.ondestroy=t.ondestroy||Re,this.onrestart=t.onrestart||Re,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var u=i%n;this._startTime=t-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=_t(t)?t:$0[t]||Z0(t)},r}();const vD=cD;var H0=function(){function r(t){this.value=t}return r}(),pD=function(){function r(){this._len=0}return r.prototype.insert=function(t){var e=new H0(t);return this.insertEntry(e),e},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),dD=function(){function r(t){this._list=new pD,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,e){var n=this._list,i=this._map,a=null;if(i[t]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=e:s=new H0(e),s.key=t,n.insertEntry(s),i[t]=s}return a},r.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();const ao=dD;var Wc={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Aa(r){return r=Math.round(r),r<0?0:r>255?255:r}function qc(r){return r<0?0:r>1?1:r}function $u(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?Aa(parseFloat(t)/100*255):Aa(parseInt(t,10))}function Ma(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?qc(parseFloat(t)/100):qc(parseFloat(t))}function Gu(r,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?r+(t-r)*e*6:e*2<1?t:e*3<2?r+(t-r)*(2/3-e)*6:r}function Ue(r,t,e,n,i){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function ef(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var X0=new ao(20),wo=null;function jn(r,t){wo&&ef(wo,t),wo=X0.put(r,wo||t.slice())}function Bn(r,t){if(r){t=t||[];var e=X0.get(r);if(e)return ef(t,e);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in Wc)return ef(t,Wc[n]),jn(r,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Ue(t,0,0,0,1);return}return Ue(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),jn(r,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Ue(t,0,0,0,1);return}return Ue(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),jn(r,t),t}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var u=n.substr(0,o),l=n.substr(o+1,s-(o+1)).split(","),h=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?Ue(t,+l[0],+l[1],+l[2],1):Ue(t,0,0,0,1);h=Ma(l.pop());case"rgb":if(l.length>=3)return Ue(t,$u(l[0]),$u(l[1]),$u(l[2]),l.length===3?h:Ma(l[3])),jn(r,t),t;Ue(t,0,0,0,1);return;case"hsla":if(l.length!==4){Ue(t,0,0,0,1);return}return l[3]=Ma(l[3]),Yc(l,t),jn(r,t),t;case"hsl":if(l.length!==3){Ue(t,0,0,0,1);return}return Yc(l,t),jn(r,t),t;default:return}}Ue(t,0,0,0,1)}}function Yc(r,t){var e=(parseFloat(r[0])%360+360)%360/360,n=Ma(r[1]),i=Ma(r[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],Ue(t,Aa(Gu(o,a,e+1/3)*255),Aa(Gu(o,a,e)*255),Aa(Gu(o,a,e-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function Zc(r,t){var e=Bn(r);if(e){for(var n=0;n<3;n++)t<0?e[n]=e[n]*(1-t)|0:e[n]=(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return mh(e,e.length===4?"rgba":"rgb")}}function mh(r,t){if(!(!r||!r.length)){var e=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+r[3]),t+"("+e+")"}}function bs(r,t){var e=Bn(r);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function gD(r){return r.type==="linear"}function mD(r){return r.type==="radial"}(function(){return Nt.hasGlobalWindow&&_t(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})();var rf=Array.prototype.slice;function Ir(r,t,e){return(t-r)*e+r}function Uu(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=Ir(t[a],e[a],n);return r}function yD(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var s=0;s<a;s++)r[o][s]=Ir(t[o][s],e[o][s],n)}return r}function Do(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=t[a]+e[a]*n;return r}function Hc(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var s=0;s<a;s++)r[o][s]=t[o][s]+e[o][s]*n}return r}function _D(r,t){for(var e=r.length,n=t.length,i=e>n?t:r,a=Math.min(e,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(e,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function wD(r,t,e){var n=r,i=t;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var u=a;u<o;u++)n.push(e===1?i[u]:rf.call(i[u]))}for(var l=n[0]&&n[0].length,u=0;u<n.length;u++)if(e===1)isNaN(n[u])&&(n[u]=i[u]);else for(var h=0;h<l;h++)isNaN(n[u][h])&&(n[u][h]=i[u][h])}}function as(r){if(Te(r)){var t=r.length;if(Te(r[0])){for(var e=[],n=0;n<t;n++)e.push(rf.call(r[n]));return e}return rf.call(r)}return r}function os(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function DD(r){return Te(r&&r[0])?2:1}var So=0,ss=1,j0=2,wa=3,nf=4,af=5,Xc=6;function jc(r){return r===nf||r===af}function Co(r){return r===ss||r===j0}var na=[0,0,0,0],SD=function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=Xc,u=e;if(Te(e)){var l=DD(e);s=l,(l===1&&!Jt(e[0])||l===2&&!Jt(e[0][0]))&&(o=!0)}else if(Jt(e)&&!Ds(e))s=So;else if(lt(e))if(!isNaN(+e))s=So;else{var h=Bn(e);h&&(u=h,s=wa)}else if(Zs(e)){var f=K({},u);f.colorStops=nt(e.colorStops,function(v){return{offset:v.offset,color:Bn(v.color)}}),gD(e)?s=nf:mD(e)&&(s=af),u=f}a===0?this.valType=s:(s!==this.valType||s===Xc)&&(o=!0),this.discrete=this.discrete||o;var c={time:t,value:u,rawValue:e,percent:0};return n&&(c.easing=n,c.easingFunc=_t(n)?n:$0[n]||Z0(n)),i.push(c),c},r.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(p,m){return p.time-m.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,u=Co(i),l=jc(i),h=0;h<a;h++){var f=n[h],c=f.value,v=o.value;f.percent=f.time/t,s||(u&&h!==a-1?wD(c,v,i):l&&_D(c.colorStops,v.colorStops))}if(!s&&i!==af&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;for(var d=n[0].value,h=0;h<a;h++)i===So?n[h].additiveValue=n[h].value-d:i===wa?n[h].additiveValue=Do([],n[h].value,d,-1):Co(i)&&(n[h].additiveValue=i===ss?Do([],n[h].value,d,-1):Hc([],n[h].value,d,-1))}},r.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,l=a===wa,h,f=this._lastFr,c=Math.min,v,d;if(s===1)v=d=o[0];else{if(e<0)h=0;else if(e<this._lastFrP){var p=c(f+1,s-1);for(h=p;h>=0&&!(o[h].percent<=e);h--);h=c(h,s-2)}else{for(h=f;h<s&&!(o[h].percent>e);h++);h=c(h-1,s-2)}d=o[h+1],v=o[h]}if(v&&d){this._lastFr=h,this._lastFrP=e;var m=d.percent-v.percent,g=m===0?1:c((e-v.percent)/m,1);d.easingFunc&&(g=d.easingFunc(g));var y=n?this._additiveValue:l?na:t[u];if((Co(a)||l)&&!y&&(y=this._additiveValue=[]),this.discrete)t[u]=g<1?v.rawValue:d.rawValue;else if(Co(a))a===ss?Uu(y,v[i],d[i],g):yD(y,v[i],d[i],g);else if(jc(a)){var _=v[i],w=d[i],S=a===nf;t[u]={type:S?"linear":"radial",x:Ir(_.x,w.x,g),y:Ir(_.y,w.y,g),colorStops:nt(_.colorStops,function(b,M){var E=w.colorStops[M];return{offset:Ir(b.offset,E.offset,g),color:os(Uu([],b.color,E.color,g))}}),global:w.global},S?(t[u].x2=Ir(_.x2,w.x2,g),t[u].y2=Ir(_.y2,w.y2,g)):t[u].r=Ir(_.r,w.r,g)}else if(l)Uu(y,v[i],d[i],g),n||(t[u]=os(y));else{var D=Ir(v[i],d[i],g);n?this._additiveValue=D:t[u]=D}n&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;e===So?t[n]=t[n]+i:e===wa?(Bn(t[n],na),Do(na,na,i,1),t[n]=os(na)):e===ss?Do(t[n],t[n],i,1):e===j0&&Hc(t[n],t[n],i,1)},r}(),CD=function(){function r(t,e,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i){ch("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,kt(e),n)},r.prototype.whenWithKeys=function(t,e,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],u=a[s];if(!u){u=a[s]=new SD(s);var l=void 0,h=this._getAdditiveTrack(s);if(h){var f=h.keyframes,c=f[f.length-1];l=c&&c.value,h.valType===wa&&l&&(l=os(l))}else l=this._target[s];if(l==null)continue;t>0&&u.addKeyframe(0,as(l),i),this._trackKeys.push(s)}u.addKeyframe(t,as(e[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},r.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(e=a)}return e},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),l=s.keyframes,h=l.length;if(s.prepare(i,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=l[h-1];f&&(e._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var c=new vD({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){e._started=2;var d=e._additiveAnimators;if(d){for(var p=!1,m=0;m<d.length;m++)if(d[m]._clip){p=!0;break}p||(e._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(e._target,v);var g=e._onframeCbs;if(g)for(var m=0;m<g.length;m++)g[m](e._target,v)},ondestroy:function(){e._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&c.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return nt(this._trackKeys,function(e){return t._tracks[e]})},r.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(e?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},r.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[n?0:s.length-1];u&&(t[a]=as(u.rawValue))}}}},r.prototype.__changeFinalValue=function(t,e){e=e||kt(t);for(var n=0;n<e.length;n++){var i=e[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r}();const yh=CD;function yi(){return new Date().getTime()}var bD=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,i=e.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=yi()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(tf(n),!e._paused&&e.update())}tf(n)},t.prototype.start=function(){this._running||(this._time=yi(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=yi(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=yi()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var i=new yh(e,n.loop);return this.addAnimator(i),i},t}(vr);const AD=bD;var MD=300,Wu=Nt.domSupported,qu=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=nt(r,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i});return{mouse:r,touch:t,pointer:n}}(),Kc={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Qc=!1;function of(r){var t=r.pointerType;return t==="pen"||t==="touch"}function ED(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function Yu(r){r&&(r.zrByTouch=!0)}function xD(r,t){return or(r.dom,new TD(r,t),!0)}function K0(r,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===r.painterRoot);)e=e.parentNode;return n}var TD=function(){function r(t,e){this.stopPropagation=Re,this.stopImmediatePropagation=Re,this.preventDefault=Re,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return r}(),sr={mousedown:function(r){r=or(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=or(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=or(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=or(this.dom,r);var t=r.toElement||r.relatedTarget;K0(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){Qc=!0,r=or(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){Qc||(r=or(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=or(this.dom,r),Yu(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),sr.mousemove.call(this,r),sr.mousedown.call(this,r)},touchmove:function(r){r=or(this.dom,r),Yu(r),this.handler.processGesture(r,"change"),sr.mousemove.call(this,r)},touchend:function(r){r=or(this.dom,r),Yu(r),this.handler.processGesture(r,"end"),sr.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<MD&&sr.click.call(this,r)},pointerdown:function(r){sr.mousedown.call(this,r)},pointermove:function(r){of(r)||sr.mousemove.call(this,r)},pointerup:function(r){sr.mouseup.call(this,r)},pointerout:function(r){of(r)||sr.mouseout.call(this,r)}};I(["click","dblclick","contextmenu"],function(r){sr[r]=function(t){t=or(this.dom,t),this.trigger(r,t)}});var sf={pointermove:function(r){of(r)||sf.mousemove.call(this,r)},pointerup:function(r){sf.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function FD(r,t){var e=t.domHandlers;Nt.pointerEventsSupported?I(qu.pointer,function(n){us(t,n,function(i){e[n].call(r,i)})}):(Nt.touchEventsSupported&&I(qu.touch,function(n){us(t,n,function(i){e[n].call(r,i),ED(t)})}),I(qu.mouse,function(n){us(t,n,function(i){i=ph(i),t.touching||e[n].call(r,i)})}))}function ID(r,t){Nt.pointerEventsSupported?I(Kc.pointer,e):Nt.touchEventsSupported||I(Kc.mouse,e);function e(n){function i(a){a=ph(a),K0(r,a.target)||(a=xD(r,a),t.domHandlers[n].call(r,a))}us(t,n,i,{capture:!0})}}function us(r,t,e,n){r.mounted[t]=e,r.listenerOpts[t]=n,Jl(r.domTarget,t,e,n)}function Zu(r){var t=r.mounted;for(var e in t)t.hasOwnProperty(e)&&$w(r.domTarget,e,t[e],r.listenerOpts[e]);r.mounted={}}var Jc=function(){function r(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return r}(),BD=function(r){Q(t,r);function t(e,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new Jc(e,sr),Wu&&(i._globalHandlerScope=new Jc(document,sf)),FD(i,i._localHandlerScope),i}return t.prototype.dispose=function(){Zu(this._localHandlerScope),Wu&&Zu(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Wu&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?ID(this,n):Zu(n)}},t}(vr);const LD=BD;var Q0=1;Nt.hasGlobalWindow&&(Q0=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var As=Q0,uf=.4,lf="#333",ff="#ccc",PD="#eee",tv=dh,ev=5e-5;function hn(r){return r>ev||r<-ev}var cn=[],Kn=[],Hu=Ss(),Xu=Math.abs,_h=function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return hn(this.rotation)||hn(this.x)||hn(this.y)||hn(this.scaleX-1)||hn(this.scaleY-1)||hn(this.skewX)||hn(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(tv(n),this.invTransform=null);return}n=n||Ss(),e?this.getLocalTransform(n):tv(n),t&&(e?bi(n,t,n):qw(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(cn);var n=cn[0]<0?-1:1,i=cn[1]<0?-1:1,a=((cn[0]-n)*e+n)/cn[0]||0,o=((cn[1]-i)*e+i)/cn[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||Ss(),gh(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(bi(Kn,t.invTransform,e),e=Kn);var n=this.originX,i=this.originY;(n||i)&&(Hu[4]=n,Hu[5]=i,bi(Kn,e,Hu),Kn[4]-=n,Kn[5]-=i,e=Kn),this.setLocalTransform(e)}},r.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Qe(n,n,i),n},r.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Qe(n,n,i),n},r.prototype.getLineScale=function(){var t=this.transform;return t&&Xu(t[0]-1)>1e-10&&Xu(t[3]-1)>1e-10?Math.sqrt(Xu(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){ND(this,t)},r.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,s=t.anchorX,u=t.anchorY,l=t.rotation||0,h=t.x,f=t.y,c=t.skewX?Math.tan(t.skewX):0,v=t.skewY?Math.tan(-t.skewY):0;if(n||i||s||u){var d=n+s,p=i+u;e[4]=-d*a-c*p*o,e[5]=-p*o-v*d*a}else e[4]=e[5]=0;return e[0]=a,e[3]=o,e[1]=v*a,e[2]=c*o,l&&N0(e,e,l),e[4]+=n+h,e[5]+=i+f,e},r.initDefaultProps=function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),r}(),ka=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function ND(r,t){for(var e=0;e<ka.length;e++){var n=ka[e];r[n]=t[n]}}var rv={};function Oe(r,t){t=t||On;var e=rv[t];e||(e=rv[t]=new ao(500));var n=e.get(r);return n==null&&(n=Ui.measureText(r,t).width,e.put(r,n)),n}function nv(r,t,e,n){var i=Oe(r,t),a=Dh(t),o=Da(0,i,e),s=ci(0,a,n),u=new At(o,s,i,a);return u}function wh(r,t,e,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return nv(i[0],t,e,n);for(var o=new At(0,0,0,0),s=0;s<i.length;s++){var u=nv(i[s],t,e,n);s===0?o.copy(u):o.union(u)}return o}function Da(r,t,e){return e==="right"?r-=t:e==="center"&&(r-=t/2),r}function ci(r,t,e){return e==="middle"?r-=t/2:e==="bottom"&&(r-=t),r}function Dh(r){return Oe("",r)}function kn(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function J0(r,t,e){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=e.height,o=e.width,s=a/2,u=e.x,l=e.y,h="left",f="top";if(n instanceof Array)u+=kn(n[0],e.width),l+=kn(n[1],e.height),h=null,f=null;else switch(n){case"left":u-=i,l+=s,h="right",f="middle";break;case"right":u+=i+o,l+=s,f="middle";break;case"top":u+=o/2,l-=i,h="center",f="bottom";break;case"bottom":u+=o/2,l+=a+i,h="center";break;case"inside":u+=o/2,l+=s,h="center",f="middle";break;case"insideLeft":u+=i,l+=s,f="middle";break;case"insideRight":u+=o-i,l+=s,h="right",f="middle";break;case"insideTop":u+=o/2,l+=i,h="center";break;case"insideBottom":u+=o/2,l+=a-i,h="center",f="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,h="right";break;case"insideBottomLeft":u+=i,l+=a-i,f="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,h="right",f="bottom";break}return r=r||{},r.x=u,r.y=l,r.align=h,r.verticalAlign=f,r}var ju="__zr_normal__",Ku=ka.concat(["ignore"]),RD=Wi(ka,function(r,t){return r[t]=!0,r},{ignore:!1}),Qn={},OD=new At(0,0,0,0),Sh=function(){function r(t){this.id=T0(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=e.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=i?this:null;var l=!1;if(a.copyTransform(e),n.position!=null){var h=OD;n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),i||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Qn,n,h):J0(Qn,n,h),a.x=Qn.x,a.y=Qn.y,o=Qn.align,s=Qn.verticalAlign;var f=n.origin;if(f&&n.rotation!=null){var c=void 0,v=void 0;f==="center"?(c=h.width*.5,v=h.height*.5):(c=kn(f[0],h.width),v=kn(f[1],h.height)),l=!0,a.originX=-a.x+c+(i?0:h.x),a.originY=-a.y+v+(i?0:h.y)}}n.rotation!=null&&(a.rotation=n.rotation);var d=n.offset;d&&(a.x+=d[0],a.y+=d[1],l||(a.originX=-d[0],a.originY=-d[1]));var p=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,_=void 0;p&&this.canBeInsideText()?(g=n.insideFill,y=n.insideStroke,(g==null||g==="auto")&&(g=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(g),_=!0)):(g=n.outsideFill,y=n.outsideStroke,(g==null||g==="auto")&&(g=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(g),_=!0)),g=g||"#000",(g!==m.fill||y!==m.stroke||_!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(u=!0,m.fill=g,m.stroke=y,m.autoStroke=_,m.align=o,m.verticalAlign=s,e.setDefaultTextStyle(m)),e.__dirty|=Ne,u&&e.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ff:lf},r.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&Bn(e);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,mh(n,"rgba")},r.prototype.traverse=function(t,e){},r.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},K(this.extra,e)):this[t]=e},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(ot(t))for(var n=t,i=kt(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==ju)){var o=i.targetName,s=o?e[o]:e;i.saveTo(s)}}},r.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Ku)},r.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},r.prototype.clearStates=function(t){this.useState(ju,!1,t)},r.prototype.useState=function(t,e,n,i){var a=t===ju,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,u=this.stateTransition;if(!(Ct(s,t)>=0&&(e||s.length===1))){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),!l&&!a){ch("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(l);var h=!!(l&&l.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,e,!n&&!this.__inHover&&u&&u.duration>0,u);var f=this._textContent,c=this._textGuide;return f&&f.useState(t,e,n,h),c&&c.useState(t,e,n,h),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ne),l}}},r.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,o=t.length,s=o===a.length;if(s){for(var u=0;u<o;u++)if(t[u]!==a[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var l=t[u],h=void 0;this.stateProxy&&(h=this.stateProxy(l,t)),h||(h=this.states[l]),h&&i.push(h)}var f=i[o-1],c=!!(f&&f.hoverLayer||n);c&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),d=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(t.join(","),v,this._normalState,!1,!e&&!this.__inHover&&d&&d.duration>0,d);var p=this._textContent,m=this._textGuide;p&&p.useStates(t,e,c),m&&m.useStates(t,e,c),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ne)}},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},r.prototype.removeState=function(t){var e=Ct(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},r.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),a=Ct(i,t),o=Ct(i,e)>=0;a>=0?o?i.splice(a,1):i[a]=e:n&&!o&&i.push(e),this.useStates(i)},r.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var e={},n,i=0;i<t.length;i++){var a=t[i];K(e,a),a.textConfig&&(n=n||{},K(n,a.textConfig))}return n&&(e.textConfig=n),e},r.prototype._applyStateObj=function(t,e,n,i,a,o){var s=!(e&&i);e&&e.textConfig?(this.textConfig=K({},i?this.textConfig:n.textConfig),K(this.textConfig,e.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},l=!1,h=0;h<Ku.length;h++){var f=Ku[h],c=a&&RD[f];e&&e[f]!=null?c?(l=!0,u[f]=e[f]):this[f]=e[f]:s&&n[f]!=null&&(c?(l=!0,u[f]=n[f]):this[f]=n[f])}if(!a)for(var h=0;h<this.animators.length;h++){var v=this.animators[h],d=v.targetName;v.getLoop()||v.__changeFinalValue(d?(e||n)[d]:e||n)}l&&this._transitionState(t,u,o)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new _h,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),K(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Ne;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,e,n){var i=t?this[t]:this,a=new yh(i,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},r.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,o=Ct(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!t||t===s.scope?s.stop(e):a.push(s)}return this.animators=a,this},r.prototype.animateTo=function(t,e,n){Qu(this,t,e,n)},r.prototype.animateFrom=function(t,e,n){Qu(this,t,e,n,!0)},r.prototype._transitionState=function(t,e,n,i){for(var a=Qu(this,e,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Ne;function e(n,i,a,o){Object.defineProperty(t,n,{get:function(){if(!this[i]){var u=this[i]=[];s(this,u)}return this[i]},set:function(u){this[a]=u[0],this[o]=u[1],this[i]=u,s(this,u)}});function s(u,l){Object.defineProperty(l,0,{get:function(){return u[a]},set:function(h){u[a]=h}}),Object.defineProperty(l,1,{get:function(){return u[o]},set:function(h){u[o]=h}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),r}();Sr(Sh,vr);Sr(Sh,_h);function Qu(r,t,e,n,i){e=e||{};var a=[];tg(r,"",r,t,e,n,a,i);var o=a.length,s=!1,u=e.done,l=e.aborted,h=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},f=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&e.during&&a[0].during(function(d,p){e.during(p)});for(var c=0;c<a.length;c++){var v=a[c];h&&v.done(h),f&&v.aborted(f),e.force&&v.duration(e.duration),v.start(e.easing)}return a}function Ju(r,t,e){for(var n=0;n<e;n++)r[n]=t[n]}function kD(r){return Te(r[0])}function zD(r,t,e){if(Te(t[e]))if(Te(r[e])||(r[e]=[]),ke(t[e])){var n=t[e].length;r[e].length!==n&&(r[e]=new t[e].constructor(n),Ju(r[e],t[e],n))}else{var i=t[e],a=r[e],o=i.length;if(kD(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?Ju(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else Ju(a,i,o);a.length=i.length}else r[e]=t[e]}function VD(r,t){return r===t||Te(r)&&Te(t)&&$D(r,t)}function $D(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function tg(r,t,e,n,i,a,o,s){for(var u=kt(n),l=i.duration,h=i.delay,f=i.additive,c=i.setToFinal,v=!ot(a),d=r.animators,p=[],m=0;m<u.length;m++){var g=u[m],y=n[g];if(y!=null&&e[g]!=null&&(v||a[g]))if(ot(y)&&!Te(y)&&!Zs(y)){if(t){s||(e[g]=y,r.updateDuringAnimation(t));continue}tg(r,g,e[g],y,i,a&&a[g],o,s)}else p.push(g);else s||(e[g]=y,r.updateDuringAnimation(t),p.push(g))}var _=p.length;if(!f&&_)for(var w=0;w<d.length;w++){var S=d[w];if(S.targetName===t){var D=S.stopTracks(p);if(D){var b=Ct(d,S);d.splice(b,1)}}}if(i.force||(p=le(p,function(A){return!VD(n[A],e[A])}),_=p.length),_>0||i.force&&!o.length){var M=void 0,E=void 0,C=void 0;if(s){E={},c&&(M={});for(var w=0;w<_;w++){var g=p[w];E[g]=e[g],c?M[g]=n[g]:e[g]=n[g]}}else if(c){C={};for(var w=0;w<_;w++){var g=p[w];C[g]=as(e[g]),zD(e,n,g)}}var S=new yh(e,!1,!1,f?le(d,function(x){return x.targetName===t}):null);S.targetName=t,i.scope&&(S.scope=i.scope),c&&M&&S.whenWithKeys(0,M,p),C&&S.whenWithKeys(0,C,p),S.whenWithKeys(l??500,s?E:n,p).delay(h||0),r.addAnimator(S,t),o.push(S)}}const eg=Sh;var rg=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===e)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var i=Ct(this._children,e);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(e,n){var i=this._children,a=i[n];if(e&&e!==this&&e.parent!==this&&e!==a){i[n]=e,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,i=this._children,a=Ct(i,e);return a<0?this:(i.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,i=0;i<e.length;i++){var a=e[i];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];e.call(n,o,a)}return this},t.prototype.traverse=function(e,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=e.call(n,a);a.isGroup&&!o&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new At(0,0,0,0),i=e||this._children,a=[],o=null,s=0;s<i.length;s++){var u=i[s];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),h=u.getLocalTransform(a);h?(At.applyTransform(n,l,h),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}}return o||n},t}(eg);rg.prototype.type="group";const ye=rg;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var ls={},ng={};function GD(r){delete ng[r]}function UD(r){if(!r)return!1;if(typeof r=="string")return bs(r,1)<uf;if(r.colorStops){for(var t=r.colorStops,e=0,n=t.length,i=0;i<n;i++)e+=bs(t[i].color,1);return e/=n,e<uf}return!1}var WD=function(){function r(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new aD,o=n.renderer||"canvas";ls[o]||(o=kt(ls)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new ls[o](e,a,n,t),u=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var l=!Nt.node&&!Nt.worker&&!u?new LD(s.getViewportRoot(),s.root):null,h=n.useCoarsePointer,f=h==null||h==="auto"?Nt.touchEventsSupported:!!h,c=44,v;f&&(v=bt(n.pointerSize,c)),this.handler=new tD(a,s,l,s.root,v),this.animation=new AD({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return r.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},r.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=UD(t)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(t){var e,n=yi();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=yi();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},r.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},r.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},r.prototype.off=function(t,e){this.handler.off(t,e)},r.prototype.trigger=function(t,e){this.handler.trigger(t,e)},r.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof ye&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,GD(this.id)},r}();function iv(r,t){var e=new WD(T0(),r,t);return ng[e.id]=e,e}function qD(r,t){ls[r]=t}var av=1e-4,ig=20;function YD(r){return r.replace(/^\s+|\s+$/g,"")}function Tn(r,t,e,n){var i=t[0],a=t[1],o=e[0],s=e[1],u=a-i,l=s-o;if(u===0)return l===0?o:(o+s)/2;if(n)if(u>0){if(r<=i)return o;if(r>=a)return s}else{if(r>=i)return o;if(r<=a)return s}else{if(r===i)return o;if(r===a)return s}return(r-i)/u*l+o}function Le(r,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return lt(r)?YD(r).match(/%$/)?parseFloat(r)/100*t:parseFloat(r):r==null?NaN:+r}function Me(r,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),ig),r=(+r).toFixed(t),e?r:+r}function ZD(r){return r.sort(function(t,e){return t-e}),r}function za(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(r*t)/t===r)return e}return HD(r)}function HD(r){var t=r.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function ag(r,t){var e=Math.log,n=Math.LN10,i=Math.floor(e(r[1]-r[0])/n),a=Math.round(e(Math.abs(t[1]-t[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function XD(r,t){var e=Math.max(za(r),za(t)),n=r+t;return e>ig?n:Me(n,e)}function og(r){var t=Math.PI*2;return(r%t+t)%t}function Ms(r){return r>-av&&r<av}var jD=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function tn(r){if(r instanceof Date)return r;if(lt(r)){var t=jD.exec(r);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function KD(r){return Math.pow(10,Ch(r))}function Ch(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function sg(r,t){var e=Ch(r),n=Math.pow(10,e),i=r/n,a;return t?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,r=a*n,e>=-20?+r.toFixed(e<0?-e:0):r}function QD(r){var t=parseFloat(r);return t==r&&(t!==0||!lt(r)||r.indexOf("x")<=0)?t:NaN}function JD(r){return!isNaN(QD(r))}function tS(){return Math.round(Math.random()*9)}function ug(r,t){return t===0?r:ug(t,r%t)}function ov(r,t){return r==null?t:t==null?r:r*t/ug(r,t)}function Pe(r){throw new Error(r)}var lg="series\0",fg="\0_ec_\0";function me(r){return r instanceof Array?r:r==null?[]:[r]}function sv(r,t,e){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var n=0,i=e.length;n<i;n++){var a=e[n];!r.emphasis[t].hasOwnProperty(a)&&r[t].hasOwnProperty(a)&&(r.emphasis[t][a]=r[t][a])}}}var uv=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function oo(r){return ot(r)&&!st(r)&&!(r instanceof Date)?r.value:r}function eS(r){return ot(r)&&!(r instanceof Array)}function rS(r,t,e){var n=e==="normalMerge",i=e==="replaceMerge",a=e==="replaceAll";r=r||[],t=(t||[]).slice();var o=ft();I(t,function(u,l){if(!ot(u)){t[l]=null;return}});var s=nS(r,o,e);return(n||i)&&iS(s,r,o,t),n&&aS(s,t),n||i?oS(s,t,i):a&&sS(s,t),uS(s),s}function nS(r,t,e){var n=[];if(e==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:e==="replaceMerge"||Va(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function iS(r,t,e,n){I(n,function(i,a){if(!(!i||i.id==null)){var o=Ea(i.id),s=e.get(o);if(s!=null){var u=r[s];Nr(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=t[s],n[a]=null}}})}function aS(r,t){I(t,function(e,n){if(!(!e||e.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||e.id==null)&&!Va(e)&&!Va(a)&&hg("name",a,e)){r[i].newOption=e,t[n]=null;return}}})}function oS(r,t,e){I(t,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||Va(i.existing)||i.existing&&n.id!=null&&!hg("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=e):r.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function sS(r,t){I(t,function(e){r.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function uS(r){var t=ft();I(r,function(e){var n=e.existing;n&&t.set(n.id,e)}),I(r,function(e){var n=e.newOption;Nr(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),I(r,function(e,n){var i=e.existing,a=e.newOption,o=e.keyInfo;if(ot(a)){if(o.name=a.name!=null?Ea(a.name):i?i.name:lg+n,i)o.id=Ea(i.id);else if(a.id!=null)o.id=Ea(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,e)}})}function hg(r,t,e){var n=wr(t[r],null),i=wr(e[r],null);return n!=null&&i!=null&&n===i}function Ea(r){return wr(r,"")}function wr(r,t){return r==null?t:lt(r)?r:Jt(r)||mw(r)?r+"":t}function bh(r){var t=r.name;return!!(t&&t.indexOf(lg))}function Va(r){return r&&r.id!=null&&Ea(r.id).indexOf(fg)===0}function lS(r){return fg+r}function fS(r,t,e){I(r,function(n){var i=n.newOption;ot(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=hS(t,i,n.existing,e))})}function hS(r,t,e,n){var i=t.type?t.type:e?e.subType:n.determineSubType(r,t);return i}function Xs(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return st(t.dataIndex)?nt(t.dataIndex,function(e){return r.indexOfRawIndex(e)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return st(t.name)?nt(t.name,function(e){return r.indexOfName(e)}):r.indexOfName(t.name)}function ae(){var r="__ec_inner_"+cS++;return function(t){return t[r]||(t[r]={})}}var cS=tS();function xa(r,t,e){var n=cg(t,e),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,u=e?e.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(l,h){var f=js(r,h,l,{useDefault:u===h,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});s[h+"Models"]=f.models,s[h+"Model"]=f.models[0]}),s}function cg(r,t){var e;if(lt(r)){var n={};n[r+"Index"]=0,e=n}else e=r;var i=ft(),a={},o=!1;return I(e,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=s;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],h=l[1],f=(l[2]||"").toLowerCase();if(!(!h||!f||t&&t.includeMainTypes&&Ct(t.includeMainTypes,h)<0)){o=o||!!h;var c=i.get(h)||i.set(h,{});c[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var ge={useDefault:!0,enableAll:!1,enableNone:!1},vS={useDefault:!1,enableAll:!0,enableNone:!0};function js(r,t,e,n){n=n||ge;var i=e.index,a=e.id,o=e.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=r.getComponent(t))?[u]:[],s}return i==="none"||i===!1?(Nr(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Nr(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=r.queryComponents({mainType:t,index:i,id:a,name:o}),s)}function vg(r,t,e){r.setAttribute?r.setAttribute(t,e):r[t]=e}function pS(r,t){return r.getAttribute?r.getAttribute(t):r[t]}var dS=".",vn="___EC__COMPONENT__CONTAINER___",pg="___EC__EXTENDED_CLASS___";function _r(r){var t={main:"",sub:""};if(r){var e=r.split(dS);t.main=e[0]||"",t.sub=e[1]||""}return t}function gS(r){Nr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function mS(r){return!!(r&&r[pg])}function Ah(r,t){r.$constructor=r,r.extend=function(e){var n=this,i;return yS(n)?i=function(a){Q(o,a);function o(){return a.apply(this,arguments)||this}return o}(n):(i=function(){(e.$constructor||n).apply(this,arguments)},dw(i,this)),K(i.prototype,e),i[pg]=!0,i.extend=this.extend,i.superCall=DS,i.superApply=SS,i.superClass=n,i}}function yS(r){return _t(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function dg(r,t){r.extend=t.extend}var _S=Math.round(Math.random()*10);function wS(r){var t=["__\0is_clz",_S++].join("_");r.prototype[t]=!0,r.isInstance=function(e){return!!(e&&e[t])}}function DS(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(r,e)}function SS(r,t,e){return this.superClass.prototype[t].apply(r,e)}function Ks(r){var t={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){gS(i),n.prototype.type=i;var a=_r(i);if(!a.sub)t[a.main]=n;else if(a.sub!==vn){var o=e(a);o[a.sub]=n}}return n},r.getClass=function(n,i,a){var o=t[n];if(o&&o[vn]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},r.getClassesByMainType=function(n){var i=_r(n),a=[],o=t[i.main];return o&&o[vn]?I(o,function(s,u){u!==vn&&a.push(s)}):a.push(o),a},r.hasClass=function(n){var i=_r(n);return!!t[i.main]},r.getAllClassMainTypes=function(){var n=[];return I(t,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=_r(n),a=t[i.main];return a&&a[vn]};function e(n){var i=t[n.main];return(!i||!i[vn])&&(i=t[n.main]={},i[vn]=!0),i}}function $a(r,t){for(var e=0;e<r.length;e++)r[e][1]||(r[e][1]=r[e][0]);return t=t||!1,function(n,i,a){for(var o={},s=0;s<r.length;s++){var u=r[s][1];if(!(i&&Ct(i,u)>=0||a&&Ct(a,u)<0)){var l=n.getShallow(u,t);l!=null&&(o[r[s][0]]=l)}}return o}}var CS=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],bS=$a(CS),AS=function(){function r(){}return r.prototype.getAreaStyle=function(t,e){return bS(this,t,e)},r}(),hf=new ao(50);function MS(r){if(typeof r=="string"){var t=hf.get(r);return t&&t.image}else return r}function gg(r,t,e,n,i){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!e)return t;var a=hf.get(r),o={hostEl:e,cb:n,cbPayload:i};return a?(t=a.image,!Qs(t)&&a.pending.push(o)):(t=Ui.loadImage(r,lv,lv),t.__zrImageSrc=r,hf.put(r,t.__cachedImgObj={image:t,pending:[o]})),t}else return r;else return t}function lv(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var e=r.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}r.pending.length=0}function Qs(r){return r&&r.width&&r.height}var tl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function ES(r,t,e,n,i){if(!t)return"";var a=(r+"").split(`
`);i=mg(t,e,n,i);for(var o=0,s=a.length;o<s;o++)a[o]=yg(a[o],i);return a.join(`
`)}function mg(r,t,e,n){n=n||{};var i=K({},n);i.font=t,e=bt(e,"..."),i.maxIterations=bt(n.maxIterations,2);var a=i.minChar=bt(n.minChar,0);i.cnCharWidth=Oe("",t);var o=i.ascCharWidth=Oe("a",t);i.placeholder=bt(n.placeholder,"");for(var s=r=Math.max(0,r-1),u=0;u<a&&s>=o;u++)s-=o;var l=Oe(e,t);return l>s&&(e="",l=0),s=r-l,i.ellipsis=e,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=r,i}function yg(r,t){var e=t.containerWidth,n=t.font,i=t.contentWidth;if(!e)return"";var a=Oe(r,n);if(a<=e)return r;for(var o=0;;o++){if(a<=i||o>=t.maxIterations){r+=t.ellipsis;break}var s=o===0?xS(r,i,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(r.length*i/a):0;r=r.substr(0,s),a=Oe(r,n)}return r===""&&(r=t.placeholder),r}function xS(r,t,e,n){for(var i=0,a=0,o=r.length;a<o&&i<t;a++){var s=r.charCodeAt(a);i+=0<=s&&s<=127?e:n}return a}function TS(r,t){r!=null&&(r+="");var e=t.overflow,n=t.padding,i=t.font,a=e==="truncate",o=Dh(i),s=bt(t.lineHeight,o),u=!!t.backgroundColor,l=t.lineOverflow==="truncate",h=t.width,f;h!=null&&(e==="break"||e==="breakAll")?f=r?_g(r,t.font,h,e==="breakAll",0).lines:[]:f=r?r.split(`
`):[];var c=f.length*s,v=bt(t.height,c);if(c>v&&l){var d=Math.floor(v/s);f=f.slice(0,d)}if(r&&a&&h!=null)for(var p=mg(h,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m=0;m<f.length;m++)f[m]=yg(f[m],p);for(var g=v,y=0,m=0;m<f.length;m++)y=Math.max(Oe(f[m],i),y);h==null&&(h=y);var _=y;return n&&(g+=n[0]+n[2],_+=n[1]+n[3],h+=n[1]+n[3]),u&&(_=h),{lines:f,height:v,outerWidth:_,outerHeight:g,lineHeight:s,calculatedLineHeight:o,contentWidth:y,contentHeight:c,width:h}}var FS=function(){function r(){}return r}(),fv=function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r}(),IS=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return r}();function BS(r,t){var e=new IS;if(r!=null&&(r+=""),!r)return e;for(var n=t.width,i=t.height,a=t.overflow,o=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,s=tl.lastIndex=0,u;(u=tl.exec(r))!=null;){var l=u.index;l>s&&el(e,r.substring(s,l),t,o),el(e,u[2],t,o,u[1]),s=tl.lastIndex}s<r.length&&el(e,r.substring(s,r.length),t,o);var h=[],f=0,c=0,v=t.padding,d=a==="truncate",p=t.lineOverflow==="truncate";function m(k,$,q){k.width=$,k.lineHeight=q,f+=q,c=Math.max(c,$)}t:for(var g=0;g<e.lines.length;g++){for(var y=e.lines[g],_=0,w=0,S=0;S<y.tokens.length;S++){var D=y.tokens[S],b=D.styleName&&t.rich[D.styleName]||{},M=D.textPadding=b.padding,E=M?M[1]+M[3]:0,C=D.font=b.font||t.font;D.contentHeight=Dh(C);var A=bt(b.height,D.contentHeight);if(D.innerHeight=A,M&&(A+=M[0]+M[2]),D.height=A,D.lineHeight=rs(b.lineHeight,t.lineHeight,A),D.align=b&&b.align||t.align,D.verticalAlign=b&&b.verticalAlign||"middle",p&&i!=null&&f+D.lineHeight>i){S>0?(y.tokens=y.tokens.slice(0,S),m(y,w,_),e.lines=e.lines.slice(0,g+1)):e.lines=e.lines.slice(0,g);break t}var x=b.width,F=x==null||x==="auto";if(typeof x=="string"&&x.charAt(x.length-1)==="%")D.percentWidth=x,h.push(D),D.contentWidth=Oe(D.text,C);else{if(F){var L=b.backgroundColor,N=L&&L.image;N&&(N=MS(N),Qs(N)&&(D.width=Math.max(D.width,N.width*A/N.height)))}var B=d&&n!=null?n-w:null;B!=null&&B<D.width?!F||B<E?(D.text="",D.width=D.contentWidth=0):(D.text=ES(D.text,B-E,C,t.ellipsis,{minChar:t.truncateMinChar}),D.width=D.contentWidth=Oe(D.text,C)):D.contentWidth=Oe(D.text,C)}D.width+=E,w+=D.width,b&&(_=Math.max(_,D.lineHeight))}m(y,w,_)}e.outerWidth=e.width=bt(n,c),e.outerHeight=e.height=bt(i,f),e.contentHeight=f,e.contentWidth=c,v&&(e.outerWidth+=v[1]+v[3],e.outerHeight+=v[0]+v[2]);for(var g=0;g<h.length;g++){var D=h[g],G=D.percentWidth;D.width=parseInt(G,10)/100*e.width}return e}function el(r,t,e,n,i){var a=t==="",o=i&&e.rich[i]||{},s=r.lines,u=o.font||e.font,l=!1,h,f;if(n){var c=o.padding,v=c?c[1]+c[3]:0;if(o.width!=null&&o.width!=="auto"){var d=kn(o.width,n.width)+v;s.length>0&&d+n.accumWidth>n.width&&(h=t.split(`
`),l=!0),n.accumWidth=d}else{var p=_g(t,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=p.accumWidth+v,f=p.linesWidths,h=p.lines}}else h=t.split(`
`);for(var m=0;m<h.length;m++){var g=h[m],y=new FS;if(y.styleName=i,y.text=g,y.isLineHolder=!g&&!a,typeof o.width=="number"?y.width=o.width:y.width=f?f[m]:Oe(g,u),!m&&!l){var _=(s[s.length-1]||(s[0]=new fv)).tokens,w=_.length;w===1&&_[0].isLineHolder?_[0]=y:(g||!w||a)&&_.push(y)}else s.push(new fv([y]))}}function LS(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var PS=Wi(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function NS(r){return LS(r)?!!PS[r]:!0}function _g(r,t,e,n,i){for(var a=[],o=[],s="",u="",l=0,h=0,f=0;f<r.length;f++){var c=r.charAt(f);if(c===`
`){u&&(s+=u,h+=l),a.push(s),o.push(h),s="",u="",l=0,h=0;continue}var v=Oe(c,t),d=n?!1:!NS(c);if(a.length?h+v>e:i+h+v>e){h?(s||u)&&(d?(s||(s=u,u="",l=0,h=l),a.push(s),o.push(h-l),u+=c,l+=v,s="",h=l):(u&&(s+=u,u="",l=0),a.push(s),o.push(h),s=c,h=v)):d?(a.push(u),o.push(l),u=c,l=v):(a.push(c),o.push(v));continue}h+=v,d?(u+=c,l+=v):(u&&(s+=u,u="",l=0),s+=c)}return!a.length&&!s&&(s=r,u="",l=0),u&&(s+=u),s&&(a.push(s),o.push(h)),a.length===1&&(h+=i),{accumWidth:h,lines:a,linesWidths:o}}var cf="__zr_style_"+Math.round(Math.random()*10),Ln={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Js={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ln[cf]=!0;var hv=["z","z2","invisible"],RS=["invisible"],OS=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype._init=function(e){for(var n=kt(e),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(e[a]):r.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&kS(this,e,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new At(0,0,0,0)),n?At.applyTransform(e,i,n):e.copy(i),(o||s||u)&&(e.width+=o*2+Math.abs(s),e.height+=o*2+Math.abs(u),e.x=Math.min(e.x,e.x+s-o),e.y=Math.min(e.y,e.y+u-o));var l=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-l),e.y=Math.floor(e.y-l),e.width=Math.ceil(e.width+1+l*2),e.height=Math.ceil(e.height+1+l*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new At(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?r.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:K(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=_a,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&_a)},t.prototype.styleUpdated=function(){this.__dirty&=~_a},t.prototype.createStyle=function(e){return Hs(Ln,e)},t.prototype.useStyle=function(e){e[cf]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[cf]},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,hv)},t.prototype._applyStateObj=function(e,n,i,a,o,s){r.prototype._applyStateObj.call(this,e,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.style?o?a?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(l,n.style)):u&&(l=i.style),l)if(o){var h=this.style;if(this.style=this.createStyle(u?{}:h),u)for(var f=kt(h),c=0;c<f.length;c++){var v=f[c];v in l&&(l[v]=l[v],this.style[v]=h[v])}for(var d=kt(l),c=0;c<d.length;c++){var v=d[c];this.style[v]=this.style[v]}this._transitionState(e,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);for(var p=this.__inHover?RS:hv,c=0;c<p.length;c++){var v=p[c];n&&n[v]!=null?this[v]=n[v]:u&&i[v]!=null&&(this[v]=i[v])}},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(e,n){return K(e,n),e},t.prototype.getAnimationStyleProps=function(){return Js},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Ne|_a}(),t}(eg),rl=new At(0,0,0,0),nl=new At(0,0,0,0);function kS(r,t,e){return rl.copy(r.getBoundingRect()),r.transform&&rl.applyTransform(r.transform),nl.width=t,nl.height=e,!rl.intersect(nl)}const tu=OS;var Xe=Math.min,je=Math.max,il=Math.sin,al=Math.cos,pn=Math.PI*2,bo=qi(),Ao=qi(),Mo=qi();function cv(r,t,e,n,i,a){i[0]=Xe(r,e),i[1]=Xe(t,n),a[0]=je(r,e),a[1]=je(t,n)}var vv=[],pv=[];function zS(r,t,e,n,i,a,o,s,u,l){var h=q0,f=pe,c=h(r,e,i,o,vv);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var v=0;v<c;v++){var d=f(r,e,i,o,vv[v]);u[0]=Xe(d,u[0]),l[0]=je(d,l[0])}c=h(t,n,a,s,pv);for(var v=0;v<c;v++){var p=f(t,n,a,s,pv[v]);u[1]=Xe(p,u[1]),l[1]=je(p,l[1])}u[0]=Xe(r,u[0]),l[0]=je(r,l[0]),u[0]=Xe(o,u[0]),l[0]=je(o,l[0]),u[1]=Xe(t,u[1]),l[1]=je(t,l[1]),u[1]=Xe(s,u[1]),l[1]=je(s,l[1])}function VS(r,t,e,n,i,a,o,s){var u=Y0,l=Ce,h=je(Xe(u(r,e,i),1),0),f=je(Xe(u(t,n,a),1),0),c=l(r,e,i,h),v=l(t,n,a,f);o[0]=Xe(r,i,c),o[1]=Xe(t,a,v),s[0]=je(r,i,c),s[1]=je(t,a,v)}function $S(r,t,e,n,i,a,o,s,u){var l=gi,h=mi,f=Math.abs(i-a);if(f%pn<1e-4&&f>1e-4){s[0]=r-e,s[1]=t-n,u[0]=r+e,u[1]=t+n;return}if(bo[0]=al(i)*e+r,bo[1]=il(i)*n+t,Ao[0]=al(a)*e+r,Ao[1]=il(a)*n+t,l(s,bo,Ao),h(u,bo,Ao),i=i%pn,i<0&&(i=i+pn),a=a%pn,a<0&&(a=a+pn),i>a&&!o?a+=pn:i<a&&o&&(i+=pn),o){var c=a;a=i,i=c}for(var v=0;v<a;v+=Math.PI/2)v>i&&(Mo[0]=al(v)*e+r,Mo[1]=il(v)*n+t,l(s,Mo,s),h(u,Mo,u))}var Et={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},dn=[],gn=[],pr=[],Vr=[],dr=[],gr=[],ol=Math.min,sl=Math.max,mn=Math.cos,yn=Math.sin,Er=Math.abs,vf=Math.PI,Yr=vf*2,ul=typeof Float32Array<"u",ia=[];function ll(r){var t=Math.round(r/vf*1e8)/1e8;return t%2*vf}function GS(r,t){var e=ll(r[0]);e<0&&(e+=Yr);var n=e-r[0],i=r[1];i+=n,!t&&i-e>=Yr?i=e+Yr:t&&e-i>=Yr?i=e-Yr:!t&&e>i?i=e+(Yr-ll(e-i)):t&&e<i&&(i=e-(Yr-ll(i-e))),r[0]=e,r[1]=i}var US=function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=Er(n/As/t)||0,this._uy=Er(n/As/e)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Et.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},r.prototype.lineTo=function(t,e){var n=Er(t-this._xi),i=Er(e-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Et.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){return this._drawPendingPt(),this.addData(Et.C,t,e,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,a,o),this._xi=a,this._yi=o,this},r.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(Et.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(t,e,n,i,a,o){this._drawPendingPt(),ia[0]=i,ia[1]=a,GS(ia,o),i=ia[0],a=ia[1];var s=a-i;return this.addData(Et.A,t,e,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,a,o),this._xi=mn(a)*n+t,this._yi=yn(a)*n+e,this},r.prototype.arcTo=function(t,e,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,a),this},r.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(Et.R,t,e,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(Et.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){var e=t.length;!(this.data&&this.data.length===e)&&ul&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},r.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,a=0;a<e;a++)n+=t[a].len();ul&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<e;a++)for(var o=t[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},r.prototype.addData=function(t,e,n,i,a,o,s,u,l){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var f=0;f<arguments.length;f++)h[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,ul&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){pr[0]=pr[1]=dr[0]=dr[1]=Number.MAX_VALUE,Vr[0]=Vr[1]=gr[0]=gr[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=t[o++],u=o===1;switch(u&&(e=t[o],n=t[o+1],i=e,a=n),s){case Et.M:e=i=t[o++],n=a=t[o++],dr[0]=i,dr[1]=a,gr[0]=i,gr[1]=a;break;case Et.L:cv(e,n,t[o],t[o+1],dr,gr),e=t[o++],n=t[o++];break;case Et.C:zS(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],dr,gr),e=t[o++],n=t[o++];break;case Et.Q:VS(e,n,t[o++],t[o++],t[o],t[o+1],dr,gr),e=t[o++],n=t[o++];break;case Et.A:var l=t[o++],h=t[o++],f=t[o++],c=t[o++],v=t[o++],d=t[o++]+v;o+=1;var p=!t[o++];u&&(i=mn(v)*f+l,a=yn(v)*c+h),$S(l,h,f,c,v,d,p,dr,gr),e=mn(d)*f+l,n=yn(d)*c+h;break;case Et.R:i=e=t[o++],a=n=t[o++];var m=t[o++],g=t[o++];cv(i,a,i+m,a+g,dr,gr);break;case Et.Z:e=i,n=a;break}gi(pr,pr,dr),mi(Vr,Vr,gr)}return o===0&&(pr[0]=pr[1]=Vr[0]=Vr[1]=0),new At(pr[0],pr[1],Vr[0]-pr[0],Vr[1]-pr[1])},r.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,h=0,f=0,c=0;c<e;){var v=t[c++],d=c===1;d&&(a=t[c],o=t[c+1],s=a,u=o);var p=-1;switch(v){case Et.M:a=s=t[c++],o=u=t[c++];break;case Et.L:{var m=t[c++],g=t[c++],y=m-a,_=g-o;(Er(y)>n||Er(_)>i||c===e-1)&&(p=Math.sqrt(y*y+_*_),a=m,o=g);break}case Et.C:{var w=t[c++],S=t[c++],m=t[c++],g=t[c++],D=t[c++],b=t[c++];p=sD(a,o,w,S,m,g,D,b,10),a=D,o=b;break}case Et.Q:{var w=t[c++],S=t[c++],m=t[c++],g=t[c++];p=fD(a,o,w,S,m,g,10),a=m,o=g;break}case Et.A:var M=t[c++],E=t[c++],C=t[c++],A=t[c++],x=t[c++],F=t[c++],L=F+x;c+=1,t[c++],d&&(s=mn(x)*C+M,u=yn(x)*A+E),p=sl(C,A)*ol(Yr,Math.abs(F)),a=mn(L)*C+M,o=yn(L)*A+E;break;case Et.R:{s=a=t[c++],u=o=t[c++];var N=t[c++],B=t[c++];p=N*2+B*2;break}case Et.Z:{var y=s-a,_=u-o;p=Math.sqrt(y*y+_*_),a=s,o=u;break}}p>=0&&(l[f++]=p,h+=p)}return this._pathLen=h,h},r.prototype.rebuildPath=function(t,e){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,u,l,h,f,c,v=e<1,d,p,m=0,g=0,y,_=0,w,S;if(!(v&&(this._pathSegLen||this._calculateLength(),d=this._pathSegLen,p=this._pathLen,y=e*p,!y)))t:for(var D=0;D<o;){var b=n[D++],M=D===1;switch(M&&(l=n[D],h=n[D+1],s=l,u=h),b!==Et.L&&_>0&&(t.lineTo(w,S),_=0),b){case Et.M:s=l=n[D++],u=h=n[D++],t.moveTo(l,h);break;case Et.L:{f=n[D++],c=n[D++];var E=Er(f-l),C=Er(c-h);if(E>i||C>a){if(v){var A=d[g++];if(m+A>y){var x=(y-m)/A;t.lineTo(l*(1-x)+f*x,h*(1-x)+c*x);break t}m+=A}t.lineTo(f,c),l=f,h=c,_=0}else{var F=E*E+C*C;F>_&&(w=f,S=c,_=F)}break}case Et.C:{var L=n[D++],N=n[D++],B=n[D++],G=n[D++],k=n[D++],$=n[D++];if(v){var A=d[g++];if(m+A>y){var x=(y-m)/A;Gc(l,L,B,k,x,dn),Gc(h,N,G,$,x,gn),t.bezierCurveTo(dn[1],gn[1],dn[2],gn[2],dn[3],gn[3]);break t}m+=A}t.bezierCurveTo(L,N,B,G,k,$),l=k,h=$;break}case Et.Q:{var L=n[D++],N=n[D++],B=n[D++],G=n[D++];if(v){var A=d[g++];if(m+A>y){var x=(y-m)/A;Uc(l,L,B,x,dn),Uc(h,N,G,x,gn),t.quadraticCurveTo(dn[1],gn[1],dn[2],gn[2]);break t}m+=A}t.quadraticCurveTo(L,N,B,G),l=B,h=G;break}case Et.A:var q=n[D++],et=n[D++],it=n[D++],Z=n[D++],at=n[D++],vt=n[D++],mt=n[D++],rt=!n[D++],Wt=it>Z?it:Z,St=Er(it-Z)>.001,dt=at+vt,jt=!1;if(v){var A=d[g++];m+A>y&&(dt=at+vt*(y-m)/A,jt=!0),m+=A}if(St&&t.ellipse?t.ellipse(q,et,it,Z,mt,at,dt,rt):t.arc(q,et,Wt,at,dt,rt),jt)break t;M&&(s=mn(at)*it+q,u=yn(at)*Z+et),l=mn(dt)*it+q,h=yn(dt)*Z+et;break;case Et.R:s=l=n[D],u=h=n[D+1],f=n[D++],c=n[D++];var Tt=n[D++],yt=n[D++];if(v){var A=d[g++];if(m+A>y){var Dt=y-m;t.moveTo(f,c),t.lineTo(f+ol(Dt,Tt),c),Dt-=Tt,Dt>0&&t.lineTo(f+Tt,c+ol(Dt,yt)),Dt-=yt,Dt>0&&t.lineTo(f+sl(Tt-Dt,0),c+yt),Dt-=Tt,Dt>0&&t.lineTo(f,c+sl(yt-Dt,0));break t}m+=A}t.rect(f,c,Tt,yt);break;case Et.Z:if(v){var A=d[g++];if(m+A>y){var x=(y-m)/A;t.lineTo(l*(1-x)+s*x,h*(1-x)+u*x);break t}m+=A}t.closePath(),l=s,h=u}}},r.prototype.clone=function(){var t=new r,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},r.CMD=Et,r.initDefaultProps=function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),r}();const Bi=US;function Jn(r,t,e,n,i,a,o){if(i===0)return!1;var s=i,u=0,l=r;if(o>t+s&&o>n+s||o<t-s&&o<n-s||a>r+s&&a>e+s||a<r-s&&a<e-s)return!1;if(r!==e)u=(t-n)/(r-e),l=(r*n-e*t)/(r-e);else return Math.abs(a-r)<=s/2;var h=u*a-o+l,f=h*h/(u*u+1);return f<=s/2*s/2}function WS(r,t,e,n,i,a,o,s,u,l,h){if(u===0)return!1;var f=u;if(h>t+f&&h>n+f&&h>a+f&&h>s+f||h<t-f&&h<n-f&&h<a-f&&h<s-f||l>r+f&&l>e+f&&l>i+f&&l>o+f||l<r-f&&l<e-f&&l<i-f&&l<o-f)return!1;var c=oD(r,t,e,n,i,a,o,s,l,h,null);return c<=f/2}function qS(r,t,e,n,i,a,o,s,u){if(o===0)return!1;var l=o;if(u>t+l&&u>n+l&&u>a+l||u<t-l&&u<n-l&&u<a-l||s>r+l&&s>e+l&&s>i+l||s<r-l&&s<e-l&&s<i-l)return!1;var h=lD(r,t,e,n,i,a,s,u,null);return h<=l/2}var dv=Math.PI*2;function Eo(r){return r%=dv,r<0&&(r+=dv),r}var aa=Math.PI*2;function YS(r,t,e,n,i,a,o,s,u){if(o===0)return!1;var l=o;s-=r,u-=t;var h=Math.sqrt(s*s+u*u);if(h-l>e||h+l<e)return!1;if(Math.abs(n-i)%aa<1e-4)return!0;if(a){var f=n;n=Eo(i),i=Eo(f)}else n=Eo(n),i=Eo(i);n>i&&(i+=aa);var c=Math.atan2(u,s);return c<0&&(c+=aa),c>=n&&c<=i||c+aa>=n&&c+aa<=i}function _n(r,t,e,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var o=(a-t)/(n-t),s=n<t?1:-1;(o===1||o===0)&&(s=n<t?.5:-.5);var u=o*(e-r)+r;return u===i?1/0:u>i?s:0}var $r=Bi.CMD,wn=Math.PI*2,ZS=1e-4;function HS(r,t){return Math.abs(r-t)<ZS}var de=[-1,-1,-1],Ze=[-1,-1];function XS(){var r=Ze[0];Ze[0]=Ze[1],Ze[1]=r}function jS(r,t,e,n,i,a,o,s,u,l){if(l>t&&l>n&&l>a&&l>s||l<t&&l<n&&l<a&&l<s)return 0;var h=W0(t,n,a,s,l,de);if(h===0)return 0;for(var f=0,c=-1,v=void 0,d=void 0,p=0;p<h;p++){var m=de[p],g=m===0||m===1?.5:1,y=pe(r,e,i,o,m);y<u||(c<0&&(c=q0(t,n,a,s,Ze),Ze[1]<Ze[0]&&c>1&&XS(),v=pe(t,n,a,s,Ze[0]),c>1&&(d=pe(t,n,a,s,Ze[1]))),c===2?m<Ze[0]?f+=v<t?g:-g:m<Ze[1]?f+=d<v?g:-g:f+=s<d?g:-g:m<Ze[0]?f+=v<t?g:-g:f+=s<v?g:-g)}return f}function KS(r,t,e,n,i,a,o,s){if(s>t&&s>n&&s>a||s<t&&s<n&&s<a)return 0;var u=uD(t,n,a,s,de);if(u===0)return 0;var l=Y0(t,n,a);if(l>=0&&l<=1){for(var h=0,f=Ce(t,n,a,l),c=0;c<u;c++){var v=de[c]===0||de[c]===1?.5:1,d=Ce(r,e,i,de[c]);d<o||(de[c]<l?h+=f<t?v:-v:h+=a<f?v:-v)}return h}else{var v=de[0]===0||de[0]===1?.5:1,d=Ce(r,e,i,de[0]);return d<o?0:a<t?v:-v}}function QS(r,t,e,n,i,a,o,s){if(s-=t,s>e||s<-e)return 0;var u=Math.sqrt(e*e-s*s);de[0]=-u,de[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l>=wn-1e-4){n=0,i=wn;var h=a?1:-1;return o>=de[0]+r&&o<=de[1]+r?h:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=wn,i+=wn);for(var c=0,v=0;v<2;v++){var d=de[v];if(d+r>o){var p=Math.atan2(s,d),h=a?1:-1;p<0&&(p=wn+p),(p>=n&&p<=i||p+wn>=n&&p+wn<=i)&&(p>Math.PI/2&&p<Math.PI*1.5&&(h=-h),c+=h)}}return c}function wg(r,t,e,n,i){for(var a=r.data,o=r.len(),s=0,u=0,l=0,h=0,f=0,c,v,d=0;d<o;){var p=a[d++],m=d===1;switch(p===$r.M&&d>1&&(e||(s+=_n(u,l,h,f,n,i))),m&&(u=a[d],l=a[d+1],h=u,f=l),p){case $r.M:h=a[d++],f=a[d++],u=h,l=f;break;case $r.L:if(e){if(Jn(u,l,a[d],a[d+1],t,n,i))return!0}else s+=_n(u,l,a[d],a[d+1],n,i)||0;u=a[d++],l=a[d++];break;case $r.C:if(e){if(WS(u,l,a[d++],a[d++],a[d++],a[d++],a[d],a[d+1],t,n,i))return!0}else s+=jS(u,l,a[d++],a[d++],a[d++],a[d++],a[d],a[d+1],n,i)||0;u=a[d++],l=a[d++];break;case $r.Q:if(e){if(qS(u,l,a[d++],a[d++],a[d],a[d+1],t,n,i))return!0}else s+=KS(u,l,a[d++],a[d++],a[d],a[d+1],n,i)||0;u=a[d++],l=a[d++];break;case $r.A:var g=a[d++],y=a[d++],_=a[d++],w=a[d++],S=a[d++],D=a[d++];d+=1;var b=!!(1-a[d++]);c=Math.cos(S)*_+g,v=Math.sin(S)*w+y,m?(h=c,f=v):s+=_n(u,l,c,v,n,i);var M=(n-g)*w/_+g;if(e){if(YS(g,y,w,S,S+D,b,t,M,i))return!0}else s+=QS(g,y,w,S,S+D,b,M,i);u=Math.cos(S+D)*_+g,l=Math.sin(S+D)*w+y;break;case $r.R:h=u=a[d++],f=l=a[d++];var E=a[d++],C=a[d++];if(c=h+E,v=f+C,e){if(Jn(h,f,c,f,t,n,i)||Jn(c,f,c,v,t,n,i)||Jn(c,v,h,v,t,n,i)||Jn(h,v,h,f,t,n,i))return!0}else s+=_n(c,f,c,v,n,i),s+=_n(h,v,h,f,n,i);break;case $r.Z:if(e){if(Jn(u,l,h,f,t,n,i))return!0}else s+=_n(u,l,h,f,n,i);u=h,l=f;break}}return!e&&!HS(l,f)&&(s+=_n(u,l,h,f,n,i)||0),s!==0}function JS(r,t,e){return wg(r,0,!1,t,e)}function tC(r,t,e,n){return wg(r,t,!0,e,n)}var Dg=Mt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ln),eC={style:Mt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Js.style)},fl=ka.concat(["invisible","culling","z","z2","zlevel","parent"]),rC=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.update=function(){var e=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(u){e.buildPath(u,e.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<fl.length;++s)i[fl[s]]=this[fl[s]];i.__dirty|=Ne}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=kt(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=e[o];o==="style"?this.style?K(this.style,s):this.useStyle(s):o==="shape"?K(this.shape,s):r.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(lt(e)){var n=bs(e,0);return n>.5?lf:n>.2?PD:ff}else if(e)return ff}return lf},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if(lt(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=bs(e,0)<uf;if(a===o)return n}},t.prototype.buildPath=function(e,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~hi},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Bi(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&hi)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){s.copy(e);var u=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var h=this.strokeContainThreshold;l=Math.max(l,h??4)}u>1e-10&&(s.width+=l/u,s.height+=l/u,s.x-=l/u/2,s.y-=l/u/2)}return s}return e},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),o=this.style;if(e=i[0],n=i[1],a.contain(e,n)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),tC(s,u/l,e,n)))return!0}if(this.hasFill())return JS(s,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=hi,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):r.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var i=this.shape;return i||(i=this.shape={}),typeof e=="string"?i[e]=n:K(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&hi)},t.prototype.createStyle=function(e){return Hs(Dg,e)},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=K({},this.shape))},t.prototype._applyStateObj=function(e,n,i,a,o,s){r.prototype._applyStateObj.call(this,e,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.shape?o?a?l=n.shape:(l=K({},i.shape),K(l,n.shape)):(l=K({},a?this.shape:i.shape),K(l,n.shape)):u&&(l=i.shape),l)if(o){this.shape=K({},this.shape);for(var h={},f=kt(l),c=0;c<f.length;c++){var v=f[c];typeof l[v]=="object"?this.shape[v]=l[v]:h[v]=l[v]}this._transitionState(e,{shape:h},s)}else this.shape=l,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return eC},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(a){Q(o,a);function o(s){var u=a.call(this,s)||this;return e.init&&e.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return gt(e.style)},o.prototype.getDefaultShape=function(){return gt(e.shape)},o}(t);for(var i in e)typeof e[i]=="function"&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Ne|_a|hi}(),t}(tu);const ie=rC;var nC=Mt({strokeFirst:!0,font:On,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Dg),Sg=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return n!=null&&n!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return Hs(nC,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var n=e.text;n!=null?n+="":n="";var i=wh(n,e.font,e.textAlign,e.textBaseline);if(i.x+=e.x||0,i.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(tu);Sg.prototype.type="tspan";const pf=Sg;var iC=Mt({x:0,y:0},Ln),aC={style:Mt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Js.style)};function oC(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var Cg=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return Hs(iC,e)},t.prototype._getSize=function(e){var n=this.style,i=n[e];if(i!=null)return i;var a=oC(n.image)?n.image:this.__image;if(!a)return 0;var o=e==="width"?"height":"width",s=n[o];return s==null?a[e]:a[e]/a[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return aC},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new At(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(tu);Cg.prototype.type="image";const Yi=Cg;function sC(r,t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.r,s,u,l,h;i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=u=l=h=o:o instanceof Array?o.length===1?s=u=l=h=o[0]:o.length===2?(s=l=o[0],u=h=o[1]):o.length===3?(s=o[0],u=h=o[1],l=o[2]):(s=o[0],u=o[1],l=o[2],h=o[3]):s=u=l=h=0;var f;s+u>i&&(f=s+u,s*=i/f,u*=i/f),l+h>i&&(f=l+h,l*=i/f,h*=i/f),u+l>a&&(f=u+l,u*=a/f,l*=a/f),s+h>a&&(f=s+h,s*=a/f,h*=a/f),r.moveTo(e+s,n),r.lineTo(e+i-u,n),u!==0&&r.arc(e+i-u,n+u,u,-Math.PI/2,0),r.lineTo(e+i,n+a-l),l!==0&&r.arc(e+i-l,n+a-l,l,0,Math.PI/2),r.lineTo(e+h,n+a),h!==0&&r.arc(e+h,n+a-h,h,Math.PI/2,Math.PI),r.lineTo(e,n+s),s!==0&&r.arc(e+s,n+s,s,Math.PI,Math.PI*1.5)}var _i=Math.round;function bg(r,t,e){if(t){var n=t.x1,i=t.x2,a=t.y1,o=t.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=o;var s=e&&e.lineWidth;return s&&(_i(n*2)===_i(i*2)&&(r.x1=r.x2=wi(n,s,!0)),_i(a*2)===_i(o*2)&&(r.y1=r.y2=wi(a,s,!0))),r}}function uC(r,t,e){if(t){var n=t.x,i=t.y,a=t.width,o=t.height;r.x=n,r.y=i,r.width=a,r.height=o;var s=e&&e.lineWidth;return s&&(r.x=wi(n,s,!0),r.y=wi(i,s,!0),r.width=Math.max(wi(n+a,s,!1)-r.x,a===0?0:1),r.height=Math.max(wi(i+o,s,!1)-r.y,o===0?0:1)),r}}function wi(r,t,e){if(!t)return r;var n=_i(r*2);return(n+_i(t))%2===0?n/2:(n+(e?1:-1))/2}var lC=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),fC={},Ag=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new lC},t.prototype.buildPath=function(e,n){var i,a,o,s;if(this.subPixelOptimize){var u=uC(fC,n,this.style);i=u.x,a=u.y,o=u.width,s=u.height,u.r=n.r,n=u}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?sC(e,n):e.rect(i,a,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(ie);Ag.prototype.type="rect";const Ee=Ag;var gv={fill:"#000"},mv=2,hC={style:Mt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Js.style)},Mg=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=gv,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):r.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,gC(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new At(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],u=s.getBoundingRect(),l=s.getLocalTransform(i);l?(e.copy(u),e.applyTransform(l),a=a||e.clone(),a.union(e)):(a=a||u.clone(),a.union(u))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||gv},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var i=n.rich,a=e.rich||i&&{};return K(e,n),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var i=kt(n),a=0;a<i.length;a++){var o=i[a];e[o]=e[o]||{},K(e[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return hC},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||On,i=e.padding,a=bv(e),o=TS(a,e),s=hl(e),u=!!e.backgroundColor,l=o.outerHeight,h=o.outerWidth,f=o.contentWidth,c=o.lines,v=o.lineHeight,d=this._defaultStyle,p=e.x||0,m=e.y||0,g=e.align||d.align||"left",y=e.verticalAlign||d.verticalAlign||"top",_=p,w=ci(m,o.contentHeight,y);if(s||i){var S=Da(p,h,g),D=ci(m,l,y);s&&this._renderBackground(e,e,S,D,h,l)}w+=v/2,i&&(_=Cv(p,g,i),y==="top"?w+=i[0]:y==="bottom"&&(w-=i[2]));for(var b=0,M=!1,E=Sv("fill"in e?e.fill:(M=!0,d.fill)),C=Dv("stroke"in e?e.stroke:!u&&(!d.autoStroke||M)?(b=mv,d.stroke):null),A=e.textShadowBlur>0,x=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),F=o.calculatedLineHeight,L=0;L<c.length;L++){var N=this._getOrCreateChild(pf),B=N.createStyle();N.useStyle(B),B.text=c[L],B.x=_,B.y=w,g&&(B.textAlign=g),B.textBaseline="middle",B.opacity=e.opacity,B.strokeFirst=!0,A&&(B.shadowBlur=e.textShadowBlur||0,B.shadowColor=e.textShadowColor||"transparent",B.shadowOffsetX=e.textShadowOffsetX||0,B.shadowOffsetY=e.textShadowOffsetY||0),B.stroke=C,B.fill=E,C&&(B.lineWidth=e.lineWidth||b,B.lineDash=e.lineDash,B.lineDashOffset=e.lineDashOffset||0),B.font=n,_v(B,e),w+=v,x&&N.setBoundingRect(new At(Da(B.x,e.width,B.textAlign),ci(B.y,F,B.textBaseline),f,F))}},t.prototype._updateRichTexts=function(){var e=this.style,n=bv(e),i=BS(n,e),a=i.width,o=i.outerWidth,s=i.outerHeight,u=e.padding,l=e.x||0,h=e.y||0,f=this._defaultStyle,c=e.align||f.align,v=e.verticalAlign||f.verticalAlign,d=Da(l,o,c),p=ci(h,s,v),m=d,g=p;u&&(m+=u[3],g+=u[0]);var y=m+a;hl(e)&&this._renderBackground(e,e,d,p,o,s);for(var _=!!e.backgroundColor,w=0;w<i.lines.length;w++){for(var S=i.lines[w],D=S.tokens,b=D.length,M=S.lineHeight,E=S.width,C=0,A=m,x=y,F=b-1,L=void 0;C<b&&(L=D[C],!L.align||L.align==="left");)this._placeToken(L,e,M,g,A,"left",_),E-=L.width,A+=L.width,C++;for(;F>=0&&(L=D[F],L.align==="right");)this._placeToken(L,e,M,g,x,"right",_),E-=L.width,x-=L.width,F--;for(A+=(a-(A-m)-(y-x)-E)/2;C<=F;)L=D[C],this._placeToken(L,e,M,g,A+L.width/2,"center",_),A+=L.width,C++;g+=M}},t.prototype._placeToken=function(e,n,i,a,o,s,u){var l=n.rich[e.styleName]||{};l.text=e.text;var h=e.verticalAlign,f=a+i/2;h==="top"?f=a+e.height/2:h==="bottom"&&(f=a+i-e.height/2);var c=!e.isLineHolder&&hl(l);c&&this._renderBackground(l,n,s==="right"?o-e.width:s==="center"?o-e.width/2:o,f-e.height/2,e.width,e.height);var v=!!l.backgroundColor,d=e.textPadding;d&&(o=Cv(o,s,d),f-=e.height/2-d[0]-e.innerHeight/2);var p=this._getOrCreateChild(pf),m=p.createStyle();p.useStyle(m);var g=this._defaultStyle,y=!1,_=0,w=Sv("fill"in l?l.fill:"fill"in n?n.fill:(y=!0,g.fill)),S=Dv("stroke"in l?l.stroke:"stroke"in n?n.stroke:!v&&!u&&(!g.autoStroke||y)?(_=mv,g.stroke):null),D=l.textShadowBlur>0||n.textShadowBlur>0;m.text=e.text,m.x=o,m.y=f,D&&(m.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,m.shadowColor=l.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=e.font||On,m.opacity=rs(l.opacity,n.opacity,1),_v(m,l),S&&(m.lineWidth=rs(l.lineWidth,n.lineWidth,_),m.lineDash=bt(l.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=S),w&&(m.fill=w);var b=e.contentWidth,M=e.contentHeight;p.setBoundingRect(new At(Da(m.x,b,m.textAlign),ci(m.y,M,m.textBaseline),b,M))},t.prototype._renderBackground=function(e,n,i,a,o,s){var u=e.backgroundColor,l=e.borderWidth,h=e.borderColor,f=u&&u.image,c=u&&!f,v=e.borderRadius,d=this,p,m;if(c||e.lineHeight||l&&h){p=this._getOrCreateChild(Ee),p.useStyle(p.createStyle()),p.style.fill=null;var g=p.shape;g.x=i,g.y=a,g.width=o,g.height=s,g.r=v,p.dirtyShape()}if(c){var y=p.style;y.fill=u||null,y.fillOpacity=bt(e.fillOpacity,1)}else if(f){m=this._getOrCreateChild(Yi),m.onload=function(){d.dirtyStyle()};var _=m.style;_.image=u.image,_.x=i,_.y=a,_.width=o,_.height=s}if(l&&h){var y=p.style;y.lineWidth=l,y.stroke=h,y.strokeOpacity=bt(e.strokeOpacity,1),y.lineDash=e.borderDash,y.lineDashOffset=e.borderDashOffset||0,p.strokeContainThreshold=0,p.hasFill()&&p.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var w=(p||m).style;w.shadowBlur=e.shadowBlur||0,w.shadowColor=e.shadowColor||"transparent",w.shadowOffsetX=e.shadowOffsetX||0,w.shadowOffsetY=e.shadowOffsetY||0,w.opacity=rs(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return dC(e)&&(n=[e.fontStyle,e.fontWeight,pC(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&Hr(n)||e.textFont||e.font},t}(tu),cC={left:!0,right:1,center:1},vC={top:1,bottom:1,middle:1},yv=["fontStyle","fontWeight","fontSize","fontFamily"];function pC(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?lh+"px":r+"px"}function _v(r,t){for(var e=0;e<yv.length;e++){var n=yv[e],i=t[n];i!=null&&(r[n]=i)}}function dC(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function gC(r){return wv(r),I(r.rich,wv),r}function wv(r){if(r){r.font=Mg.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||cC[t]?t:"left";var e=r.verticalAlign;e==="center"&&(e="middle"),r.verticalAlign=e==null||vC[e]?e:"top";var n=r.padding;n&&(r.padding=F0(r.padding))}}function Dv(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function Sv(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function Cv(r,t,e){return t==="right"?r-e[1]:t==="center"?r+e[3]/2-e[1]/2:r+e[3]}function bv(r){var t=r.text;return t!=null&&(t+=""),t}function hl(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}const cr=Mg;var fe=ae(),mC=function(r,t,e,n){if(n){var i=fe(n);i.dataIndex=e,i.dataType=t,i.seriesIndex=r,n.type==="group"&&n.traverse(function(a){var o=fe(a);o.seriesIndex=r,o.dataIndex=e,o.dataType=t})}},Av=1,Mv={},Eg=ae(),Mh=ae(),xg=0,Eh=1,xh=2,en=["emphasis","blur","select"],Ev=["normal","emphasis","blur","select"],yC=10,_C=9,Pn="highlight",fs="downplay",Ta="select",hs="unselect",Fa="toggleSelect";function ti(r){return r!=null&&r!=="none"}var xv=new ao(100);function Tv(r){if(lt(r)){var t=xv.get(r);return t||(t=Zc(r,-.1),xv.put(r,t)),t}else if(Zs(r)){var e=K({},r);return e.colorStops=nt(r.colorStops,function(n){return{offset:n.offset,color:Zc(n.color,-.1)}}),e}return r}function eu(r,t,e){r.onHoverStateChange&&(r.hoverState||0)!==e&&r.onHoverStateChange(t),r.hoverState=e}function Tg(r){eu(r,"emphasis",xh)}function Fg(r){r.hoverState===xh&&eu(r,"normal",xg)}function Th(r){eu(r,"blur",Eh)}function Ig(r){r.hoverState===Eh&&eu(r,"normal",xg)}function wC(r){r.selected=!0}function DC(r){r.selected=!1}function Fv(r,t,e){t(r,e)}function Rr(r,t,e){Fv(r,t,e),r.isGroup&&r.traverse(function(n){Fv(n,t,e)})}function SC(r,t,e,n){for(var i=r.style,a={},o=0;o<t.length;o++){var s=t[o],u=i[s];a[s]=u??(n&&n[s])}for(var o=0;o<r.animators.length;o++){var l=r.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(e)<0&&l.targetName==="style"&&l.saveTo(a,t)}return a}function CC(r,t,e,n){var i=e&&Ct(e,"select")>=0,a=!1;if(r instanceof ie){var o=Eg(r),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(ti(s)||ti(u)){n=n||{};var l=n.style||{};l.fill==="inherit"?(a=!0,n=K({},n),l=K({},l),l.fill=s):!ti(l.fill)&&ti(s)?(a=!0,n=K({},n),l=K({},l),l.fill=Tv(s)):!ti(l.stroke)&&ti(u)&&(a||(n=K({},n),l=K({},l)),l.stroke=Tv(u)),n.style=l}}if(n&&n.z2==null){a||(n=K({},n));var h=r.z2EmphasisLift;n.z2=r.z2+(h??yC)}return n}function bC(r,t,e){if(e&&e.z2==null){e=K({},e);var n=r.z2SelectLift;e.z2=r.z2+(n??_C)}return e}function AC(r,t,e){var n=Ct(r.currentStates,t)>=0,i=r.style.opacity,a=n?null:SC(r,["opacity"],t,{opacity:1});e=e||{};var o=e.style||{};return o.opacity==null&&(e=K({},e),o=K({opacity:n?i:a.opacity*.1},o),e.style=o),e}function cl(r,t){var e=this.states[r];if(this.style){if(r==="emphasis")return CC(this,r,t,e);if(r==="blur")return AC(this,r,e);if(r==="select")return bC(this,r,e)}return e}function MC(r){r.stateProxy=cl;var t=r.getTextContent(),e=r.getTextGuideLine();t&&(t.stateProxy=cl),e&&(e.stateProxy=cl)}function Iv(r,t){!Ng(r,t)&&!r.__highByOuter&&Rr(r,Tg)}function Bv(r,t){!Ng(r,t)&&!r.__highByOuter&&Rr(r,Fg)}function Li(r,t){r.__highByOuter|=1<<(t||0),Rr(r,Tg)}function Pi(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&Rr(r,Fg)}function EC(r){Rr(r,Th)}function Bg(r){Rr(r,Ig)}function Lg(r){Rr(r,wC)}function Pg(r){Rr(r,DC)}function Ng(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function Rg(r){var t=r.getModel(),e=[],n=[];t.eachComponent(function(i,a){var o=Mh(a),s=i==="series",u=s?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(l){Ig(l)}),s&&e.push(a)),o.isBlured=!1}),I(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function df(r,t,e,n){var i=n.getModel();e=e||"coordinateSystem";function a(l,h){for(var f=0;f<h.length;f++){var c=l.getItemGraphicEl(h[f]);c&&Bg(c)}}if(r!=null&&!(!t||t==="none")){var o=i.getSeriesByIndex(r),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(l){var h=o===l,f=l.coordinateSystem;f&&f.master&&(f=f.master);var c=f&&s?f===s:h;if(!(e==="series"&&!h||e==="coordinateSystem"&&!c||t==="series"&&h)){var v=n.getViewOfSeriesModel(l);if(v.group.traverse(function(m){m.__highByOuter&&h&&t==="self"||Th(m)}),Te(t))a(l.getData(),t);else if(ot(t))for(var d=kt(t),p=0;p<d.length;p++)a(l.getData(d[p]),t[d[p]]);u.push(l),Mh(l).isBlured=!0}}),i.eachComponent(function(l,h){if(l!=="series"){var f=n.getViewOfComponentModel(h);f&&f.toggleBlurSeries&&f.toggleBlurSeries(u,!0,i)}})}}function gf(r,t,e){if(!(r==null||t==null)){var n=e.getModel().getComponent(r,t);if(n){Mh(n).isBlured=!0;var i=e.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){Th(a)})}}}function xC(r,t,e){var n=r.seriesIndex,i=r.getData(t.dataType);if(i){var a=Xs(i,t);a=(st(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),u=0;!o&&u<s;)o=i.getItemGraphicEl(u++);if(o){var l=fe(o);df(n,l.focus,l.blurScope,e)}else{var h=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);h!=null&&df(n,h,f,e)}}}function Fh(r,t,e,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||e==null)return i;var a=n.getModel().getComponent(r,t);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(e),u,l=0;l<s.length;l++)if(fe(s[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function TC(r,t,e){var n=fe(r),i=Fh(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=i.dispatchers,o=i.focusSelf;a?(o&&gf(n.componentMainType,n.componentIndex,e),I(a,function(s){return Iv(s,t)})):(df(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&gf(n.componentMainType,n.componentIndex,e),Iv(r,t))}function FC(r,t,e){Rg(e);var n=fe(r),i=Fh(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;i?I(i,function(a){return Bv(a,t)}):Bv(r,t)}function IC(r,t,e){if(_f(t)){var n=t.dataType,i=r.getData(n),a=Xs(i,t);st(a)||(a=[a]),r[t.type===Fa?"toggleSelect":t.type===Ta?"select":"unselect"](a,n)}}function Lv(r){var t=r.getAllData();I(t,function(e){var n=e.data,i=e.type;n.eachItemGraphicEl(function(a,o){r.isSelected(o,i)?Lg(a):Pg(a)})})}function BC(r){var t=[];return r.eachSeries(function(e){var n=e.getAllData();I(n,function(i){i.data;var a=i.type,o=e.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:e.seriesIndex};a!=null&&(s.dataType=a),t.push(s)}})}),t}function mf(r,t,e){Og(r,!0),Rr(r,MC),NC(r,t,e)}function LC(r){Og(r,!1)}function PC(r,t,e,n){n?LC(r):mf(r,t,e)}function NC(r,t,e){var n=fe(r);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}function Og(r,t){var e=t===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function yf(r){return!!(r&&r.__highDownDispatcher)}function RC(r){var t=Mv[r];return t==null&&Av<=32&&(t=Mv[r]=Av++),t}function _f(r){var t=r.type;return t===Ta||t===hs||t===Fa}function Pv(r){var t=r.type;return t===Pn||t===fs}function OC(r){var t=Eg(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var e=r.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var ei=Bi.CMD,kC=[[],[],[]],Nv=Math.sqrt,zC=Math.atan2;function VC(r,t){if(t){var e=r.data,n=r.len(),i,a,o,s,u,l,h=ei.M,f=ei.C,c=ei.L,v=ei.R,d=ei.A,p=ei.Q;for(o=0,s=0;o<n;){switch(i=e[o++],s=o,a=0,i){case h:a=1;break;case c:a=1;break;case f:a=3;break;case p:a=2;break;case d:var m=t[4],g=t[5],y=Nv(t[0]*t[0]+t[1]*t[1]),_=Nv(t[2]*t[2]+t[3]*t[3]),w=zC(-t[1]/_,t[0]/y);e[o]*=y,e[o++]+=m,e[o]*=_,e[o++]+=g,e[o++]*=y,e[o++]*=_,e[o++]+=w,e[o++]+=w,o+=2,s=o;break;case v:l[0]=e[o++],l[1]=e[o++],Qe(l,l,t),e[s++]=l[0],e[s++]=l[1],l[0]+=e[o++],l[1]+=e[o++],Qe(l,l,t),e[s++]=l[0],e[s++]=l[1]}for(u=0;u<a;u++){var S=kC[u];S[0]=e[o++],S[1]=e[o++],Qe(S,S,t),e[s++]=S[0],e[s++]=S[1]}}r.increaseVersion()}}var vl=Math.sqrt,xo=Math.sin,To=Math.cos,oa=Math.PI;function Rv(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function wf(r,t){return(r[0]*t[0]+r[1]*t[1])/(Rv(r)*Rv(t))}function Ov(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(wf(r,t))}function kv(r,t,e,n,i,a,o,s,u,l,h){var f=u*(oa/180),c=To(f)*(r-e)/2+xo(f)*(t-n)/2,v=-1*xo(f)*(r-e)/2+To(f)*(t-n)/2,d=c*c/(o*o)+v*v/(s*s);d>1&&(o*=vl(d),s*=vl(d));var p=(i===a?-1:1)*vl((o*o*(s*s)-o*o*(v*v)-s*s*(c*c))/(o*o*(v*v)+s*s*(c*c)))||0,m=p*o*v/s,g=p*-s*c/o,y=(r+e)/2+To(f)*m-xo(f)*g,_=(t+n)/2+xo(f)*m+To(f)*g,w=Ov([1,0],[(c-m)/o,(v-g)/s]),S=[(c-m)/o,(v-g)/s],D=[(-1*c-m)/o,(-1*v-g)/s],b=Ov(S,D);if(wf(S,D)<=-1&&(b=oa),wf(S,D)>=1&&(b=0),b<0){var M=Math.round(b/oa*1e6)/1e6;b=oa*2+M%2*oa}h.addData(l,y,_,o,s,w,b,f,a)}var $C=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,GC=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function UC(r){var t=new Bi;if(!r)return t;var e=0,n=0,i=e,a=n,o,s=Bi.CMD,u=r.match($C);if(!u)return t;for(var l=0;l<u.length;l++){for(var h=u[l],f=h.charAt(0),c=void 0,v=h.match(GC)||[],d=v.length,p=0;p<d;p++)v[p]=parseFloat(v[p]);for(var m=0;m<d;){var g=void 0,y=void 0,_=void 0,w=void 0,S=void 0,D=void 0,b=void 0,M=e,E=n,C=void 0,A=void 0;switch(f){case"l":e+=v[m++],n+=v[m++],c=s.L,t.addData(c,e,n);break;case"L":e=v[m++],n=v[m++],c=s.L,t.addData(c,e,n);break;case"m":e+=v[m++],n+=v[m++],c=s.M,t.addData(c,e,n),i=e,a=n,f="l";break;case"M":e=v[m++],n=v[m++],c=s.M,t.addData(c,e,n),i=e,a=n,f="L";break;case"h":e+=v[m++],c=s.L,t.addData(c,e,n);break;case"H":e=v[m++],c=s.L,t.addData(c,e,n);break;case"v":n+=v[m++],c=s.L,t.addData(c,e,n);break;case"V":n=v[m++],c=s.L,t.addData(c,e,n);break;case"C":c=s.C,t.addData(c,v[m++],v[m++],v[m++],v[m++],v[m++],v[m++]),e=v[m-2],n=v[m-1];break;case"c":c=s.C,t.addData(c,v[m++]+e,v[m++]+n,v[m++]+e,v[m++]+n,v[m++]+e,v[m++]+n),e+=v[m-2],n+=v[m-1];break;case"S":g=e,y=n,C=t.len(),A=t.data,o===s.C&&(g+=e-A[C-4],y+=n-A[C-3]),c=s.C,M=v[m++],E=v[m++],e=v[m++],n=v[m++],t.addData(c,g,y,M,E,e,n);break;case"s":g=e,y=n,C=t.len(),A=t.data,o===s.C&&(g+=e-A[C-4],y+=n-A[C-3]),c=s.C,M=e+v[m++],E=n+v[m++],e+=v[m++],n+=v[m++],t.addData(c,g,y,M,E,e,n);break;case"Q":M=v[m++],E=v[m++],e=v[m++],n=v[m++],c=s.Q,t.addData(c,M,E,e,n);break;case"q":M=v[m++]+e,E=v[m++]+n,e+=v[m++],n+=v[m++],c=s.Q,t.addData(c,M,E,e,n);break;case"T":g=e,y=n,C=t.len(),A=t.data,o===s.Q&&(g+=e-A[C-4],y+=n-A[C-3]),e=v[m++],n=v[m++],c=s.Q,t.addData(c,g,y,e,n);break;case"t":g=e,y=n,C=t.len(),A=t.data,o===s.Q&&(g+=e-A[C-4],y+=n-A[C-3]),e+=v[m++],n+=v[m++],c=s.Q,t.addData(c,g,y,e,n);break;case"A":_=v[m++],w=v[m++],S=v[m++],D=v[m++],b=v[m++],M=e,E=n,e=v[m++],n=v[m++],c=s.A,kv(M,E,e,n,D,b,_,w,S,c,t);break;case"a":_=v[m++],w=v[m++],S=v[m++],D=v[m++],b=v[m++],M=e,E=n,e+=v[m++],n+=v[m++],c=s.A,kv(M,E,e,n,D,b,_,w,S,c,t);break}}(f==="z"||f==="Z")&&(c=s.Z,t.addData(c),e=i,n=a),o=c}return t.toStatic(),t}var WC=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t}(ie);function qC(r){return r.setData!=null}function YC(r,t){var e=UC(r),n=K({},t);return n.buildPath=function(i){if(qC(i)){i.setData(e.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;e.rebuildPath(a,1)}},n.applyTransform=function(i){VC(e,i),this.dirtyShape()},n}function ZC(r,t){return new WC(YC(r,t))}var HC=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),kg=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new HC},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(ie);kg.prototype.type="circle";const XC=kg;function jC(r,t,e,n){var i=[],a=[],o=[],s=[],u,l,h,f;if(n){h=[1/0,1/0],f=[-1/0,-1/0];for(var c=0,v=r.length;c<v;c++)gi(h,h,r[c]),mi(f,f,r[c]);gi(h,h,n[0]),mi(f,f,n[1])}for(var c=0,v=r.length;c<v;c++){var d=r[c];if(e)u=r[c?c-1:v-1],l=r[(c+1)%v];else if(c===0||c===v-1){i.push(bw(r[c]));continue}else u=r[c-1],l=r[c+1];Aw(a,l,u),Pu(a,a,t);var p=jl(d,u),m=jl(d,l),g=p+m;g!==0&&(p/=g,m/=g),Pu(o,a,-p),Pu(s,a,m);var y=Fc([],d,o),_=Fc([],d,s);n&&(mi(y,y,h),gi(y,y,f),mi(_,_,h),gi(_,_,f)),i.push(y),i.push(_)}return e&&i.push(i.shift()),i}function zg(r,t,e){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=jC(i,n,e,t.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(e?o:o-1);s++){var u=a[s*2],l=a[s*2+1],h=i[(s+1)%o];r.bezierCurveTo(u[0],u[1],l[0],l[1],h[0],h[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)r.lineTo(i[s][0],i[s][1])}e&&r.closePath()}}var KC=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Vg=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new KC},t.prototype.buildPath=function(e,n){zg(e,n,!0)},t}(ie);Vg.prototype.type="polygon";const QC=Vg;var JC=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),$g=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new JC},t.prototype.buildPath=function(e,n){zg(e,n,!1)},t}(ie);$g.prototype.type="polyline";const tb=$g;var eb={},rb=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Gg=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rb},t.prototype.buildPath=function(e,n){var i,a,o,s;if(this.subPixelOptimize){var u=bg(eb,n,this.style);i=u.x1,a=u.y1,o=u.x2,s=u.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(e.moveTo(i,a),l<1&&(o=i*(1-l)+o*l,s=a*(1-l)+s*l),e.lineTo(o,s))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t}(ie);Gg.prototype.type="line";const Ga=Gg;var nb=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Ug=function(r){Q(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new nb},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,u=n.endAngle,l=n.clockwise,h=Math.cos(s),f=Math.sin(s);e.moveTo(h*o+i,f*o+a),e.arc(i,a,o,s,u,!l)},t}(ie);Ug.prototype.type="arc";const ib=Ug;var Dn=[0,0],Sn=[0,0],Fo=new Pt,Io=new Pt,ab=function(){function r(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Pt;for(var n=0;n<2;n++)this._axes[n]=new Pt;t&&this.fromBoundingRect(t,e)}return r.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,a=t.x,o=t.y,s=a+t.width,u=o+t.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,u),n[3].set(a,u),e)for(var l=0;l<4;l++)n[l].transform(e);Pt.sub(i[0],n[1],n[0]),Pt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},r.prototype.intersect=function(t,e){var n=!0,i=!e;return Fo.set(1/0,1/0),Io.set(0,0),!this._intersectCheckOneSide(this,t,Fo,Io,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,Fo,Io,i,-1)&&(n=!1,i)||i||Pt.copy(e,n?Fo:Io),n},r.prototype._intersectCheckOneSide=function(t,e,n,i,a,o){for(var s=!0,u=0;u<2;u++){var l=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,Dn),this._getProjMinMaxOnAxis(u,e._corners,Sn),Dn[1]<Sn[0]||Dn[0]>Sn[1]){if(s=!1,a)return s;var h=Math.abs(Sn[0]-Dn[1]),f=Math.abs(Dn[0]-Sn[1]);Math.min(h,f)>i.len()&&(h<f?Pt.scale(i,l,-h*o):Pt.scale(i,l,f*o))}else if(n){var h=Math.abs(Sn[0]-Dn[1]),f=Math.abs(Dn[0]-Sn[1]);Math.min(h,f)<n.len()&&(h<f?Pt.scale(n,l,h*o):Pt.scale(n,l,-f*o))}}return s},r.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],a=this._origin,o=e[0].dot(i)+a[t],s=o,u=o,l=1;l<e.length;l++){var h=e[l].dot(i)+a[t];s=Math.min(h,s),u=Math.max(h,u)}n[0]=s,n[1]=u},r}();const Df=ab;var ob=ae();function sb(r,t,e,n,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var s=t&&t.isAnimationEnabled(),u=r==="update";if(s){var l=void 0,h=void 0,f=void 0;n?(l=bt(n.duration,200),h=bt(n.easing,"cubicOut"),f=0):(l=t.getShallow(u?"animationDurationUpdate":"animationDuration"),h=t.getShallow(u?"animationEasingUpdate":"animationEasing"),f=t.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(h=a.easing),a.delay!=null&&(f=a.delay)),_t(f)&&(f=f(e,i)),_t(l)&&(l=l(e));var c={duration:l||0,delay:f,easing:h};return c}else return null}function Ih(r,t,e,n,i,a,o){var s=!1,u;_t(i)?(o=a,a=i,i=null):ot(i)&&(a=i.cb,o=i.during,s=i.isFrom,u=i.removeOpt,i=i.dataIndex);var l=r==="leave";l||t.stopAnimation("leave");var h=sb(r,n,i,l?u||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(h&&h.duration>0){var f=h.duration,c=h.delay,v=h.easing,d={duration:f,delay:c||0,easing:v,done:a,force:!!a||!!o,setToFinal:!l,scope:r,during:o};s?t.animateFrom(e,d):t.animateTo(e,d)}else t.stopAnimation(),!s&&t.attr(e),o&&o(1),a&&a()}function ru(r,t,e,n,i,a){Ih("update",r,t,e,n,i,a)}function ub(r,t,e,n,i,a){Ih("enter",r,t,e,n,i,a)}function cs(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var e=r.animators[t];if(e.scope==="leave")return!0}return!1}function zv(r,t,e,n,i,a){cs(r)||Ih("leave",r,t,e,n,i,a)}function lb(r){ob(r).oldStyle=r.style}var Vv=Math.max,$v=Math.min;function Wg(r,t,e,n){var i=ZC(r,t);return e&&(n==="center"&&(e=qg(e,i.getBoundingRect())),hb(i,e)),i}function fb(r,t,e){var n=new Yi({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(e==="center"){var a={width:i.width,height:i.height};n.setStyle(qg(t,a))}}});return n}function qg(r,t){var e=t.width/t.height,n=r.height*e,i;n<=r.width?i=r.height:(n=r.width,i=n/e);var a=r.x+r.width/2,o=r.y+r.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}function hb(r,t){if(r.applyTransform){var e=r.getBoundingRect(),n=e.calculateTransform(t);r.applyTransform(n)}}function Es(r,t){return bg(r,r,{lineWidth:t}),r}function Yg(r,t){for(var e=dh([]);r&&r!==t;)bi(e,r.getLocalTransform(),e),r=r.parent;return e}function cb(r,t,e){return t&&!Te(t)&&(t=_h.getLocalTransform(t)),e&&(t=gh([],t)),Qe([],r,t)}function vb(r,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=cb(a,t,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Gv(r){return!r.isGroup}function pb(r){return r.shape!=null}function db(r,t,e){if(!r||!t)return;function n(o){var s={};return o.traverse(function(u){Gv(u)&&u.anid&&(s[u.anid]=u)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return pb(o)&&(s.shape=K({},o.shape)),s}var a=n(r);t.traverse(function(o){if(Gv(o)&&o.anid){var s=a[o.anid];if(s){var u=i(o);o.attr(i(s)),ru(o,u,e,fe(o).dataIndex)}}})}function gb(r,t){return nt(r,function(e){var n=e[0];n=Vv(n,t.x),n=$v(n,t.x+t.width);var i=e[1];return i=Vv(i,t.y),i=$v(i,t.y+t.height),[n,i]})}function Zg(r,t,e){var n=K({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),Mt(i,e),new Yi(n)):Wg(r.replace("path://",""),n,e,"center")}function Bh(r){var t=r.itemTooltipOption,e=r.componentModel,n=r.itemName,i=lt(t)?{formatter:t}:t,a=e.mainType,o=e.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var u=r.formatterParamsExtra;u&&I(kt(u),function(h){Oa(s,h)||(s[h]=u[h],s.$vars.push(h))});var l=fe(r.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:n,option:Mt({content:n,formatterParams:s},i)}}function Uv(r,t){var e;r.isGroup&&(e=t(r)),e||r.traverse(t)}function Hg(r,t){if(r)if(st(r))for(var e=0;e<r.length;e++)Uv(r[e],t);else Uv(r,t)}var nu={};function mb(r,t){for(var e=0;e<en.length;e++){var n=en[e],i=t[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var o=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(o,!0)}function Wv(r,t,e){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,o=t.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),e!=null?{interpolatedValue:e}:null)),s==null&&(s=_t(r.defaultText)?r.defaultText(i,r,e):r.defaultText);for(var u={normal:s},l=0;l<en.length;l++){var h=en[l],f=t[h];u[h]=bt(n?n.getFormattedLabel(i,h,null,a,f&&f.get("formatter")):null,s)}return u}function Xg(r,t,e,n){e=e||nu;for(var i=r instanceof cr,a=!1,o=0;o<Ev.length;o++){var s=t[Ev[o]];if(s&&s.getShallow("show")){a=!0;break}}var u=i?r:r.getTextContent();if(a){i||(u||(u=new cr,r.setTextContent(u)),r.stateProxy&&(u.stateProxy=r.stateProxy));var l=Wv(e,t),h=t.normal,f=!!h.getShallow("show"),c=Ua(h,n&&n.normal,e,!1,!i);c.text=l.normal,i||r.setTextConfig(qv(h,e,!1));for(var o=0;o<en.length;o++){var v=en[o],s=t[v];if(s){var d=u.ensureState(v),p=!!bt(s.getShallow("show"),f);if(p!==f&&(d.ignore=!p),d.style=Ua(s,n&&n[v],e,!0,!i),d.style.text=l[v],!i){var m=r.ensureState(v);m.textConfig=qv(s,e,!0)}}}u.silent=!!h.getShallow("silent"),u.style.x!=null&&(c.x=u.style.x),u.style.y!=null&&(c.y=u.style.y),u.ignore=!f,u.useStyle(c),u.dirty(),e.enableTextSetter&&(Db(u).setLabelText=function(g){var y=Wv(e,t,g);mb(u,y)})}else u&&(u.ignore=!0);r.dirty()}function jg(r,t){t=t||"label";for(var e={normal:r.getModel(t)},n=0;n<en.length;n++){var i=en[n];e[i]=r.getModel([i,t])}return e}function Ua(r,t,e,n,i){var a={};return yb(a,r,e,n,i),t&&K(a,t),a}function qv(r,t,e){t=t||{};var n={},i,a=r.getShallow("rotate"),o=bt(r.getShallow("distance"),e?null:5),s=r.getShallow("offset");return i=r.getShallow("position")||(e?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",n}function yb(r,t,e,n,i){e=e||nu;var a=t.ecModel,o=a&&a.option.textStyle,s=_b(t),u;if(s){u={};for(var l in s)if(s.hasOwnProperty(l)){var h=t.getModel(["rich",l]);Xv(u[l]={},h,o,e,n,i,!1,!0)}}u&&(r.rich=u);var f=t.get("overflow");f&&(r.overflow=f);var c=t.get("minMargin");c!=null&&(r.margin=c),Xv(r,t,o,e,n,i,!0,!1)}function _b(r){for(var t;r&&r!==r.ecModel;){var e=(r.option||nu).rich;if(e){t=t||{};for(var n=kt(e),i=0;i<n.length;i++){var a=n[i];t[a]=1}}r=r.parentModel}return t}var Yv=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Zv=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Hv=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Xv(r,t,e,n,i,a,o,s){e=!i&&e||nu;var u=n&&n.inheritColor,l=t.getShallow("color"),h=t.getShallow("textBorderColor"),f=bt(t.getShallow("opacity"),e.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(h==="inherit"||h==="auto")&&(u?h=u:h=null),a||(l=l||e.color,h=h||e.textBorderColor),l!=null&&(r.fill=l),h!=null&&(r.stroke=h);var c=bt(t.getShallow("textBorderWidth"),e.textBorderWidth);c!=null&&(r.lineWidth=c);var v=bt(t.getShallow("textBorderType"),e.textBorderType);v!=null&&(r.lineDash=v);var d=bt(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);d!=null&&(r.lineDashOffset=d),!i&&f==null&&!s&&(f=n&&n.defaultOpacity),f!=null&&(r.opacity=f),!i&&!a&&r.fill==null&&n.inheritColor&&(r.fill=n.inheritColor);for(var p=0;p<Yv.length;p++){var m=Yv[p],g=bt(t.getShallow(m),e[m]);g!=null&&(r[m]=g)}for(var p=0;p<Zv.length;p++){var m=Zv[p],g=t.getShallow(m);g!=null&&(r[m]=g)}if(r.verticalAlign==null){var y=t.getShallow("baseline");y!=null&&(r.verticalAlign=y)}if(!o||!n.disableBox){for(var p=0;p<Hv.length;p++){var m=Hv[p],g=t.getShallow(m);g!=null&&(r[m]=g)}var _=t.getShallow("borderType");_!=null&&(r.borderDash=_),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&u&&(r.backgroundColor=u),(r.borderColor==="auto"||r.borderColor==="inherit")&&u&&(r.borderColor=u)}}function wb(r,t){var e=t&&t.getModel("textStyle");return Hr([r.fontStyle||e&&e.getShallow("fontStyle")||"",r.fontWeight||e&&e.getShallow("fontWeight")||"",(r.fontSize||e&&e.getShallow("fontSize")||12)+"px",r.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Db=ae(),Sb=["textStyle","color"],pl=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],dl=new cr,Cb=function(){function r(){}return r.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Sb):null)},r.prototype.getFont=function(){return wb({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<pl.length;n++)e[pl[n]]=this.getShallow(pl[n]);return dl.useStyle(e),dl.update(),dl.getBoundingRect()},r}();const bb=Cb;var Kg=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Ab=$a(Kg),Mb=function(){function r(){}return r.prototype.getLineStyle=function(t){return Ab(this,t)},r}(),Qg=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Eb=$a(Qg),xb=function(){function r(){}return r.prototype.getItemStyle=function(t,e){return Eb(this,t,e)},r}(),Un=function(){function r(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return r.prototype.init=function(t,e,n){},r.prototype.mergeOption=function(t,e){pt(this.option,t,!0)},r.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},r.prototype.getShallow=function(t,e){var n=this.option,i=n==null?n:n[t];if(i==null&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},r.prototype.getModel=function(t,e){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,e,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(gt(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!Nt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},r}();Ah(Un);wS(Un);Sr(Un,Mb);Sr(Un,xb);Sr(Un,AS);Sr(Un,bb);const Je=Un;var Tb=Math.round(Math.random()*10);function so(r){return[r||"",Tb++].join("_")}function Fb(r){var t={};r.registerSubTypeDefaulter=function(e,n){var i=_r(e);t[i.main]=n},r.determineSubType=function(e,n){var i=n.type;if(!i){var a=_r(e).main;r.hasSubTypes(e)&&t[a]&&(i=t[a](n))}return i}}function Ib(r,t){r.topologicalTravel=function(a,o,s,u){if(!a.length)return;var l=e(o),h=l.graph,f=l.noEntryList,c={};for(I(a,function(y){c[y]=!0});f.length;){var v=f.pop(),d=h[v],p=!!c[v];p&&(s.call(u,v,d.originalDeps.slice()),delete c[v]),I(d.successor,p?g:m)}I(c,function(){var y="";throw new Error(y)});function m(y){h[y].entryCount--,h[y].entryCount===0&&f.push(y)}function g(y){c[y]=!0,m(y)}};function e(a){var o={},s=[];return I(a,function(u){var l=n(o,u),h=l.originalDeps=t(u),f=i(h,a);l.entryCount=f.length,l.entryCount===0&&s.push(u),I(f,function(c){Ct(l.predecessor,c)<0&&l.predecessor.push(c);var v=n(o,c);Ct(v.successor,c)<0&&v.successor.push(u)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return I(a,function(u){Ct(o,u)>=0&&s.push(u)}),s}}function Bb(r,t){return pt(pt({},r,!0),t,!0)}const Lb={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Pb={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var xs="ZH",Lh="EN",Wa=Lh,vs={},Ph={},Jg=Nt.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(xs)>-1?xs:Wa}():Wa;function tm(r,t){r=r.toUpperCase(),Ph[r]=new Je(t),vs[r]=t}function Nb(r){if(lt(r)){var t=vs[r.toUpperCase()]||{};return r===xs||r===Lh?gt(t):pt(gt(t),gt(vs[Wa]),!1)}else return pt(gt(r),gt(vs[Wa]),!1)}function Rb(r){return Ph[r]}function Ob(){return Ph[Wa]}tm(Lh,Lb);tm(xs,Pb);var Nh=1e3,Rh=Nh*60,Ia=Rh*60,Ke=Ia*24,jv=Ke*365,Sa={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Bo="{yyyy}-{MM}-{dd}",Kv={year:"{yyyy}",month:"{yyyy}-{MM}",day:Bo,hour:Bo+" "+Sa.hour,minute:Bo+" "+Sa.minute,second:Bo+" "+Sa.second,millisecond:Sa.none},gl=["year","month","day","hour","minute","second","millisecond"],em=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Gr(r,t){return r+="","0000".substr(0,t-r.length)+r}function Mi(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function kb(r){return r===Mi(r)}function zb(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function rm(r,t,e,n){var i=tn(r),a=i[Oh(e)](),o=i[Ei(e)]()+1,s=Math.floor((o-1)/3)+1,u=i[iu(e)](),l=i["get"+(e?"UTC":"")+"Day"](),h=i[qa(e)](),f=(h-1)%12+1,c=i[au(e)](),v=i[ou(e)](),d=i[su(e)](),p=n instanceof Je?n:Rb(n||Jg)||Ob(),m=p.getModel("time"),g=m.get("month"),y=m.get("monthAbbr"),_=m.get("dayOfWeek"),w=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Gr(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,g[o-1]).replace(/{MMM}/g,y[o-1]).replace(/{MM}/g,Gr(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Gr(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,_[l]).replace(/{ee}/g,w[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Gr(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Gr(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Gr(c,2)).replace(/{m}/g,c+"").replace(/{ss}/g,Gr(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,Gr(d,3)).replace(/{S}/g,d+"")}function Vb(r,t,e,n,i){var a=null;if(lt(e))a=e;else if(_t(e))a=e(r.value,t,{level:r.level});else{var o=K({},Sa);if(r.level>0)for(var s=0;s<gl.length;++s)o[gl[s]]="{primary|"+o[gl[s]]+"}";var u=e?e.inherit===!1?e:Mt(e,o):o,l=nm(r.value,i);if(u[l])a=u[l];else if(u.inherit){for(var h=em.indexOf(l),s=h-1;s>=0;--s)if(u[l]){a=u[l];break}a=a||o.none}if(st(a)){var f=r.level==null?0:r.level>=0?r.level:a.length+r.level;f=Math.min(f,a.length-1),a=a[f]}}return rm(new Date(r.value),a,i,n)}function nm(r,t){var e=tn(r),n=e[Ei(t)]()+1,i=e[iu(t)](),a=e[qa(t)](),o=e[au(t)](),s=e[ou(t)](),u=e[su(t)](),l=u===0,h=l&&s===0,f=h&&o===0,c=f&&a===0,v=c&&i===1,d=v&&n===1;return d?"year":v?"month":c?"day":f?"hour":h?"minute":l?"second":"millisecond"}function Qv(r,t,e){var n=Jt(r)?tn(r):r;switch(t=t||nm(r,e),t){case"year":return n[Oh(e)]();case"half-year":return n[Ei(e)]()>=6?1:0;case"quarter":return Math.floor((n[Ei(e)]()+1)/4);case"month":return n[Ei(e)]();case"day":return n[iu(e)]();case"half-day":return n[qa(e)]()/24;case"hour":return n[qa(e)]();case"minute":return n[au(e)]();case"second":return n[ou(e)]();case"millisecond":return n[su(e)]()}}function Oh(r){return r?"getUTCFullYear":"getFullYear"}function Ei(r){return r?"getUTCMonth":"getMonth"}function iu(r){return r?"getUTCDate":"getDate"}function qa(r){return r?"getUTCHours":"getHours"}function au(r){return r?"getUTCMinutes":"getMinutes"}function ou(r){return r?"getUTCSeconds":"getSeconds"}function su(r){return r?"getUTCMilliseconds":"getMilliseconds"}function $b(r){return r?"setUTCFullYear":"setFullYear"}function im(r){return r?"setUTCMonth":"setMonth"}function am(r){return r?"setUTCDate":"setDate"}function om(r){return r?"setUTCHours":"setHours"}function sm(r){return r?"setUTCMinutes":"setMinutes"}function um(r){return r?"setUTCSeconds":"setSeconds"}function lm(r){return r?"setUTCMilliseconds":"setMilliseconds"}function Gb(r){if(!JD(r))return lt(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}var fm=F0,Jv=["a","b","c","d","e","f","g"],ml=function(r,t){return"{"+r+(t??"")+"}"};function Ub(r,t,e){st(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=Jv[a];r=r.replace(ml(o),ml(o,0))}for(var s=0;s<n;s++)for(var u=0;u<i.length;u++){var l=t[s][i[u]];r=r.replace(ml(Jv[u],s),e?Ow(l):l)}return r}function Wb(r,t){return t=t||"transparent",lt(r)?r:ot(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}var ps=I,qb=["left","right","top","bottom","width","height"],Lo=[["width","left","right"],["height","top","bottom"]];function kh(r,t,e,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;t.eachChild(function(u,l){var h=u.getBoundingRect(),f=t.childAt(l+1),c=f&&f.getBoundingRect(),v,d;if(r==="horizontal"){var p=h.width+(c?-c.x+h.x:0);v=a+p,v>n||u.newline?(a=0,v=p,o+=s+e,s=h.height):s=Math.max(s,h.height)}else{var m=h.height+(c?-c.y+h.y:0);d=o+m,d>i||u.newline?(a+=s+e,o=0,d=m,s=h.width):s=Math.max(s,h.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),r==="horizontal"?a=v+e:o=d+e)})}var xi=kh;Yt(kh,"vertical");Yt(kh,"horizontal");function Ya(r,t,e){e=fm(e||0);var n=t.width,i=t.height,a=Le(r.left,n),o=Le(r.top,i),s=Le(r.right,n),u=Le(r.bottom,i),l=Le(r.width,n),h=Le(r.height,i),f=e[2]+e[0],c=e[1]+e[3],v=r.aspect;switch(isNaN(l)&&(l=n-s-c-a),isNaN(h)&&(h=i-u-f-o),v!=null&&(isNaN(l)&&isNaN(h)&&(v>n/i?l=n*.8:h=i*.8),isNaN(l)&&(l=v*h),isNaN(h)&&(h=l/v)),isNaN(a)&&(a=n-s-l-c),isNaN(o)&&(o=i-u-h-f),r.left||r.right){case"center":a=n/2-l/2-e[3];break;case"right":a=n-l-c;break}switch(r.top||r.bottom){case"middle":case"center":o=i/2-h/2-e[0];break;case"bottom":o=i-h-f;break}a=a||0,o=o||0,isNaN(l)&&(l=n-c-a-(s||0)),isNaN(h)&&(h=i-f-o-(u||0));var d=new At(a+e[3],o+e[0],l,h);return d.margin=e,d}function Yb(r,t,e,n,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!o&&!s)return!1;var l;if(u==="raw")l=r.type==="group"?new At(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(l=r.getBoundingRect(),r.needLocalTransform()){var h=r.getLocalTransform();l=l.clone(),l.applyTransform(h)}var f=Ya(Mt({width:l.width,height:l.height},t),e,n),c=o?f.x-l.x:0,v=s?f.y-l.y:0;return u==="raw"?(a.x=c,a.y=v):(a.x+=c,a.y+=v),a===r&&r.markRedraw(),!0}function Za(r){var t=r.layoutMode||r.constructor.layoutMode;return ot(t)?t:t?{type:t}:null}function Ni(r,t,e){var n=e&&e.ignoreSize;!st(n)&&(n=[n,n]);var i=o(Lo[0],0),a=o(Lo[1],1);l(Lo[0],r,i),l(Lo[1],r,a);function o(h,f){var c={},v=0,d={},p=0,m=2;if(ps(h,function(_){d[_]=r[_]}),ps(h,function(_){s(t,_)&&(c[_]=d[_]=t[_]),u(c,_)&&v++,u(d,_)&&p++}),n[f])return u(t,h[1])?d[h[2]]=null:u(t,h[2])&&(d[h[1]]=null),d;if(p===m||!v)return d;if(v>=m)return c;for(var g=0;g<h.length;g++){var y=h[g];if(!s(c,y)&&s(r,y)){c[y]=r[y];break}}return c}function s(h,f){return h.hasOwnProperty(f)}function u(h,f){return h[f]!=null&&h[f]!=="auto"}function l(h,f,c){ps(h,function(v){f[v]=c[v]})}}function uu(r){return Zb({},r)}function Zb(r,t){return t&&r&&ps(qb,function(e){t.hasOwnProperty(e)&&(r[e]=t[e])}),r}var Hb=ae(),Zi=function(r){Q(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.uid=so("ec_cpt_model"),a}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=Za(this),a=i?uu(e):{},o=n.getTheme();pt(e,o.get(this.mainType)),pt(e,this.getDefaultOption()),i&&Ni(e,a,i)},t.prototype.mergeOption=function(e,n){pt(this.option,e,!0);var i=Za(this);i&&Ni(this.option,e,i)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!mS(e))return e.defaultOption;var n=Hb(this);if(!n.defaultOption){for(var i=[],a=e;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},u=i.length-1;u>=0;u--)s=pt(s,i[u],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var i=e+"Index",a=e+"Id";return js(this.ecModel,e,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(Je);dg(Zi,Je);Ks(Zi);Fb(Zi);Ib(Zi,Xb);function Xb(r){var t=[];return I(Zi.getClassesByMainType(r),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=nt(t,function(e){return _r(e).main}),r!=="dataset"&&Ct(t,"dataset")<=0&&t.unshift("dataset"),t}const $t=Zi;var hm="";typeof navigator<"u"&&(hm=navigator.platform||"");var ri="rgba(0, 0, 0, 0.2)";const jb={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ri,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ri,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ri,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ri,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ri,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ri,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:hm.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var cm=ft(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),tr="original",Fe="arrayRows",Cr="objectRows",Or="keyedColumns",Jr="typedArray",vm="unknown",Pr="column",Hi="row",Be={Must:1,Might:2,Not:3},pm=ae();function Kb(r){pm(r).datasetMap=ft()}function Qb(r,t,e){var n={},i=dm(t);if(!i||!r)return n;var a=[],o=[],s=t.ecModel,u=pm(s).datasetMap,l=i.uid+"_"+e.seriesLayoutBy,h,f;r=r.slice(),I(r,function(p,m){var g=ot(p)?p:r[m]={name:p};g.type==="ordinal"&&h==null&&(h=m,f=d(g)),n[g.name]=[]});var c=u.get(l)||u.set(l,{categoryWayDim:f,valueWayDim:0});I(r,function(p,m){var g=p.name,y=d(p);if(h==null){var _=c.valueWayDim;v(n[g],_,y),v(o,_,y),c.valueWayDim+=y}else if(h===m)v(n[g],0,y),v(a,0,y);else{var _=c.categoryWayDim;v(n[g],_,y),v(o,_,y),c.categoryWayDim+=y}});function v(p,m,g){for(var y=0;y<g;y++)p.push(m+y)}function d(p){var m=p.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function dm(r){var t=r.get("data",!0);if(!t)return js(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},ge).models[0]}function Jb(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:js(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},ge).models}function gm(r,t){return t2(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function t2(r,t,e,n,i,a){var o,s=5;if(ke(r))return Be.Not;var u,l;if(n){var h=n[a];ot(h)?(u=h.name,l=h.type):lt(h)&&(u=h)}if(l!=null)return l==="ordinal"?Be.Must:Be.Not;if(t===Fe){var f=r;if(e===Hi){for(var c=f[a],v=0;v<(c||[]).length&&v<s;v++)if((o=w(c[i+v]))!=null)return o}else for(var v=0;v<f.length&&v<s;v++){var d=f[i+v];if(d&&(o=w(d[a]))!=null)return o}}else if(t===Cr){var p=r;if(!u)return Be.Not;for(var v=0;v<p.length&&v<s;v++){var m=p[v];if(m&&(o=w(m[u]))!=null)return o}}else if(t===Or){var g=r;if(!u)return Be.Not;var c=g[u];if(!c||ke(c))return Be.Not;for(var v=0;v<c.length&&v<s;v++)if((o=w(c[v]))!=null)return o}else if(t===tr)for(var y=r,v=0;v<y.length&&v<s;v++){var m=y[v],_=oo(m);if(!st(_))return Be.Not;if((o=w(_[a]))!=null)return o}function w(S){var D=lt(S);if(S!=null&&isFinite(S)&&S!=="")return D?Be.Might:Be.Not;if(D&&S!=="-")return Be.Must}return Be.Not}var Sf=ft();function e2(r,t){Nr(Sf.get(r)==null&&t),Sf.set(r,t)}function r2(r,t,e){var n=Sf.get(t);if(!n)return e;var i=n(r);return i?e.concat(i):e}var tp=ae();ae();var zh=function(){function r(){}return r.prototype.getColorFromPalette=function(t,e,n){var i=me(this.get("color",!0)),a=this.get("colorLayer",!0);return i2(this,tp,i,a,t,e,n)},r.prototype.clearColorPalette=function(){a2(this,tp)},r}();function n2(r,t){for(var e=r.length,n=0;n<e;n++)if(r[n].length>t)return r[n];return r[e-1]}function i2(r,t,e,n,i,a,o){a=a||r;var s=t(a),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var h=o==null||!n?e:n2(n,o);if(h=h||e,!(!h||!h.length)){var f=h[u];return i&&(l[i]=f),s.paletteIdx=(u+1)%h.length,f}}function a2(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var Po,sa,ep,rp="\0_ec_inner",o2=1,mm=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e,n,i,a,o,s){a=a||{},this.option=null,this._theme=new Je(a),this._locale=new Je(o),this._optionManager=s},t.prototype.setOption=function(e,n,i){var a=ap(n);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,ap(n))},t.prototype._resetOption=function(e,n){var i=!1,a=this._optionManager;if(!e||e==="recreate"){var o=a.mountOption(e==="recreate");!this.option||e==="recreate"?ep(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!e||e==="recreate"||e==="media"){var u=a.getMediaOption(this);u.length&&I(u,function(l){i=!0,this._mergeOption(l,n)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=ft(),l=n&&n.replaceMergeMainTypeMap;Kb(this),I(e,function(f,c){f!=null&&($t.hasClass(c)?c&&(s.push(c),u.set(c,!0)):i[c]=i[c]==null?gt(f):pt(i[c],f,!0))}),l&&l.each(function(f,c){$t.hasClass(c)&&!u.get(c)&&(s.push(c),u.set(c,!0))}),$t.topologicalTravel(s,$t.getAllClassMainTypes(),h,this);function h(f){var c=r2(this,f,me(e[f])),v=a.get(f),d=v?l&&l.get(f)?"replaceMerge":"normalMerge":"replaceAll",p=rS(v,c,d);fS(p,f,$t),i[f]=null,a.set(f,null),o.set(f,0);var m=[],g=[],y=0,_;I(p,function(w,S){var D=w.existing,b=w.newOption;if(!b)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var M=f==="series",E=$t.getClass(f,w.keyInfo.subType,!M);if(!E)return;if(f==="tooltip"){if(_)return;_=!0}if(D&&D.constructor===E)D.name=w.keyInfo.name,D.mergeOption(b,this),D.optionUpdated(b,!1);else{var C=K({componentIndex:S},w.keyInfo);D=new E(b,this,this,C),K(D,C),w.brandNew&&(D.__requireNewView=!0),D.init(b,this,this),D.optionUpdated(null,!0)}}D?(m.push(D.option),g.push(D),y++):(m.push(void 0),g.push(void 0))},this),i[f]=m,a.set(f,g),o.set(f,y),f==="series"&&Po(this)}this._seriesIndices||Po(this)},t.prototype.getOption=function(){var e=gt(this.option);return I(e,function(n,i){if($t.hasClass(i)){for(var a=me(n),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!Va(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,e[i]=a}}),delete e[rp],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var i=this._componentsMap.get(e);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var i=e.index,a=e.id,o=e.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return i!=null?(u=[],I(me(i),function(l){s[l]&&u.push(s[l])})):a!=null?u=np("id",a,s):o!=null?u=np("name",o,s):u=le(s,function(l){return!!l}),ip(u,e)},t.prototype.findComponents=function(e){var n=e.query,i=e.mainType,a=s(n),o=a?this.queryComponents(a):le(this._componentsMap.get(i),function(l){return!!l});return u(ip(o,e));function s(l){var h=i+"Index",f=i+"Id",c=i+"Name";return l&&(l[h]!=null||l[f]!=null||l[c]!=null)?{mainType:i,index:l[h],id:l[f],name:l[c]}:null}function u(l){return e.filter?le(l,e.filter):l}},t.prototype.eachComponent=function(e,n,i){var a=this._componentsMap;if(_t(e)){var o=n,s=e;a.each(function(f,c){for(var v=0;f&&v<f.length;v++){var d=f[v];d&&s.call(o,c,d,d.componentIndex)}})}else for(var u=lt(e)?a.get(e):ot(e)?this.findComponents(e):null,l=0;u&&l<u.length;l++){var h=u[l];h&&n.call(i,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=wr(e,null);return le(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return le(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return le(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){sa(this),I(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(n,a,i)},this)},t.prototype.eachRawSeries=function(e,n){I(this._componentsMap.get("series"),function(i){i&&e.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,i){sa(this),I(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===e&&n.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,i){return I(this.getSeriesByType(e),n,i)},t.prototype.isSeriesFiltered=function(e){return sa(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){sa(this);var i=[];I(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];e.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=ft(i)},t.prototype.restoreData=function(e){Po(this);var n=this._componentsMap,i=[];n.each(function(a,o){$t.hasClass(o)&&i.push(o)}),$t.topologicalTravel(i,$t.getAllClassMainTypes(),function(a){I(n.get(a),function(o){o&&(a!=="series"||!s2(o,e))&&o.restoreData()})})},t.internalField=function(){Po=function(e){var n=e._seriesIndices=[];I(e._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),e._seriesIndicesMap=ft(n)},sa=function(e){},ep=function(e,n){e.option={},e.option[rp]=o2,e._componentsMap=ft({series:[]}),e._componentsCount=ft();var i=n.aria;ot(i)&&i.enabled==null&&(i.enabled=!0),u2(n,e._theme.option),pt(n,jb,!1),e._mergeOption(n,null)}}(),t}(Je);function s2(r,t){if(t){var e=t.seriesIndex,n=t.seriesId,i=t.seriesName;return e!=null&&r.componentIndex!==e||n!=null&&r.id!==n||i!=null&&r.name!==i}}function u2(r,t){var e=r.color&&!r.colorLayer;I(t,function(n,i){i==="colorLayer"&&e||$t.hasClass(i)||(typeof n=="object"?r[i]=r[i]?pt(r[i],n,!1):gt(n):r[i]==null&&(r[i]=n))})}function np(r,t,e){if(st(t)){var n=ft();return I(t,function(a){if(a!=null){var o=wr(a,null);o!=null&&n.set(a,!0)}}),le(e,function(a){return a&&n.get(a[r])})}else{var i=wr(t,null);return le(e,function(a){return a&&i!=null&&a[r]===i})}}function ip(r,t){return t.hasOwnProperty("subType")?le(r,function(e){return e&&e.subType===t.subType}):r}function ap(r){var t=ft();return r&&I(me(r.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Sr(mm,zh);const ym=mm;var l2=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],f2=function(){function r(t){I(l2,function(e){this[e]=Qt(t[e],t)},this)}return r}();const _m=f2;var yl={},h2=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(t,e){var n=[];I(yl,function(i,a){var o=i.create(t,e);n=n.concat(o||[])}),this._coordinateSystems=n},r.prototype.update=function(t,e){I(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(t,e){yl[t]=e},r.get=function(t){return yl[t]},r}();const Vh=h2;var c2=/^(min|max)?(.+)$/,v2=function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,e,n){t&&(I(me(t.series),function(o){o&&o.data&&ke(o.data)&&Xl(o.data)}),I(me(t.dataset),function(o){o&&o.source&&ke(o.source)&&Xl(o.source)})),t=gt(t);var i=this._optionBackup,a=p2(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],gt(t?e.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=gt(n[i.getCurrentIndex()]))}return e},r.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var u=0,l=i.length;u<l;u++)d2(i[u].query,e,n)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!m2(o,this._currentMediaIndices)&&(s=nt(o,function(h){return gt(h===-1?a.option:i[h].option)})),this._currentMediaIndices=o,s},r}();function p2(r,t,e){var n=[],i,a,o=r.baseOption,s=r.timeline,u=r.options,l=r.media,h=!!r.media,f=!!(u||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||h)&&(r.options=r.media=null),a=r),h&&st(l)&&I(l,function(v){v&&v.option&&(v.query?n.push(v):i||(i=v))}),c(a),I(u,function(v){return c(v)}),I(n,function(v){return c(v.option)});function c(v){I(t,function(d){d(v,e)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:n}}function d2(r,t,e){var n={width:t,height:e,aspectratio:t/e},i=!0;return I(r,function(a,o){var s=o.match(c2);if(!(!s||!s[1]||!s[2])){var u=s[1],l=s[2].toLowerCase();g2(n[l],a,u)||(i=!1)}}),i}function g2(r,t,e){return e==="min"?r>=t:e==="max"?r<=t:r===t}function m2(r,t){return r.join(",")===t.join(",")}const y2=v2;var ir=I,Ha=ot,op=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function _l(r){var t=r&&r.itemStyle;if(t)for(var e=0,n=op.length;e<n;e++){var i=op[e],a=t.normal,o=t.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?pt(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),o&&o[i]&&(r[i]=r[i]||{},r[i].emphasis?pt(r[i].emphasis,o[i]):r[i].emphasis=o[i],o[i]=null)}}function ue(r,t,e){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var n=r[t].normal,i=r[t].emphasis;n&&(e?(r[t].normal=r[t].emphasis=null,Mt(r[t],n)):r[t]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[t]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function Ca(r){ue(r,"itemStyle"),ue(r,"lineStyle"),ue(r,"areaStyle"),ue(r,"label"),ue(r,"labelLine"),ue(r,"upperLabel"),ue(r,"edgeLabel")}function qt(r,t){var e=Ha(r)&&r[t],n=Ha(e)&&e.textStyle;if(n)for(var i=0,a=uv.length;i<a;i++){var o=uv[i];n.hasOwnProperty(o)&&(e[o]=n[o])}}function We(r){r&&(Ca(r),qt(r,"label"),r.emphasis&&qt(r.emphasis,"label"))}function _2(r){if(Ha(r)){_l(r),Ca(r),qt(r,"label"),qt(r,"upperLabel"),qt(r,"edgeLabel"),r.emphasis&&(qt(r.emphasis,"label"),qt(r.emphasis,"upperLabel"),qt(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(_l(t),We(t));var e=r.markLine;e&&(_l(e),We(e));var n=r.markArea;n&&We(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!ke(a))for(var o=0;o<a.length;o++)We(a[o]);I(r.categories,function(l){Ca(l)})}if(i&&!ke(i))for(var o=0;o<i.length;o++)We(i[o]);if(t=r.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)We(s[o]);if(e=r.markLine,e&&e.data)for(var u=e.data,o=0;o<u.length;o++)st(u[o])?(We(u[o][0]),We(u[o][1])):We(u[o]);r.type==="gauge"?(qt(r,"axisLabel"),qt(r,"title"),qt(r,"detail")):r.type==="treemap"?(ue(r.breadcrumb,"itemStyle"),I(r.levels,function(l){Ca(l)})):r.type==="tree"&&Ca(r.leaves)}}function xr(r){return st(r)?r:r?[r]:[]}function sp(r){return(st(r)?r[0]:r)||{}}function w2(r,t){ir(xr(r.series),function(n){Ha(n)&&_2(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),ir(e,function(n){ir(xr(r[n]),function(i){i&&(qt(i,"axisLabel"),qt(i.axisPointer,"label"))})}),ir(xr(r.parallel),function(n){var i=n&&n.parallelAxisDefault;qt(i,"axisLabel"),qt(i&&i.axisPointer,"label")}),ir(xr(r.calendar),function(n){ue(n,"itemStyle"),qt(n,"dayLabel"),qt(n,"monthLabel"),qt(n,"yearLabel")}),ir(xr(r.radar),function(n){qt(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),ir(xr(r.geo),function(n){Ha(n)&&(We(n),ir(xr(n.regions),function(i){We(i)}))}),ir(xr(r.timeline),function(n){We(n),ue(n,"label"),ue(n,"itemStyle"),ue(n,"controlStyle",!0);var i=n.data;st(i)&&I(i,function(a){ot(a)&&(ue(a,"label"),ue(a,"itemStyle"))})}),ir(xr(r.toolbox),function(n){ue(n,"iconStyle"),ir(n.feature,function(i){ue(i,"iconStyle")})}),qt(sp(r.axisPointer),"label"),qt(sp(r.tooltip).axisPointer,"label")}function D2(r,t){for(var e=t.split(","),n=r,i=0;i<e.length&&(n=n&&n[e[i]],n!=null);i++);return n}function S2(r,t,e,n){for(var i=t.split(","),a=r,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];(n||a[i[s]]==null)&&(a[i[s]]=e)}function up(r){r&&I(C2,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var C2=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],b2=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],wl=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ua(r){var t=r&&r.itemStyle;if(t)for(var e=0;e<wl.length;e++){var n=wl[e][1],i=wl[e][0];t[n]!=null&&(t[i]=t[n])}}function lp(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function fp(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function A2(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function wm(r,t){if(r)for(var e=0;e<r.length;e++)t(r[e]),r[e]&&wm(r[e].children,t)}function Dm(r,t){w2(r,t),r.series=me(r.series),I(r.series,function(e){if(ot(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),lp(e.label);var i=e.data;if(i&&!ke(i))for(var a=0;a<i.length;a++)lp(i[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var o=D2(e,"pointer.color");o!=null&&S2(e,"itemStyle.color",o)}else if(n==="bar"){ua(e),ua(e.backgroundStyle),ua(e.emphasis);var i=e.data;if(i&&!ke(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(ua(i[a]),ua(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),fp(e),wm(e.data,fp)}else n==="graph"||n==="sankey"?A2(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Mt(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),up(e)}}),r.dataRange&&(r.visualMap=r.dataRange),I(b2,function(e){var n=r[e];n&&(st(n)||(n=[n]),I(n,function(i){up(i)}))})}function M2(r){var t=ft();r.eachSeries(function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=e.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),t.each(E2)}function E2(r){I(r,function(t,e){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,u=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(l,h,f){var c=o.get(t.stackedDimension,f);if(isNaN(c))return i;var v,d;s?d=o.getRawIndex(f):v=o.get(t.stackedByDimension,f);for(var p=NaN,m=e-1;m>=0;m--){var g=r[m];if(s||(d=g.data.rawIndexOf(g.stackedByDimension,v)),d>=0){var y=g.data.getByRawIndex(g.stackResultDimension,d);if(u==="all"||u==="positive"&&y>0||u==="negative"&&y<0||u==="samesign"&&c>=0&&y>0||u==="samesign"&&c<=0&&y<0){c=XD(c,y),p=y;break}}}return n[0]=c,n[1]=p,n})})}var lu=function(){function r(t){this.data=t.data||(t.sourceFormat===Or?{}:[]),this.sourceFormat=t.sourceFormat||vm,this.seriesLayoutBy=t.seriesLayoutBy||Pr,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];i.type==null&&gm(this,n)===Be.Must&&(i.type="ordinal")}}return r}();function $h(r){return r instanceof lu}function Cf(r,t,e){e=e||Sm(r);var n=t.seriesLayoutBy,i=T2(r,e,n,t.sourceHeader,t.dimensions),a=new lu({data:r,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:gt(t)});return a}function Gh(r){return new lu({data:r,sourceFormat:ke(r)?Jr:tr})}function x2(r){return new lu({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:gt(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function Sm(r){var t=vm;if(ke(r))t=Jr;else if(st(r)){r.length===0&&(t=Fe);for(var e=0,n=r.length;e<n;e++){var i=r[e];if(i!=null){if(st(i)){t=Fe;break}else if(ot(i)){t=Cr;break}}}}else if(ot(r)){for(var a in r)if(Oa(r,a)&&Te(r[a])){t=Or;break}}return t}function T2(r,t,e,n,i){var a,o;if(!r)return{dimensionsDefine:hp(i),startIndex:o,dimensionsDetectedCount:a};if(t===Fe){var s=r;n==="auto"||n==null?cp(function(l){l!=null&&l!=="-"&&(lt(l)?o==null&&(o=1):o=0)},e,s,10):o=Jt(n)?n:n?1:0,!i&&o===1&&(i=[],cp(function(l,h){i[h]=l!=null?l+"":""},e,s,1/0)),a=i?i.length:e===Hi?s.length:s[0]?s[0].length:null}else if(t===Cr)i||(i=F2(r));else if(t===Or)i||(i=[],I(r,function(l,h){i.push(h)}));else if(t===tr){var u=oo(r[0]);a=st(u)&&u.length||1}return{startIndex:o,dimensionsDefine:hp(i),dimensionsDetectedCount:a}}function F2(r){for(var t=0,e;t<r.length&&!(e=r[t++]););if(e)return kt(e)}function hp(r){if(r){var t=ft();return nt(r,function(e,n){e=ot(e)?e:{name:e};var i={name:e.name,displayName:e.displayName,type:e.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function cp(r,t,e,n){if(t===Hi)for(var i=0;i<e.length&&i<n;i++)r(e[i]?e[i][0]:null,i);else for(var a=e[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function Cm(r){var t=r.sourceFormat;return t===Cr||t===Or}var Cn,bn,An,vp,pp,bm=function(){function r(t,e){var n=$h(t)?t:Gh(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Jr&&(this._offset=0,this._dimSize=e,this._data=i),pp(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,e){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=function(){var t=r.prototype;t.pure=!1,t.persistent=!0}(),r.internalField=function(){var t;pp=function(o,s,u){var l=u.sourceFormat,h=u.seriesLayoutBy,f=u.startIndex,c=u.dimensionsDefine,v=vp[Uh(l,h)];if(K(o,v),l===Jr)o.getItem=e,o.count=i,o.fillStorage=n;else{var d=Am(l,h);o.getItem=Qt(d,null,s,f,c);var p=Mm(l,h);o.count=Qt(p,null,s,f,c)}};var e=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,l=this._dimSize,h=l*o,f=0;f<l;f++)s[f]=u[h+f];return s},n=function(o,s,u,l){for(var h=this._data,f=this._dimSize,c=0;c<f;c++){for(var v=l[c],d=v[0]==null?1/0:v[0],p=v[1]==null?-1/0:v[1],m=s-o,g=u[c],y=0;y<m;y++){var _=h[y*f+c];g[o+y]=_,_<d&&(d=_),_>p&&(p=_)}v[0]=d,v[1]=p}},i=function(){return this._data?this._data.length/this._dimSize:0};vp=(t={},t[Fe+"_"+Pr]={pure:!0,appendData:a},t[Fe+"_"+Hi]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Cr]={pure:!0,appendData:a},t[Or]={pure:!0,appendData:function(o){var s=this._data;I(o,function(u,l){for(var h=s[l]||(s[l]=[]),f=0;f<(u||[]).length;f++)h.push(u[f])})}},t[tr]={appendData:a},t[Jr]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),r}(),dp=function(r,t,e,n){return r[n]},I2=(Cn={},Cn[Fe+"_"+Pr]=function(r,t,e,n){return r[n+t]},Cn[Fe+"_"+Hi]=function(r,t,e,n,i){n+=t;for(var a=i||[],o=r,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[n]:null}return a},Cn[Cr]=dp,Cn[Or]=function(r,t,e,n,i){for(var a=i||[],o=0;o<e.length;o++){var s=e[o].name,u=r[s];a[o]=u?u[n]:null}return a},Cn[tr]=dp,Cn);function Am(r,t){var e=I2[Uh(r,t)];return e}var gp=function(r,t,e){return r.length},B2=(bn={},bn[Fe+"_"+Pr]=function(r,t,e){return Math.max(0,r.length-t)},bn[Fe+"_"+Hi]=function(r,t,e){var n=r[0];return n?Math.max(0,n.length-t):0},bn[Cr]=gp,bn[Or]=function(r,t,e){var n=e[0].name,i=r[n];return i?i.length:0},bn[tr]=gp,bn);function Mm(r,t){var e=B2[Uh(r,t)];return e}var Dl=function(r,t,e){return r[t]},L2=(An={},An[Fe]=Dl,An[Cr]=function(r,t,e){return r[e]},An[Or]=Dl,An[tr]=function(r,t,e){var n=oo(r);return n instanceof Array?n[t]:n},An[Jr]=Dl,An);function Em(r){var t=L2[r];return t}function Uh(r,t){return r===Fe?r+"_"+t:r}function Ri(r,t,e){if(r){var n=r.getRawDataItem(t);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(e!=null){var o=r.getDimensionIndex(e),s=i.getDimensionProperty(o);return Em(a)(n,o,s)}else{var u=n;return a===tr&&(u=oo(n)),u}}}}var P2=/\{@(.+?)\}/g,N2=function(){function r(){}return r.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),a=n.getRawIndex(t),o=n.getName(t),s=n.getRawDataItem(t),u=n.getItemVisual(t,"style"),l=u&&u[n.getItemVisual(t,"drawType")||"fill"],h=u&&u.stroke,f=this.mainType,c=f==="series",v=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:a,data:s,dataType:e,value:i,color:l,borderColor:h,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,e,n,i,a,o){e=e||"normal";var s=this.getData(n),u=this.getDataParams(t,n);if(o&&(u.value=o.interpolatedValue),i!=null&&st(u.value)&&(u.value=u.value[i]),!a){var l=s.getItemModel(t);a=l.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(_t(a))return u.status=e,u.dimensionIndex=i,a(u);if(lt(a)){var h=Ub(a,u);return h.replace(P2,function(f,c){var v=c.length,d=c;d.charAt(0)==="["&&d.charAt(v-1)==="]"&&(d=+d.slice(1,v-1));var p=Ri(s,t,d);if(o&&st(o.interpolatedValue)){var m=s.getDimensionIndex(d);m>=0&&(p=o.interpolatedValue[m])}return p!=null?p+"":""})}},r.prototype.getRawValue=function(t,e){return Ri(this.getData(e),t)},r.prototype.formatTooltip=function(t,e,n){},r}();function Ba(r){return new R2(r)}var R2=function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=h(this._modBy),s=this._modDataCount||0,u=h(t&&t.modBy),l=t&&t.modDataCount||0;(o!==u||s!==l)&&(a="reset");function h(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=u,this._modDataCount=l;var c=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,d=Math.min(c!=null?this._dueIndex+c:1/0,this._dueEnd);if(!n&&(f||v<d)){var p=this._progress;if(st(p))for(var m=0;m<p.length;m++)this._doProgress(p[m],v,d,u,l);else this._doProgress(p,v,d,u,l)}this._dueIndex=d;var g=this._settedOutputEnd!=null?this._settedOutputEnd:d;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,e,n,i,a){mp.reset(e,n,i,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:mp.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),st(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r}(),mp=function(){var r,t,e,n,i,a={reset:function(u,l,h,f){t=u,r=l,e=h,n=f,i=Math.ceil(n/e),a.next=e>1&&n>0?s:o}};return a;function o(){return t<r?t++:null}function s(){var u=t%i*e+Math.ceil(t/i),l=t>=r?null:u<n?u:t;return t++,l}}();function ds(r,t){var e=t&&t.type;return e==="ordinal"?r:(e==="time"&&!Jt(r)&&r!=null&&r!=="-"&&(r=+tn(r)),r==null||r===""?NaN:+r)}ft({number:function(r){return parseFloat(r)},time:function(r){return+tn(r)},trim:function(r){return lt(r)?Hr(r):r}});var O2=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,e){},r.prototype.retrieveValueFromItem=function(t,e){},r.prototype.convertValue=function(t,e){return ds(t,e)},r}();function k2(r,t){var e=new O2,n=r.data,i=e.sourceFormat=r.sourceFormat,a=r.startIndex,o="";r.seriesLayoutBy!==Pr&&Pe(o);var s=[],u={},l=r.dimensionsDefine;if(l)I(l,function(p,m){var g=p.name,y={index:m,name:g,displayName:p.displayName};if(s.push(y),g!=null){var _="";Oa(u,g)&&Pe(_),u[g]=y}});else for(var h=0;h<r.dimensionsDetectedCount;h++)s.push({index:h});var f=Am(i,Pr);t.__isBuiltIn&&(e.getRawDataItem=function(p){return f(n,a,s,p)},e.getRawData=Qt(z2,null,r)),e.cloneRawData=Qt(V2,null,r);var c=Mm(i,Pr);e.count=Qt(c,null,n,a,s);var v=Em(i);e.retrieveValue=function(p,m){var g=f(n,a,s,p);return d(g,m)};var d=e.retrieveValueFromItem=function(p,m){if(p!=null){var g=s[m];if(g)return v(p,m,g.name)}};return e.getDimensionInfo=Qt($2,null,s,u),e.cloneAllDimensionInfo=Qt(G2,null,s),e}function z2(r){var t=r.sourceFormat;if(!Wh(t)){var e="";Pe(e)}return r.data}function V2(r){var t=r.sourceFormat,e=r.data;if(!Wh(t)){var n="";Pe(n)}if(t===Fe){for(var i=[],a=0,o=e.length;a<o;a++)i.push(e[a].slice());return i}else if(t===Cr){for(var i=[],a=0,o=e.length;a<o;a++)i.push(K({},e[a]));return i}}function $2(r,t,e){if(e!=null){if(Jt(e)||!isNaN(e)&&!Oa(t,e))return r[e];if(Oa(t,e))return t[e]}}function G2(r){return gt(r)}var xm=ft();function U2(r){r=gt(r);var t=r.type,e="";t||Pe(e);var n=t.split(":");n.length!==2&&Pe(e);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),r.__isBuiltIn=i,xm.set(t,r)}function W2(r,t,e){var n=me(r),i=n.length,a="";i||Pe(a);for(var o=0,s=i;o<s;o++){var u=n[o];t=q2(u,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function q2(r,t,e,n){var i="";t.length||Pe(i),ot(r)||Pe(i);var a=r.type,o=xm.get(a);o||Pe(i);var s=nt(t,function(l){return k2(l,o)}),u=me(o.transform({upstream:s[0],upstreamList:s,config:gt(r.config)}));return nt(u,function(l,h){var f="";ot(l)||Pe(f),l.data||Pe(f);var c=Sm(l.data);Wh(c)||Pe(f);var v,d=t[0];if(d&&h===0&&!l.dimensions){var p=d.startIndex;p&&(l.data=d.data.slice(0,p).concat(l.data)),v={seriesLayoutBy:Pr,sourceHeader:p,dimensions:d.metaRawOption.dimensions}}else v={seriesLayoutBy:Pr,sourceHeader:0,dimensions:l.dimensions};return Cf(l.data,v,null)})}function Wh(r){return r===Fe||r===Cr}var fu="undefined",Y2=typeof Uint32Array===fu?Array:Uint32Array,Z2=typeof Uint16Array===fu?Array:Uint16Array,Tm=typeof Int32Array===fu?Array:Int32Array,yp=typeof Float64Array===fu?Array:Float64Array,Fm={float:yp,int:Tm,ordinal:Array,number:Array,time:yp},Sl;function la(r){return r>65535?Y2:Z2}function ni(){return[1/0,-1/0]}function H2(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function _p(r,t,e,n,i){var a=Fm[e||"float"];if(i){var o=r[t],s=o&&o.length;if(s!==n){for(var u=new a(n),l=0;l<s;l++)u[l]=o[l];r[t]=u}}else r[t]=new a(n)}var bf=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ft()}return r.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=Sl[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],Cm(i),this._dimensions=nt(e,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},n.set(t,a),this._chunks[a]=new Fm[e||"float"](this._rawCount),this._rawExtent[a]=ni(),a},r.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[t]=ni());for(var u=a[t],l=o;l<s;l++){var h=n[l]=e.parseAndCollect(n[l]);isNaN(h)||(u[0]=Math.min(h,u[0]),u[1]=Math.max(h,u[1]))}i.ordinalMeta=e,i.ordinalOffset=s,i.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},r.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},r.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(t.length,e||0),l=0;l<a;l++){var h=i[l];_p(n,l,h.type,u,!0)}for(var f=[],c=s;c<u;c++)for(var v=c-s,d=0;d<a;d++){var h=i[d],p=Sl.arrayRows.call(this,t[v]||f,h.property,v,d);n[d][c]=p;var m=o[d];p<m[0]&&(m[0]=p),p>m[1]&&(m[1]=p)}return this._rawCount=this._count=u,{start:s,end:u}},r.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=nt(o,function(y){return y.property}),h=0;h<s;h++){var f=o[h];u[h]||(u[h]=ni()),_p(a,h,f.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,a,u);else for(var c=[],v=t;v<e;v++){c=i.getItem(v,c);for(var d=0;d<s;d++){var p=a[d],m=this._dimValueGetter(c,l[d],v,d);p[v]=m;var g=u[d];m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},r.prototype.getValues=function(t,e){var n=[],i=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],e));return n},r.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},r.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(n+=o)}return n},r.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(e[o]<t)i=o+1;else if(e[o]>t)a=o-1;else return o}return-1},r.prototype.indicesOfNearest=function(t,e,n){var i=this._chunks,a=i[t],o=[];if(!a)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,l=0,h=0,f=this.count();h<f;h++){var c=this.getRawIndex(h),v=e-a[c],d=Math.abs(v);d<=n&&((d<s||d===s&&v>=0&&u<0)&&(s=d,u=v,l=0),v===u&&(o[l++]=h))}return o.length=l,o},r.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new n(e.buffer,0,i)}else{var n=la(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},r.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=la(n._rawCount),o=new a(i),s=[],u=t.length,l=0,h=t[0],f=n._chunks,c=0;c<i;c++){var v=void 0,d=n.getRawIndex(c);if(u===0)v=e(c);else if(u===1){var p=f[h][d];v=e(p,c)}else{for(var m=0;m<u;m++)s[m]=f[t[m]][d];s[m]=c,v=e.apply(null,s)}v&&(o[l++]=d)}return l<i&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=kt(t),a=i.length;if(!a)return this;var o=e.count(),s=la(e._rawCount),u=new s(o),l=0,h=i[0],f=t[h][0],c=t[h][1],v=e._chunks,d=!1;if(!e._indices){var p=0;if(a===1){for(var m=v[i[0]],g=0;g<n;g++){var y=m[g];(y>=f&&y<=c||isNaN(y))&&(u[l++]=p),p++}d=!0}else if(a===2){for(var m=v[i[0]],_=v[i[1]],w=t[i[1]][0],S=t[i[1]][1],g=0;g<n;g++){var y=m[g],D=_[g];(y>=f&&y<=c||isNaN(y))&&(D>=w&&D<=S||isNaN(D))&&(u[l++]=p),p++}d=!0}}if(!d)if(a===1)for(var g=0;g<o;g++){var b=e.getRawIndex(g),y=v[i[0]][b];(y>=f&&y<=c||isNaN(y))&&(u[l++]=b)}else for(var g=0;g<o;g++){for(var M=!0,b=e.getRawIndex(g),E=0;E<a;E++){var C=i[E],y=v[C][b];(y<t[C][0]||y>t[C][1])&&(M=!1)}M&&(u[l++]=e.getRawIndex(g))}return l<o&&(e._indices=u),e._count=l,e._extent=[],e._updateGetRawIdx(),e},r.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},r.prototype.modify=function(t,e){this._updateDims(this,t,e)},r.prototype._updateDims=function(t,e,n){for(var i=t._chunks,a=[],o=e.length,s=t.count(),u=[],l=t._rawExtent,h=0;h<e.length;h++)l[e[h]]=ni();for(var f=0;f<s;f++){for(var c=t.getRawIndex(f),v=0;v<o;v++)u[v]=i[e[v]][c];u[o]=f;var d=n&&n.apply(null,u);if(d!=null){typeof d!="object"&&(a[0]=d,d=a);for(var h=0;h<d.length;h++){var p=e[h],m=d[h],g=l[p],y=i[p];y&&(y[c]=m),m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}}},r.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),i=n._chunks,a=i[t],o=this.count(),s=0,u=Math.floor(1/e),l=this.getRawIndex(0),h,f,c,v=new(la(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));v[s++]=l;for(var d=1;d<o-1;d+=u){for(var p=Math.min(d+u,o-1),m=Math.min(d+u*2,o),g=(m+p)/2,y=0,_=p;_<m;_++){var w=this.getRawIndex(_),S=a[w];isNaN(S)||(y+=S)}y/=m-p;var D=d,b=Math.min(d+u,o),M=d-1,E=a[l];h=-1,c=D;for(var C=-1,A=0,_=D;_<b;_++){var w=this.getRawIndex(_),S=a[w];if(isNaN(S)){A++,C<0&&(C=w);continue}f=Math.abs((M-g)*(S-E)-(M-_)*(y-E)),f>h&&(h=f,c=w)}A>0&&A<b-D&&(v[s++]=Math.min(C,c),c=Math.max(C,c)),v[s++]=c,l=c}return v[s++]=this.getRawIndex(o-1),n._count=s,n._indices=v,n.getRawIndex=this._getRawIdx,n},r.prototype.downSample=function(t,e,n,i){for(var a=this.clone([t],!0),o=a._chunks,s=[],u=Math.floor(1/e),l=o[t],h=this.count(),f=a._rawExtent[t]=ni(),c=new(la(this._rawCount))(Math.ceil(h/u)),v=0,d=0;d<h;d+=u){u>h-d&&(u=h-d,s.length=u);for(var p=0;p<u;p++){var m=this.getRawIndex(d+p);s[p]=l[m]}var g=n(s),y=this.getRawIndex(Math.min(d+i(s,g)||0,h-1));l[y]=g,g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g),c[v++]=y}return a._count=v,a._indices=c,a._updateGetRawIdx(),a},r.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(i[t[0]][s],a);break;case 2:e(i[t[0]][s],i[t[1]][s],a);break;default:for(var u=0,l=[];u<n;u++)l[u]=i[t[u]][s];l[u]=a,e.apply(null,l)}}},r.prototype.getDataExtent=function(t){var e=this._chunks[t],n=ni();if(!e)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var s=o[0],u=o[1],l=0;l<i;l++){var h=this.getRawIndex(l),f=e[h];f<s&&(s=f),f>u&&(u=f)}return o=[s,u],this._extent[t]=o,o},r.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][e]);return n},r.prototype.clone=function(t,e){var n=new r,i=this._chunks,a=t&&Wi(t,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?H2(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=gt(this._extent),t._rawExtent=gt(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function t(e,n,i,a){return ds(e[a],this._dimensions[a])}Sl={arrayRows:t,objectRows:function(e,n,i,a){return ds(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,i,a){var o=e&&(e.value==null?e:e.value);return ds(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(e,n,i,a){return e[a]}}}(),r}(),X2=function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,i,a;if(No(t)){var o=t,s=void 0,u=void 0,l=void 0;if(n){var h=e[0];h.prepareSource(),l=h.getSource(),s=l.data,u=l.sourceFormat,a=[h._getVersionSign()]}else s=o.get("data",!0),u=ke(s)?Jr:tr,a=[];var f=this._getSourceMetaRawOption()||{},c=l&&l.metaRawOption||{},v=bt(f.seriesLayoutBy,c.seriesLayoutBy)||null,d=bt(f.sourceHeader,c.sourceHeader),p=bt(f.dimensions,c.dimensions),m=v!==c.seriesLayoutBy||!!d!=!!c.sourceHeader||p;i=m?[Cf(s,{seriesLayoutBy:v,sourceHeader:d,dimensions:p},u)]:[]}else{var g=t;if(n){var y=this._applyTransform(e);i=y.sourceList,a=y.upstreamSignList}else{var _=g.get("source",!0);i=[Cf(_,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),i=e.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&wp(a)}var o,s=[],u=[];return I(t,function(l){l.prepareSource();var h=l.getSource(i||0),f="";i!=null&&!h&&wp(f),s.push(h),u.push(l._getVersionSign())}),n?o=W2(n,s,{datasetIndex:e.componentIndex}):i!=null&&(o=[x2(s[0])]),{sourceList:o,upstreamSignList:u}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},r.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},r.prototype._innerGetDataStore=function(t,e,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];No(this._sourceHost)&&u?s=u._innerGetDataStore(t,e,n):(s=new bf,s.initData(new bm(e,t.length),t)),o[n]=s}return s},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(No(t)){var e=dm(t);return e?[e.getSourceManager()]:[]}else return nt(Jb(t),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,i;if(No(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:i}},r}();function No(r){return r.mainType==="series"}function wp(r){throw new Error(r)}function Af(r,t){return t.type=r,t}function j2(r,t){var e=r.getData().getItemVisual(t,"style"),n=e[r.visualDrawType];return Wb(n)}function K2(r){var t=r.series,e=r.dataIndex,n=r.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=t.getRawValue(e),u=st(s),l=j2(t,e),h,f,c,v;if(o>1||u&&!o){var d=Q2(s,t,e,a,l);h=d.inlineValues,f=d.inlineValueTypes,c=d.blocks,v=d.inlineValues[0]}else if(o){var p=i.getDimensionInfo(a[0]);v=h=Ri(i,e,a[0]),f=p.type}else v=h=u?s[0]:s;var m=bh(t),g=m&&t.name||"",y=i.getName(e),_=n?g:y;return Af("section",{header:g,noHeader:n||!m,sortParam:v,blocks:[Af("nameValue",{markerType:"item",markerColor:l,name:_,noName:!Hr(_),value:h,valueType:f})].concat(c||[])})}function Q2(r,t,e,n,i){var a=t.getData(),o=Wi(r,function(f,c,v){var d=a.getDimensionInfo(v);return f=f||d&&d.tooltip!==!1&&d.displayName!=null},!1),s=[],u=[],l=[];n.length?I(n,function(f){h(Ri(a,e,f),f)}):I(r,h);function h(f,c){var v=a.getDimensionInfo(c);!v||v.otherDims.tooltip===!1||(o?l.push(Af("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:f,valueType:v.type})):(s.push(f),u.push(v.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var Ur=ae();function Ro(r,t){return r.getName(t)||r.getId(t)}var J2="__universalTransitionEnabled",hu=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ba({count:eA,reset:rA}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i);var a=Ur(this).sourceManager=new X2(this);a.prepareSource();var o=this.getInitialData(e,i);Sp(o,this),this.dataTask.context.data=o,Ur(this).dataBeforeProcessed=o,Dp(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=Za(this),a=i?uu(e):{},o=this.subType;$t.hasClass(o)&&(o+="Series"),pt(e,n.getTheme().get(this.subType)),pt(e,this.getDefaultOption()),sv(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&Ni(e,a,i)},t.prototype.mergeOption=function(e,n){e=pt(this.option,e,!0),this.fillDataTextStyle(e.data);var i=Za(this);i&&Ni(this.option,e,i);var a=Ur(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(e,n);Sp(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ur(this).dataBeforeProcessed=o,Dp(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!ke(e))for(var n=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&sv(e[i],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=Mf(this);if(n){var i=n.context.data;return e==null?i:i.getLinkedData(e)}else return Ur(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=Mf(this);if(n){var i=n.context;i.outputData=e,n!==this.dataTask&&(i.data=e)}Ur(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return ft(e)},t.prototype.getSourceManager=function(){return Ur(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ur(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,n,i){return K2({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Nt.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,i){var a=this.ecModel,o=zh.prototype.getColorFromPalette.call(this,e,n,i);return o||(o=a.getColorFromPalette(e,n,i)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<e.length;s++){var u=e[s],l=Ro(o,u);i[l]=!1,this._selectedDataIndicesMap[l]=-1}}},t.prototype.toggleSelect=function(e,n){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=kt(e),i=[],a=0;a<n.length;a++){var o=e[n[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(e,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Ro(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[J2])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var i,a,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){ot(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,h=0;h<u;h++){var f=n[h],c=Ro(e,f);l[c]=!0,this._selectedDataIndicesMap[c]=e.getRawIndex(f)}}else if(s==="single"||s===!0){var v=n[u-1],c=Ro(e,v);o.selectedMap=(i={},i[c]=!0,i),this._selectedDataIndicesMap=(a={},a[c]=e.getRawIndex(v),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return $t.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}($t);Sr(hu,N2);Sr(hu,zh);dg(hu,$t);function Dp(r){var t=r.name;bh(r)||(r.name=tA(r)||t)}function tA(r){var t=r.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return I(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function eA(r){return r.model.getRawData().count()}function rA(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),nA}function nA(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Sp(r,t){I(Sw(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(e){r.wrapMethod(e,Yt(iA,t))})}function iA(r,t){var e=Mf(r);return e&&e.setOutputEnd((t||this).count()),t}function Mf(r){var t=(r.ecModel||{}).scheduler,e=t&&t.getPipeline(r.uid);if(e){var n=e.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}const Xa=hu;var qh=function(){function r(){this.group=new ye,this.uid=so("viewComponent")}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){},r.prototype.updateLayout=function(t,e,n,i){},r.prototype.updateVisual=function(t,e,n,i){},r.prototype.toggleBlurSeries=function(t,e,n){},r.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},r}();Ah(qh);Ks(qh);const rn=qh;function Im(){var r=ae();return function(t){var e=r(t),n=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,o=e.large=!!(n&&n.large),s=e.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var Bm=ae(),aA=Im(),Yh=function(){function r(){this.group=new ye,this.uid=so("viewChart"),this.renderTask=Ba({plan:oA,reset:sA}),this.renderTask.context={view:this}}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.highlight=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&bp(a,i,"emphasis")},r.prototype.downplay=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&bp(a,i,"normal")},r.prototype.remove=function(t,e){this.group.removeAll()},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.eachRendered=function(t){Hg(this.group,t)},r.markUpdateMethod=function(t,e){Bm(t).updateMethod=e},r.protoInitialize=function(){var t=r.prototype;t.type="chart"}(),r}();function Cp(r,t,e){r&&yf(r)&&(t==="emphasis"?Li:Pi)(r,e)}function bp(r,t,e){var n=Xs(r,t),i=t&&t.highlightKey!=null?RC(t.highlightKey):null;n!=null?I(me(n),function(a){Cp(r.getItemGraphicEl(a),e,i)}):r.eachItemGraphicEl(function(a){Cp(a,e,i)})}Ah(Yh);Ks(Yh);function oA(r){return aA(r.model)}function sA(r){var t=r.model,e=r.ecModel,n=r.api,i=r.payload,a=t.pipelineContext.progressiveRender,o=r.view,s=i&&Bm(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](t,e,n,i),uA[u]}var uA={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const Ti=Yh;function lA(r,t,e){var n,i=0,a=0,o=null,s,u,l,h;t=t||0;function f(){a=new Date().getTime(),o=null,r.apply(u,l||[])}var c=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];n=new Date().getTime(),u=this,l=v;var p=h||t,m=h||e;h=null,s=n-(m?i:a)-p,clearTimeout(o),m?o=setTimeout(f,p):s>=0?f():o=setTimeout(f,-s),i=n};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.debounceNextCall=function(v){h=v},c}var Ap=ae(),Mp={itemStyle:$a(Qg,!0),lineStyle:$a(Kg,!0)},fA={lineStyle:"stroke",itemStyle:"fill"};function Lm(r,t){var e=r.visualStyleMapper||Mp[t];return e||(console.warn("Unknown style type '"+t+"'."),Mp.itemStyle)}function Pm(r,t){var e=r.visualDrawType||fA[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var hA={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=Lm(r,n),o=a(i),s=i.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var u=Pm(r,n),l=o[u],h=_t(l)?l:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[u]||h||f){var c=r.getColorFromPalette(r.name,null,t.getSeriesCount());o[u]||(o[u]=c,e.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||_t(o.fill)?c:o.fill,o.stroke=o.stroke==="auto"||_t(o.stroke)?c:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",u),!t.isSeriesFiltered(r)&&h)return e.setVisual("colorFromPalette",!1),{dataEach:function(v,d){var p=r.getDataParams(d),m=K({},o);m[u]=h(p),v.setItemVisual(d,"style",m)}}}},fa=new Je,cA={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=Lm(r,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){fa.option=u[n];var l=i(fa),h=o.ensureUniqueItemVisual(s,"style");K(h,l),fa.option.decal&&(o.setItemVisual(s,"decal",fa.option.decal),fa.option.decal.dirty=!0),a in l&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},vA={performRawSeries:!0,overallReset:function(r){var t=ft();r.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),Ap(e).scope=a}}),r.eachSeries(function(e){if(!(e.isColorBySeries()||r.isSeriesFiltered(e))){var n=e.getRawData(),i={},a=e.getData(),o=Ap(e).scope,s=e.visualStyleAccessPath||"itemStyle",u=Pm(e,s);a.each(function(l){var h=a.getRawIndex(l);i[h]=l}),n.each(function(l){var h=i[l],f=a.getItemVisual(h,"colorFromPalette");if(f){var c=a.ensureUniqueItemVisual(h,"style"),v=n.getName(l)||l+"",d=n.count();c[u]=e.getColorFromPalette(v,o,d)}})}})}},Oo=Math.PI;function pA(r,t){t=t||{},Mt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new ye,n=new Ee({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var i=new cr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Ee({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var o;return t.showSpinner&&(o=new ib({shape:{startAngle:-Oo/2,endAngle:-Oo/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Oo*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Oo*3/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var s=i.getBoundingRect().width,u=t.showSpinner?t.spinnerRadius:0,l=(r.getWidth()-u*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:u),h=r.getHeight()/2;t.showSpinner&&o.setShape({cx:l,cy:h}),a.setShape({x:l-u,y:h-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},e.resize(),e}var dA=function(){function r(t,e,n,i){this._stageTaskMap=ft(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,s=t.get("large")&&a>=t.get("largeThreshold"),u=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},r.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=ft();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;I(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),o="";Nr(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,e,n),i.overallReset&&this._createOverallStageTask(i,a,e,n)},this)},r.prototype.prepareView=function(t,e,n,i){var a=t.renderTask,o=a.context;o.model=e,o.ecModel=n,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},r.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},r.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},r.prototype._performStageTasks=function(t,e,n,i){i=i||{};var a=!1,o=this;I(t,function(u,l){if(!(i.visualType&&i.visualType!==u.visualType)){var h=o._stageTaskMap.get(u.uid),f=h.seriesTaskMap,c=h.overallTask;if(c){var v,d=c.agentStubMap;d.each(function(m){s(i,m)&&(m.dirty(),v=!0)}),v&&c.dirty(),o.updatePayload(c,n);var p=o.getPerformArgs(c,i.block);d.each(function(m){m.perform(p)}),c.perform(p)&&(a=!0)}else f&&f.each(function(m,g){s(i,m)&&m.dirty();var y=o.getPerformArgs(m,i.block);y.skip=!u.performRawSeries&&e.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(y)&&(a=!0)})}});function s(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},r.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},r.prototype._createSeriesStageTask=function(t,e,n,i){var a=this,o=e.seriesTaskMap,s=e.seriesTaskMap=ft(),u=t.seriesType,l=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(h):u?n.eachRawSeriesByType(u,h):l&&l(n,i).each(h);function h(f){var c=f.uid,v=s.set(c,o&&o.get(c)||Ba({plan:wA,reset:DA,count:CA}));v.context={model:f,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(f,v)}},r.prototype._createOverallStageTask=function(t,e,n,i){var a=this,o=e.overallTask=e.overallTask||Ba({reset:gA});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=ft(),l=t.seriesType,h=t.getTargetSeries,f=!0,c=!1,v="";Nr(!t.createOnAllSeries,v),l?n.eachRawSeriesByType(l,d):h?h(n,i).each(d):(f=!1,I(n.getSeries(),d));function d(p){var m=p.uid,g=u.set(m,s&&s.get(m)||(c=!0,Ba({reset:mA,onDirty:_A})));g.context={model:p,overallProgress:f},g.agent=o,g.__block=f,a._pipe(p,g)}c&&o.dirty()},r.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},r.wrapStageHandler=function(t,e){return _t(t)&&(t={overallReset:t,seriesType:bA(t)}),t.uid=so("stageHandler"),e&&(t.visualType=e),t},r}();function gA(r){r.overallReset(r.ecModel,r.api,r.payload)}function mA(r){return r.overallProgress&&yA}function yA(){this.agent.dirty(),this.getDownstream().dirty()}function _A(){this.agent&&this.agent.dirty()}function wA(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function DA(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=me(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?nt(t,function(e,n){return Nm(n)}):SA}var SA=Nm(0);function Nm(r){return function(t,e){var n=e.data,i=e.resetDefines[r];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function CA(r){return r.data.count()}function bA(r){Ts=null;try{r(ja,Rm)}catch{}return Ts}var ja={},Rm={},Ts;Om(ja,ym);Om(Rm,_m);ja.eachSeriesByType=ja.eachRawSeriesByType=function(r){Ts=r};ja.eachComponent=function(r){r.mainType==="series"&&r.subType&&(Ts=r.subType)};function Om(r,t){for(var e in t.prototype)r[e]=Re}const km=dA;var Ep=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const AA={color:Ep,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ep]};var ve="#B9B8CE",xp="#100C2A",ko=function(){return{axisLine:{lineStyle:{color:ve}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Tp=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],zm={darkMode:!0,color:Tp,backgroundColor:xp,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ve}},textStyle:{color:ve},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ve}},dataZoom:{borderColor:"#71708A",textStyle:{color:ve},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ve}},timeline:{lineStyle:{color:ve},label:{color:ve},controlStyle:{color:ve,borderColor:ve}},calendar:{itemStyle:{color:xp},dayLabel:{color:ve},monthLabel:{color:ve},yearLabel:{color:ve}},timeAxis:ko(),logAxis:ko(),valueAxis:ko(),categoryAxis:ko(),line:{symbol:"circle"},graph:{color:Tp},gauge:{title:{color:ve},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ve},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};zm.categoryAxis.splitLine.show=!1;const MA=zm;var EA=function(){function r(){}return r.prototype.normalizeQuery=function(t){var e={},n={},i={};if(lt(t)){var a=_r(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};I(t,function(u,l){for(var h=!1,f=0;f<o.length;f++){var c=o[f],v=l.lastIndexOf(c);if(v>0&&v===l.length-c.length){var d=l.slice(0,v);d!=="data"&&(e.mainType=d,e[c.toLowerCase()]=u,h=!0)}}s.hasOwnProperty(l)&&(n[l]=u,h=!0),h||(i[l]=u)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},r.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=e.cptQuery,l=e.dataQuery;return h(u,o,"mainType")&&h(u,o,"subType")&&h(u,o,"index","componentIndex")&&h(u,o,"name")&&h(u,o,"id")&&h(l,a,"name")&&h(l,a,"dataIndex")&&h(l,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,i,a));function h(f,c,v,d){return f[v]==null||c[d||v]===f[v]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),Ef=["symbol","symbolSize","symbolRotate","symbolOffset"],Fp=Ef.concat(["symbolKeepAspect"]),xA={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData();if(r.legendIcon&&e.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<Ef.length;o++){var s=Ef[o],u=r.get(s);_t(u)?(a=!0,i[s]=u):n[s]=u}if(n.symbol=n.symbol||r.defaultSymbol,e.setVisual(K({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),t.isSeriesFiltered(r))return;var l=kt(i);function h(f,c){for(var v=r.getRawValue(c),d=r.getDataParams(c),p=0;p<l.length;p++){var m=l[p];f.setItemVisual(c,m,i[m](v,d))}}return{dataEach:a?h:null}}},TA={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var e=r.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<Fp.length;s++){var u=Fp[s],l=o.getShallow(u,!0);l!=null&&i.setItemVisual(a,u,l)}}return{dataEach:e.hasItemOption?n:null}}};function FA(r,t,e){switch(e){case"color":var n=r.getItemVisual(t,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,e)}}function IA(r,t){switch(t){case"color":var e=r.getVisual("style");return e[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function ii(r,t,e,n,i){var a=r+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,l=i.selected,h=0;h<l.length;h++)if(l[h].seriesIndex===s){var f=o.getData(),c=Xs(f,i.fromActionPayload);e.trigger(a,{type:a,seriesId:o.id,name:st(c)?f.getName(c[0]):f.getName(c),selected:lt(u)?u:K({},u)})}})}function BA(r,t,e){r.on("selectchanged",function(n){var i=e.getModel();n.isFromClick?(ii("map","selectchanged",t,i,n),ii("pie","selectchanged",t,i,n)):n.fromAction==="select"?(ii("map","selected",t,i,n),ii("pie","selected",t,i,n)):n.fromAction==="unselect"&&(ii("map","unselected",t,i,n),ii("pie","unselected",t,i,n))})}function zo(r,t,e){for(var n;r&&!(t(r)&&(n=r,e));)r=r.__hostTarget||r.parent;return n}var LA=Math.round(Math.random()*9),PA=typeof Object.defineProperty=="function",NA=function(){function r(){this._id="__ec_inner_"+LA++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,e){var n=this._guard(t);return PA?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r}();const RA=NA;var OA=ie.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n+a),r.lineTo(e-i,n+a),r.closePath()}}),kA=ie.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n),r.lineTo(e,n+a),r.lineTo(e-i,n),r.closePath()}}),zA=ie.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),u=n-a+o+s,l=Math.asin(s/o),h=Math.cos(l)*o,f=Math.sin(l),c=Math.cos(l),v=o*.6,d=o*.7;r.moveTo(e-h,u+s),r.arc(e,u,o,Math.PI-l,Math.PI*2+l),r.bezierCurveTo(e+h-f*v,u+s+c*v,e,n-d,e,n),r.bezierCurveTo(e,n-d,e-h+f*v,u+s+c*v,e-h,u+s),r.closePath()}}),VA=ie.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.height,n=t.width,i=t.x,a=t.y,o=n/3*2;r.moveTo(i,a),r.lineTo(i+o,a+e),r.lineTo(i,a+e/4*3),r.lineTo(i-o,a+e),r.lineTo(i,a),r.closePath()}}),$A={line:Ga,rect:Ee,roundRect:Ee,square:Ee,circle:XC,diamond:kA,pin:zA,arrow:VA,triangle:OA},GA={line:function(r,t,e,n,i){i.x1=r,i.y1=t+n/2,i.x2=r+e,i.y2=t+n/2},rect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n},roundRect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n,i.r=Math.min(e,n)/4},square:function(r,t,e,n,i){var a=Math.min(e,n);i.x=r,i.y=t,i.width=a,i.height=a},circle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.r=Math.min(e,n)/2},diamond:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n},pin:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},arrow:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},triangle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n}},xf={};I($A,function(r,t){xf[t]=new r});var UA=ie.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,e){var n=J0(r,t,e),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(r,t,e){var n=t.symbolType;if(n!=="none"){var i=xf[n];i||(n="rect",i=xf[n]),GA[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(r,i.shape,e)}}});function WA(r,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=r,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=r:e.fill=r,this.markRedraw()}}function uo(r,t,e,n,i,a,o){var s=r.indexOf("empty")===0;s&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var u;return r.indexOf("image://")===0?u=fb(r.slice(8),new At(t,e,n,i),o?"center":"cover"):r.indexOf("path://")===0?u=Wg(r.slice(7),{},new At(t,e,n,i),o?"center":"cover"):u=new UA({shape:{symbolType:r,x:t,y:e,width:n,height:i}}),u.__isEmptyBrush=s,u.setColor=WA,a&&u.setColor(a),u}function qA(r){return st(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function Vm(r,t){if(r!=null)return st(r)||(r=[r,r]),[Le(r[0],t[0])||0,Le(bt(r[1],r[0]),t[1])||0]}function Fn(r){return isFinite(r)}function YA(r,t,e){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,o=o*e.height+e.y),n=Fn(n)?n:0,i=Fn(i)?i:1,a=Fn(a)?a:0,o=Fn(o)?o:0;var s=r.createLinearGradient(n,a,i,o);return s}function ZA(r,t,e){var n=e.width,i=e.height,a=Math.min(n,i),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,u=t.r==null?.5:t.r;t.global||(o=o*n+e.x,s=s*i+e.y,u=u*a),o=Fn(o)?o:.5,s=Fn(s)?s:.5,u=u>=0&&Fn(u)?u:.5;var l=r.createRadialGradient(o,s,0,o,s,u);return l}function Tf(r,t,e){for(var n=t.type==="radial"?ZA(r,t,e):YA(r,t,e),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function HA(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!0;return!1}function Vo(r){return parseInt(r,10)}function $o(r,t,e){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var s=document.defaultView.getComputedStyle(r);return(r[i]||Vo(s[n])||Vo(r.style[n]))-(Vo(s[a])||0)-(Vo(s[o])||0)|0}function XA(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:Jt(r)?[r]:st(r)?r:null}function $m(r){var t=r.style,e=t.lineDash&&t.lineWidth>0&&XA(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var i=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(e=nt(e,function(a){return a/i}),n/=i)}return[e,n]}var jA=new Bi(!0);function Fs(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function Ip(r){return typeof r=="string"&&r!=="none"}function Is(r){var t=r.fill;return t!=null&&t!=="none"}function Bp(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=e}else r.fill()}function Lp(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=e}else r.stroke()}function Ff(r,t,e){var n=gg(t.image,t.__image,e);if(Qs(n)){var i=r.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*Cw),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function KA(r,t,e,n){var i,a=Fs(e),o=Is(e),s=e.strokePercent,u=s<1,l=!t.path;(!t.silent||u)&&l&&t.createPathProxy();var h=t.path||jA,f=t.__dirty;if(!n){var c=e.fill,v=e.stroke,d=o&&!!c.colorStops,p=a&&!!v.colorStops,m=o&&!!c.image,g=a&&!!v.image,y=void 0,_=void 0,w=void 0,S=void 0,D=void 0;(d||p)&&(D=t.getBoundingRect()),d&&(y=f?Tf(r,c,D):t.__canvasFillGradient,t.__canvasFillGradient=y),p&&(_=f?Tf(r,v,D):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),m&&(w=f||!t.__canvasFillPattern?Ff(r,c,t):t.__canvasFillPattern,t.__canvasFillPattern=w),g&&(S=f||!t.__canvasStrokePattern?Ff(r,v,t):t.__canvasStrokePattern,t.__canvasStrokePattern=w),d?r.fillStyle=y:m&&(w?r.fillStyle=w:o=!1),p?r.strokeStyle=_:g&&(S?r.strokeStyle=S:a=!1)}var b=t.getGlobalScale();h.setScale(b[0],b[1],t.segmentIgnoreThreshold);var M,E;r.setLineDash&&e.lineDash&&(i=$m(t),M=i[0],E=i[1]);var C=!0;(l||f&hi)&&(h.setDPR(r.dpr),u?h.setContext(null):(h.setContext(r),C=!1),h.reset(),t.buildPath(h,t.shape,n),h.toStatic(),t.pathUpdated()),C&&h.rebuildPath(r,u?s:1),M&&(r.setLineDash(M),r.lineDashOffset=E),n||(e.strokeFirst?(a&&Lp(r,e),o&&Bp(r,e)):(o&&Bp(r,e),a&&Lp(r,e))),M&&r.setLineDash([])}function QA(r,t,e){var n=t.__image=gg(e.image,t.__image,t,t.onload);if(!(!n||!Qs(n))){var i=e.x||0,a=e.y||0,o=t.getWidth(),s=t.getHeight(),u=n.width/n.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=n.width,s=n.height),e.sWidth&&e.sHeight){var l=e.sx||0,h=e.sy||0;r.drawImage(n,l,h,e.sWidth,e.sHeight,i,a,o,s)}else if(e.sx&&e.sy){var l=e.sx,h=e.sy,f=o-l,c=s-h;r.drawImage(n,l,h,f,c,i,a,o,s)}else r.drawImage(n,i,a,o,s)}}function JA(r,t,e){var n,i=e.text;if(i!=null&&(i+=""),i){r.font=e.font||On,r.textAlign=e.textAlign,r.textBaseline=e.textBaseline;var a=void 0,o=void 0;r.setLineDash&&e.lineDash&&(n=$m(t),a=n[0],o=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=o),e.strokeFirst?(Fs(e)&&r.strokeText(i,e.x,e.y),Is(e)&&r.fillText(i,e.x,e.y)):(Is(e)&&r.fillText(i,e.x,e.y),Fs(e)&&r.strokeText(i,e.x,e.y)),a&&r.setLineDash([])}}var Pp=["shadowBlur","shadowOffsetX","shadowOffsetY"],Np=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Gm(r,t,e,n,i){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){Ae(r,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(o)?Ln.opacity:o}(n||t.blend!==e.blend)&&(a||(Ae(r,i),a=!0),r.globalCompositeOperation=t.blend||Ln.blend);for(var s=0;s<Pp.length;s++){var u=Pp[s];(n||t[u]!==e[u])&&(a||(Ae(r,i),a=!0),r[u]=r.dpr*(t[u]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(Ae(r,i),a=!0),r.shadowColor=t.shadowColor||Ln.shadowColor),a}function Rp(r,t,e,n,i){var a=Ka(t,i.inHover),o=n?null:e&&Ka(e,i.inHover)||{};if(a===o)return!1;var s=Gm(r,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(Ae(r,i),s=!0),Ip(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Ae(r,i),s=!0),Ip(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Ae(r,i),s=!0),r.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==l&&(s||(Ae(r,i),s=!0),r.lineWidth=l)}for(var h=0;h<Np.length;h++){var f=Np[h],c=f[0];(n||a[c]!==o[c])&&(s||(Ae(r,i),s=!0),r[c]=a[c]||f[1])}return s}function tM(r,t,e,n,i){return Gm(r,Ka(t,i.inHover),e&&Ka(e,i.inHover),n,i)}function Um(r,t){var e=t.transform,n=r.dpr||1;e?r.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):r.setTransform(n,0,0,n,0,0)}function eM(r,t,e){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),Um(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function rM(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var Op=1,kp=2,zp=3,Vp=4;function nM(r){var t=Is(r),e=Fs(r);return!(r.lineDash||!(+t^+e)||t&&typeof r.fill!="string"||e&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function Ae(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function Ka(r,t){return t&&r.__hoverStyle||r.style}function Wm(r,t){In(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function In(r,t,e,n){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Ne,t.__isRendered=!1;return}var a=t.__clipPaths,o=e.prevElClipPaths,s=!1,u=!1;if((!o||HA(a,o))&&(o&&o.length&&(Ae(r,e),r.restore(),u=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Ae(r,e),r.save(),eM(a,r,e),s=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var l=e.prevEl;l||(u=s=!0);var h=t instanceof ie&&t.autoBatch&&nM(t.style);s||rM(i,l.transform)?(Ae(r,e),Um(r,t)):h||Ae(r,e);var f=Ka(t,e.inHover);t instanceof ie?(e.lastDrawType!==Op&&(u=!0,e.lastDrawType=Op),Rp(r,t,l,u,e),(!h||!e.batchFill&&!e.batchStroke)&&r.beginPath(),KA(r,t,f,h),h&&(e.batchFill=f.fill||"",e.batchStroke=f.stroke||"")):t instanceof pf?(e.lastDrawType!==zp&&(u=!0,e.lastDrawType=zp),Rp(r,t,l,u,e),JA(r,t,f)):t instanceof Yi?(e.lastDrawType!==kp&&(u=!0,e.lastDrawType=kp),tM(r,t,l,u,e),QA(r,t,f)):t.getTemporalDisplayables&&(e.lastDrawType!==Vp&&(u=!0,e.lastDrawType=Vp),iM(r,t,e)),h&&n&&Ae(r,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function iM(r,t,e){var n=t.getDisplayables(),i=t.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},o,s;for(o=t.getCursor(),s=n.length;o<s;o++){var u=n[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),In(r,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var l=0,h=i.length;l<h;l++){var u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),In(r,u,a,l===h-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var Cl=new RA,$p=new ao(100),Gp=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function If(r,t){if(r==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";r.dirty&&Cl.delete(r);var a=Cl.get(r);if(a)return a;var o=Mt(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/e,Cl.set(r,s),r.dirty=!1,s;function u(l){for(var h=[e],f=!0,c=0;c<Gp.length;++c){var v=o[Gp[c]];if(v!=null&&!st(v)&&!lt(v)&&!Jt(v)&&typeof v!="boolean"){f=!1;break}h.push(v)}var d;if(f){d=h.join(",")+(i?"-svg":"");var p=$p.get(d);p&&(i?l.svgElement=p:l.image=p)}var m=Ym(o.dashArrayX),g=aM(o.dashArrayY),y=qm(o.symbol),_=oM(m),w=Zm(g),S=!i&&Ui.createCanvas(),D=i&&{tag:"g",attrs:{},key:"dcl",children:[]},b=E(),M;S&&(S.width=b.width*e,S.height=b.height*e,M=S.getContext("2d")),C(),f&&$p.put(d,S||D),l.image=S,l.svgElement=D,l.svgWidth=b.width,l.svgHeight=b.height;function E(){for(var A=1,x=0,F=_.length;x<F;++x)A=ov(A,_[x]);for(var L=1,x=0,F=y.length;x<F;++x)L=ov(L,y[x].length);A*=L;var N=w*_.length*y.length;return{width:Math.max(1,Math.min(A,o.maxTileWidth)),height:Math.max(1,Math.min(N,o.maxTileHeight))}}function C(){M&&(M.clearRect(0,0,S.width,S.height),o.backgroundColor&&(M.fillStyle=o.backgroundColor,M.fillRect(0,0,S.width,S.height)));for(var A=0,x=0;x<g.length;++x)A+=g[x];if(A<=0)return;for(var F=-w,L=0,N=0,B=0;F<b.height;){if(L%2===0){for(var G=N/2%y.length,k=0,$=0,q=0;k<b.width*2;){for(var et=0,x=0;x<m[B].length;++x)et+=m[B][x];if(et<=0)break;if($%2===0){var it=(1-o.symbolSize)*.5,Z=k+m[B][$]*it,at=F+g[L]*it,vt=m[B][$]*o.symbolSize,mt=g[L]*o.symbolSize,rt=q/2%y[G].length;Wt(Z,at,vt,mt,y[G][rt])}k+=m[B][$],++q,++$,$===m[B].length&&($=0)}++B,B===m.length&&(B=0)}F+=g[L],++N,++L,L===g.length&&(L=0)}function Wt(St,dt,jt,Tt,yt){var Dt=i?1:e,te=uo(yt,St*Dt,dt*Dt,jt*Dt,Tt*Dt,o.color,o.symbolKeepAspect);if(i){var _e=n.painter.renderOneToVNode(te);_e&&D.children.push(_e)}else Wm(M,te)}}}}function qm(r){if(!r||r.length===0)return[["rect"]];if(lt(r))return[[r]];for(var t=!0,e=0;e<r.length;++e)if(!lt(r[e])){t=!1;break}if(t)return qm([r]);for(var n=[],e=0;e<r.length;++e)lt(r[e])?n.push([r[e]]):n.push(r[e]);return n}function Ym(r){if(!r||r.length===0)return[[0,0]];if(Jt(r)){var t=Math.ceil(r);return[[t,t]]}for(var e=!0,n=0;n<r.length;++n)if(!Jt(r[n])){e=!1;break}if(e)return Ym([r]);for(var i=[],n=0;n<r.length;++n)if(Jt(r[n])){var t=Math.ceil(r[n]);i.push([t,t])}else{var t=nt(r[n],function(s){return Math.ceil(s)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function aM(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(Jt(r)){var t=Math.ceil(r);return[t,t]}var e=nt(r,function(n){return Math.ceil(n)});return r.length%2?e.concat(e):e}function oM(r){return nt(r,function(t){return Zm(t)})}function Zm(r){for(var t=0,e=0;e<r.length;++e)t+=r[e];return r.length%2===1?t*2:t}function sM(r,t){r.eachRawSeries(function(e){if(!r.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=If(s,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=If(i,t)}}})}var uM=new vr;const ur=uM;var Hm={};function lM(r,t){Hm[r]=t}function fM(r){return Hm[r]}var hM=1,cM=800,vM=900,pM=1e3,dM=2e3,gM=5e3,Xm=1e3,mM=1100,Zh=2e3,jm=3e3,yM=4e3,cu=4500,_M=4600,wM=5e3,DM=6e3,Km=7e3,SM={PROCESSOR:{FILTER:pM,SERIES_FILTER:cM,STATISTIC:gM},VISUAL:{LAYOUT:Xm,PROGRESSIVE_LAYOUT:mM,GLOBAL:Zh,CHART:jm,POST_CHART_LAYOUT:_M,COMPONENT:yM,BRUSH:wM,CHART_ITEM:cu,ARIA:DM,DECAL:Km}},oe="__flagInMainProcess",Se="__pendingUpdate",bl="__needsUpdateStatus",Up=/^[a-zA-Z0-9_]+$/,Al="__connectUpdateStatus",Wp=0,CM=1,bM=2;function Qm(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return ty(this,r,t)}}function Jm(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ty(this,r,t)}}function ty(r,t,e){return e[0]=e[0]&&e[0].toLowerCase(),vr.prototype[t].apply(r,e)}var ey=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(vr),ry=ey.prototype;ry.on=Jm("on");ry.off=Jm("off");var ai,Ml,Go,Wr,El,xl,Tl,ha,ca,qp,Yp,Fl,Zp,Uo,Hp,ny,Ve,Xp,iy=function(r){Q(t,r);function t(e,n,i){var a=r.call(this,new EA)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},lt(n)&&(n=ay[n]),a._dom=e;var o="canvas",s="auto",u=!1,l=a._zr=iv(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:bt(i.useDirtyRect,u),useCoarsePointer:bt(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=lA(Qt(l.flush,l),17),n=gt(n),n&&Dm(n,!0),a._theme=n,a._locale=Nb(i.locale||Jg),a._coordSysMgr=new Vh;var h=a._api=Hp(a);function f(c,v){return c.__prio-v.__prio}return ns(Ls,f),ns(Bf,f),a._scheduler=new km(a,h,Bf,Ls),a._messageCenter=new ey,a._initEvents(),a.resize=Qt(a.resize,a),l.animation.on("frame",a._onframe,a),qp(l,a),Yp(l,a),Xl(a),a}return t.prototype._onframe=function(){if(!this._disposed){Xp(this);var e=this._scheduler;if(this[Se]){var n=this[Se].silent;this[oe]=!0;try{ai(this),Wr.update.call(this,null,this[Se].updateParams)}catch(u){throw this[oe]=!1,this[Se]=null,u}this._zr.flush(),this[oe]=!1,this[Se]=null,ha.call(this,n),ca.call(this,n)}else if(e.unfinished){var i=hM,a=this._model,o=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),xl(this,a),e.performVisualTasks(a),Uo(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,i){if(!this[oe]){if(this._disposed){this.id;return}var a,o,s;if(ot(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[oe]=!0,!this._model||n){var u=new y2(this._api),l=this._theme,h=this._model=new ym;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,l,this._locale,u)}this._model.setOption(e,{replaceMerge:o},Lf);var f={seriesTransition:s,optionChanged:!0};if(i)this[Se]={silent:a,updateParams:f},this[oe]=!1,this.getZr().wakeUp();else{try{ai(this),Wr.update.call(this,null,f)}catch(c){throw this[Se]=null,this[oe]=!1,c}this._ssr||this._zr.flush(),this[Se]=null,this[oe]=!1,ha.call(this,a),ca.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Nt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(Nt.svgSupported){var e=this._zr,n=e.storage.getDisplayList();return I(n,function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,i=this._model,a=[],o=this;I(n,function(u){i.eachComponent({mainType:u},function(l){var h=o._componentsMap[l.__viewId];h.group.ignore||(a.push(h),h.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return I(a,function(u){u.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(jp[i]){var u=s,l=s,h=-s,f=-s,c=[],v=e&&e.pixelRatio||this.getDevicePixelRatio();I(Pa,function(_,w){if(_.group===i){var S=n?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(gt(e)),D=_.getDom().getBoundingClientRect();u=a(D.left,u),l=a(D.top,l),h=o(D.right,h),f=o(D.bottom,f),c.push({dom:S,left:D.left,top:D.top})}}),u*=v,l*=v,h*=v,f*=v;var d=h-u,p=f-l,m=Ui.createCanvas(),g=iv(m,{renderer:n?"svg":"canvas"});if(g.resize({width:d,height:p}),n){var y="";return I(c,function(_){var w=_.left-u,S=_.top-l;y+='<g transform="translate('+w+","+S+')">'+_.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=y,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return e.connectedBackgroundColor&&g.add(new Ee({shape:{x:0,y:0,width:d,height:p},style:{fill:e.connectedBackgroundColor}})),I(c,function(_){var w=new Yi({style:{x:_.left*v-u,y:_.top*v-l,image:_.dom}});g.add(w)}),g.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n){return El(this,"convertToPixel",e,n)},t.prototype.convertFromPixel=function(e,n){return El(this,"convertFromPixel",e,n)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var i=this._model,a,o=xa(i,e);return I(o,function(s,u){u.indexOf("Models")>=0&&I(s,function(l){var h=l.coordinateSystem;if(h&&h.containPoint)a=a||!!h.containPoint(n);else if(u==="seriesModels"){var f=this._chartsMap[l.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,l))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var i=this._model,a=xa(i,e,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return u!=null?FA(s,u,n):IA(s,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;I(AM,function(n){var i=function(a){var o=e.getModel(),s=a.target,u,l=n==="globalout";if(l?u={}:s&&zo(s,function(d){var p=fe(d);if(p&&p.dataIndex!=null){var m=p.dataModel||o.getSeriesByIndex(p.seriesIndex);return u=m&&m.getDataParams(p.dataIndex,p.dataType,s)||{},!0}else if(p.eventData)return u=K({},p.eventData),!0},!0),u){var h=u.componentType,f=u.componentIndex;(h==="markLine"||h==="markPoint"||h==="markArea")&&(h="series",f=u.seriesIndex);var c=h&&f!=null&&o.getComponent(h,f),v=c&&e[c.mainType==="series"?"_chartsMap":"_componentsMap"][c.__viewId];u.event=a,u.type=n,e._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:c,view:v},e.trigger(n,u)}};i.zrEventfulCallAtLast=!0,e._zr.on(n,i,e)}),I(La,function(n,i){e._messageCenter.on(i,function(a){this.trigger(i,a)},e)}),I(["selectchanged"],function(n){e._messageCenter.on(n,function(i){this.trigger(n,i)},e)}),BA(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&vg(this.getDom(),Xh,"");var n=this,i=n._api,a=n._model;I(n._componentsViews,function(o){o.dispose(a,i)}),I(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Pa[n.id]},t.prototype.resize=function(e){if(!this[oe]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=e&&e.silent;this[Se]&&(a==null&&(a=this[Se].silent),i=!0,this[Se]=null),this[oe]=!0;try{i&&ai(this),Wr.update.call(this,{type:"resize",animation:K({duration:0},e&&e.animation)})}catch(o){throw this[oe]=!1,o}this[oe]=!1,ha.call(this,a),ca.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(ot(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!Pf[e]){var i=Pf[e](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=K({},e);return n.type=La[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(ot(n)||(n={silent:!!n}),!!Bs[e.type]&&this._model){if(this[oe]){this._pendingActions.push(e);return}var i=n.silent;Tl.call(this,e,i);var a=n.flush;a?this._zr.flush():a!==!1&&Nt.browser.weChat&&this._throttledZrFlush(),ha.call(this,i),ca.call(this,i)}},t.prototype.updateLabelLayout=function(){ur.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){ai=function(f){var c=f._scheduler;c.restorePipelines(f._model),c.prepareStageTasks(),Ml(f,!0),Ml(f,!1),c.plan()},Ml=function(f,c){for(var v=f._model,d=f._scheduler,p=c?f._componentsViews:f._chartsViews,m=c?f._componentsMap:f._chartsMap,g=f._zr,y=f._api,_=0;_<p.length;_++)p[_].__alive=!1;c?v.eachComponent(function(D,b){D!=="series"&&w(b)}):v.eachSeries(w);function w(D){var b=D.__requireNewView;D.__requireNewView=!1;var M="_ec_"+D.id+"_"+D.type,E=!b&&m[M];if(!E){var C=_r(D.type),A=c?rn.getClass(C.main,C.sub):Ti.getClass(C.sub);E=new A,E.init(v,y),m[M]=E,p.push(E),g.add(E.group)}D.__viewId=E.__id=M,E.__alive=!0,E.__model=D,E.group.__ecComponentInfo={mainType:D.mainType,index:D.componentIndex},!c&&d.prepareView(E,D,v,y)}for(var _=0;_<p.length;){var S=p[_];S.__alive?_++:(!c&&S.renderTask.dispose(),g.remove(S.group),S.dispose(v,y),p.splice(_,1),m[S.__id]===S&&delete m[S.__id],S.__id=S.group.__ecComponentInfo=null)}},Go=function(f,c,v,d,p){var m=f._model;if(m.setUpdatePayload(v),!d){I([].concat(f._componentsViews).concat(f._chartsViews),S);return}var g={};g[d+"Id"]=v[d+"Id"],g[d+"Index"]=v[d+"Index"],g[d+"Name"]=v[d+"Name"];var y={mainType:d,query:g};p&&(y.subType=p);var _=v.excludeSeriesId,w;_!=null&&(w=ft(),I(me(_),function(D){var b=wr(D,null);b!=null&&w.set(b,!0)})),m&&m.eachComponent(y,function(D){var b=w&&w.get(D.id)!=null;if(!b)if(Pv(v))if(D instanceof Xa)v.type===Pn&&!v.notBlur&&!D.get(["emphasis","disabled"])&&xC(D,v,f._api);else{var M=Fh(D.mainType,D.componentIndex,v.name,f._api),E=M.focusSelf,C=M.dispatchers;v.type===Pn&&E&&!v.notBlur&&gf(D.mainType,D.componentIndex,f._api),C&&I(C,function(A){v.type===Pn?Li(A):Pi(A)})}else _f(v)&&D instanceof Xa&&(IC(D,v,f._api),Lv(D),Ve(f))},f),m&&m.eachComponent(y,function(D){var b=w&&w.get(D.id)!=null;b||S(f[d==="series"?"_chartsMap":"_componentsMap"][D.__viewId])},f);function S(D){D&&D.__alive&&D[c]&&D[c](D.__model,m,f._api,v)}},Wr={prepareAndUpdate:function(f){ai(this),Wr.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,c){var v=this._model,d=this._api,p=this._zr,m=this._coordSysMgr,g=this._scheduler;if(v){v.setUpdatePayload(f),g.restoreData(v,f),g.performSeriesTasks(v),m.create(v,d),g.performDataProcessorTasks(v,f),xl(this,v),m.update(v,d),e(v),g.performVisualTasks(v,f),Fl(this,v,d,f,c);var y=v.get("backgroundColor")||"transparent",_=v.get("darkMode");p.setBackgroundColor(y),_!=null&&_!=="auto"&&p.setDarkMode(_),ur.trigger("afterupdate",v,d)}},updateTransform:function(f){var c=this,v=this._model,d=this._api;if(v){v.setUpdatePayload(f);var p=[];v.eachComponent(function(g,y){if(g!=="series"){var _=c.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var w=_.updateTransform(y,v,d,f);w&&w.update&&p.push(_)}else p.push(_)}});var m=ft();v.eachSeries(function(g){var y=c._chartsMap[g.__viewId];if(y.updateTransform){var _=y.updateTransform(g,v,d,f);_&&_.update&&m.set(g.uid,1)}else m.set(g.uid,1)}),e(v),this._scheduler.performVisualTasks(v,f,{setDirty:!0,dirtyMap:m}),Uo(this,v,d,f,{},m),ur.trigger("afterupdate",v,d)}},updateView:function(f){var c=this._model;c&&(c.setUpdatePayload(f),Ti.markUpdateMethod(f,"updateView"),e(c),this._scheduler.performVisualTasks(c,f,{setDirty:!0}),Fl(this,c,this._api,f,{}),ur.trigger("afterupdate",c,this._api))},updateVisual:function(f){var c=this,v=this._model;v&&(v.setUpdatePayload(f),v.eachSeries(function(d){d.getData().clearAllVisual()}),Ti.markUpdateMethod(f,"updateVisual"),e(v),this._scheduler.performVisualTasks(v,f,{visualType:"visual",setDirty:!0}),v.eachComponent(function(d,p){if(d!=="series"){var m=c.getViewOfComponentModel(p);m&&m.__alive&&m.updateVisual(p,v,c._api,f)}}),v.eachSeries(function(d){var p=c._chartsMap[d.__viewId];p.updateVisual(d,v,c._api,f)}),ur.trigger("afterupdate",v,this._api))},updateLayout:function(f){Wr.update.call(this,f)}},El=function(f,c,v,d){if(f._disposed){f.id;return}for(var p=f._model,m=f._coordSysMgr.getCoordinateSystems(),g,y=xa(p,v),_=0;_<m.length;_++){var w=m[_];if(w[c]&&(g=w[c](p,y,d))!=null)return g}},xl=function(f,c){var v=f._chartsMap,d=f._scheduler;c.eachSeries(function(p){d.updateStreamModes(p,v[p.__viewId])})},Tl=function(f,c){var v=this,d=this.getModel(),p=f.type,m=f.escapeConnect,g=Bs[p],y=g.actionInfo,_=(y.update||"update").split(":"),w=_.pop(),S=_[0]!=null&&_r(_[0]);this[oe]=!0;var D=[f],b=!1;f.batch&&(b=!0,D=nt(f.batch,function(L){return L=Mt(K({},L),f),L.batch=null,L}));var M=[],E,C=_f(f),A=Pv(f);if(A&&Rg(this._api),I(D,function(L){if(E=g.action(L,v._model,v._api),E=E||K({},L),E.type=y.event||E.type,M.push(E),A){var N=cg(f),B=N.queryOptionMap,G=N.mainTypeSpecified,k=G?B.keys()[0]:"series";Go(v,w,L,k),Ve(v)}else C?(Go(v,w,L,"series"),Ve(v)):S&&Go(v,w,L,S.main,S.sub)}),w!=="none"&&!A&&!C&&!S)try{this[Se]?(ai(this),Wr.update.call(this,f),this[Se]=null):Wr[w].call(this,f)}catch(L){throw this[oe]=!1,L}if(b?E={type:y.event||p,escapeConnect:m,batch:M}:E=M[0],this[oe]=!1,!c){var x=this._messageCenter;if(x.trigger(E.type,E),C){var F={type:"selectchanged",escapeConnect:m,selected:BC(d),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};x.trigger(F.type,F)}}},ha=function(f){for(var c=this._pendingActions;c.length;){var v=c.shift();Tl.call(this,v,f)}},ca=function(f){!f&&this.trigger("updated")},qp=function(f,c){f.on("rendered",function(v){c.trigger("rendered",v),f.animation.isFinished()&&!c[Se]&&!c._scheduler.unfinished&&!c._pendingActions.length&&c.trigger("finished")})},Yp=function(f,c){f.on("mouseover",function(v){var d=v.target,p=zo(d,yf);p&&(TC(p,v,c._api),Ve(c))}).on("mouseout",function(v){var d=v.target,p=zo(d,yf);p&&(FC(p,v,c._api),Ve(c))}).on("click",function(v){var d=v.target,p=zo(d,function(y){return fe(y).dataIndex!=null},!0);if(p){var m=p.selected?"unselect":"select",g=fe(p);c._api.dispatchAction({type:m,dataType:g.dataType,dataIndexInside:g.dataIndex,seriesIndex:g.seriesIndex,isFromClick:!0})}})};function e(f){f.clearColorPalette(),f.eachSeries(function(c){c.clearColorPalette()})}function n(f){var c=[],v=[],d=!1;if(f.eachComponent(function(y,_){var w=_.get("zlevel")||0,S=_.get("z")||0,D=_.getZLevelKey();d=d||!!D,(y==="series"?v:c).push({zlevel:w,z:S,idx:_.componentIndex,type:y,key:D})}),d){var p=c.concat(v),m,g;ns(p,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),I(p,function(y){var _=f.getComponent(y.type,y.idx),w=y.zlevel,S=y.key;m!=null&&(w=Math.max(m,w)),S?(w===m&&S!==g&&w++,g=S):g&&(w===m&&w++,g=""),m=w,_.setZLevel(w)})}}Fl=function(f,c,v,d,p){n(c),Zp(f,c,v,d,p),I(f._chartsViews,function(m){m.__alive=!1}),Uo(f,c,v,d,p),I(f._chartsViews,function(m){m.__alive||m.remove(c,v)})},Zp=function(f,c,v,d,p,m){I(m||f._componentsViews,function(g){var y=g.__model;l(y,g),g.render(y,c,v,d),s(y,g),h(y,g)})},Uo=function(f,c,v,d,p,m){var g=f._scheduler;p=K(p||{},{updatedSeries:c.getSeries()}),ur.trigger("series:beforeupdate",c,v,p);var y=!1;c.eachSeries(function(_){var w=f._chartsMap[_.__viewId];w.__alive=!0;var S=w.renderTask;g.updatePayload(S,d),l(_,w),m&&m.get(_.uid)&&S.dirty(),S.perform(g.getPerformArgs(S))&&(y=!0),w.group.silent=!!_.get("silent"),o(_,w),Lv(_)}),g.unfinished=y||g.unfinished,ur.trigger("series:layoutlabels",c,v,p),ur.trigger("series:transition",c,v,p),c.eachSeries(function(_){var w=f._chartsMap[_.__viewId];s(_,w),h(_,w)}),a(f,c),ur.trigger("series:afterupdate",c,v,p)},Ve=function(f){f[bl]=!0,f.getZr().wakeUp()},Xp=function(f){f[bl]&&(f.getZr().storage.traverse(function(c){cs(c)||i(c)}),f[bl]=!1)};function i(f){for(var c=[],v=f.currentStates,d=0;d<v.length;d++){var p=v[d];p==="emphasis"||p==="blur"||p==="select"||c.push(p)}f.selected&&f.states.select&&c.push("select"),f.hoverState===xh&&f.states.emphasis?c.push("emphasis"):f.hoverState===Eh&&f.states.blur&&c.push("blur"),f.useStates(c)}function a(f,c){var v=f._zr,d=v.storage,p=0;d.traverse(function(m){m.isGroup||p++}),p>c.get("hoverLayerThreshold")&&!Nt.node&&!Nt.worker&&c.eachSeries(function(m){if(!m.preventUsingHoverLayer){var g=f._chartsMap[m.__viewId];g.__alive&&g.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function o(f,c){var v=f.get("blendMode")||null;c.eachRendered(function(d){d.isGroup||(d.style.blend=v)})}function s(f,c){if(!f.preventAutoZ){var v=f.get("z")||0,d=f.get("zlevel")||0;c.eachRendered(function(p){return u(p,v,d,-1/0),!0})}}function u(f,c,v,d){var p=f.getTextContent(),m=f.getTextGuideLine(),g=f.isGroup;if(g)for(var y=f.childrenRef(),_=0;_<y.length;_++)d=Math.max(u(y[_],c,v,d),d);else f.z=c,f.zlevel=v,d=Math.max(f.z2,d);if(p&&(p.z=c,p.zlevel=v,isFinite(d)&&(p.z2=d+2)),m){var w=f.textGuideLineConfig;m.z=c,m.zlevel=v,isFinite(d)&&(m.z2=d+(w&&w.showAbove?1:-1))}return d}function l(f,c){c.eachRendered(function(v){if(!cs(v)){var d=v.getTextContent(),p=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),d&&d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function h(f,c){var v=f.getModel("stateAnimation"),d=f.isAnimationEnabled(),p=v.get("duration"),m=p>0?{duration:p,delay:v.get("delay"),easing:v.get("easing")}:null;c.eachRendered(function(g){if(g.states&&g.states.emphasis){if(cs(g))return;if(g instanceof ie&&OC(g),g.__dirty){var y=g.prevStates;y&&g.useStates(y)}if(d){g.stateTransition=m;var _=g.getTextContent(),w=g.getTextGuideLine();_&&(_.stateTransition=m),w&&(w.stateTransition=m)}g.__dirty&&i(g)}})}Hp=function(f){return new(function(c){Q(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(d){for(;d;){var p=d.__ecComponentInfo;if(p!=null)return f._model.getComponent(p.mainType,p.index);d=d.parent}},v.prototype.enterEmphasis=function(d,p){Li(d,p),Ve(f)},v.prototype.leaveEmphasis=function(d,p){Pi(d,p),Ve(f)},v.prototype.enterBlur=function(d){EC(d),Ve(f)},v.prototype.leaveBlur=function(d){Bg(d),Ve(f)},v.prototype.enterSelect=function(d){Lg(d),Ve(f)},v.prototype.leaveSelect=function(d){Pg(d),Ve(f)},v.prototype.getModel=function(){return f.getModel()},v.prototype.getViewOfComponentModel=function(d){return f.getViewOfComponentModel(d)},v.prototype.getViewOfSeriesModel=function(d){return f.getViewOfSeriesModel(d)},v}(_m))(f)},ny=function(f){function c(v,d){for(var p=0;p<v.length;p++){var m=v[p];m[Al]=d}}I(La,function(v,d){f._messageCenter.on(d,function(p){if(jp[f.group]&&f[Al]!==Wp){if(p&&p.escapeConnect)return;var m=f.makeActionFromEvent(p),g=[];I(Pa,function(y){y!==f&&y.group===f.group&&g.push(y)}),c(g,Wp),I(g,function(y){y[Al]!==CM&&y.dispatchAction(m)}),c(g,bM)}})})}}(),t}(vr),Hh=iy.prototype;Hh.on=Qm("on");Hh.off=Qm("off");Hh.one=function(r,t,e){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),n.off(r,i)}this.on.call(this,r,i,e)};var AM=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Bs={},La={},Bf=[],Lf=[],Ls=[],ay={},Pf={},Pa={},jp={},MM=+new Date-0,Xh="_echarts_instance_";function EM(r,t,e){var n=!(e&&e.ssr);if(n){var i=xM(r);if(i)return i}var a=new iy(r,t,e);return a.id="ec_"+MM++,Pa[a.id]=a,n&&vg(r,Xh,a.id),ny(a),ur.trigger("afterinit",a),a}function xM(r){return Pa[pS(r,Xh)]}function oy(r,t){ay[r]=t}function sy(r){Ct(Lf,r)<0&&Lf.push(r)}function uy(r,t){Kh(Bf,r,t,dM)}function TM(r){jh("afterinit",r)}function FM(r){jh("afterupdate",r)}function jh(r,t){ur.on(r,t)}function br(r,t,e){_t(t)&&(e=t,t="");var n=ot(r)?r.type:[r,r={event:t}][0];r.event=(r.event||n).toLowerCase(),t=r.event,!La[t]&&(Nr(Up.test(n)&&Up.test(t)),Bs[n]||(Bs[n]={action:e,actionInfo:r}),La[t]=n)}function IM(r,t){Vh.register(r,t)}function BM(r,t){Kh(Ls,r,t,Xm,"layout")}function Wn(r,t){Kh(Ls,r,t,jm,"visual")}var Kp=[];function Kh(r,t,e,n,i){if((_t(t)||ot(t))&&(e=t,t=n),!(Ct(Kp,e)>=0)){Kp.push(e);var a=km.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,r.push(a)}}function ly(r,t){Pf[r]=t}function LM(r,t,e){var n=fM("registerMap");n&&n(r,t,e)}var PM=U2;Wn(Zh,hA);Wn(cu,cA);Wn(cu,vA);Wn(Zh,xA);Wn(cu,TA);Wn(Km,sM);sy(Dm);uy(vM,M2);ly("default",pA);br({type:Pn,event:Pn,update:Pn},Re);br({type:fs,event:fs,update:fs},Re);br({type:Ta,event:Ta,update:Ta},Re);br({type:hs,event:hs,update:hs},Re);br({type:Fa,event:Fa,update:Fa},Re);oy("light",AA);oy("dark",MA);function va(r){return r==null?0:r.length||1}function Qp(r){return r}var NM=function(){function r(t,e,n,i,a,o){this._old=t,this._new=e,this._oldKeyGetter=n||Qp,this._newKeyGetter=i||Qp,this.context=a,this._diffModeMultiple=o==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=i[o],u=n[s],l=va(u);if(l>1){var h=u.shift();u.length===1&&(n[s]=u[0]),this._update&&this._update(h,o)}else l===1?(n[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},a=[],o=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],l=n[u],h=i[u],f=va(l),c=va(h);if(f>1&&c===1)this._updateManyToOne&&this._updateManyToOne(h,l),i[u]=null;else if(f===1&&c>1)this._updateOneToMany&&this._updateOneToMany(h,l),i[u]=null;else if(f===1&&c===1)this._update&&this._update(h,l),i[u]=null;else if(f>1&&c>1)this._updateManyToMany&&this._updateManyToMany(h,l),i[u]=null;else if(f>1)for(var v=0;v<f;v++)this._remove&&this._remove(l[v]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},r.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=e[i],o=va(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);e[i]=null}},r.prototype._initIndexMap=function(t,e,n,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[i](t[o],o);if(a||(n[o]=s),!!e){var u=e[s],l=va(u);l===0?(e[s]=o,a&&n.push(s)):l===1?e[s]=[u,o]:u.push(o)}}},r}();const Qh=NM;var RM=function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function OM(r,t){var e={},n=e.encode={},i=ft(),a=[],o=[],s={};I(r.dimensions,function(c){var v=r.getDimensionInfo(c),d=v.coordDim;if(d){var p=v.coordDimIndex;Il(n,d)[p]=c,v.isExtraCoord||(i.set(d,1),zM(v.type)&&(a[0]=c),Il(s,d)[p]=r.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(c)}cm.each(function(m,g){var y=Il(n,g),_=v.otherDims[g];_!=null&&_!==!1&&(y[_]=v.name)})});var u=[],l={};i.each(function(c,v){var d=n[v];l[v]=d[0],u=u.concat(d)}),e.dataDimsOnCoord=u,e.dataDimIndicesOnCoord=nt(u,function(c){return r.getDimensionInfo(c).storeDimIndex}),e.encodeFirstDimNotExtra=l;var h=n.label;h&&h.length&&(a=h.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,e.userOutput=new RM(s,t),e}function Il(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function kM(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function zM(r){return!(r==="ordinal"||r==="time")}var VM=function(){function r(t){this.otherDims={},t!=null&&K(this,t)}return r}();const gs=VM;var $M=ae(),GM={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},fy=function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=vy(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return bt(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Cm(this.source),n=!py(t),i="",a=[],o=0,s=0;o<t;o++){var u=void 0,l=void 0,h=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)u=e?f.name:null,l=f.type,h=f.ordinalMeta,s++;else{var c=this.getSourceDimension(o);c&&(u=e?c.name:null,l=c.type)}a.push({property:u,type:l,ordinalMeta:h}),e&&u!=null&&(!f||!f.isCalculationCoord)&&(i+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=GM[l]||"f",h&&(i+=h.uid),i+="$"}var v=this.source,d=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:d}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function hy(r){return r instanceof fy}function cy(r){for(var t=ft(),e=0;e<(r||[]).length;e++){var n=r[e],i=ot(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,e)}return t}function vy(r){var t=$M(r);return t.dimNameMap||(t.dimNameMap=cy(r.dimensionsDefine))}function py(r){return r>30}var pa=ot,qr=nt,UM=typeof Int32Array>"u"?Array:Int32Array,WM="e\0\0",Jp=-1,qM=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],YM=["_approximateExtent"],td,Wo,da,ga,Bl,qo,Ll,ZM=function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,i=!1;hy(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},o=[],s={},u=!1,l={},h=0;h<n.length;h++){var f=n[h],c=lt(f)?new gs({name:f}):f instanceof gs?f:new gs(f),v=c.name;c.type=c.type||"float",c.coordDim||(c.coordDim=v,c.coordDimIndex=0);var d=c.otherDims=c.otherDims||{};o.push(v),a[v]=c,l[v]!=null&&(u=!0),c.createInvertedIndices&&(s[v]=[]),d.itemName===0&&(this._nameDimIdx=h),d.itemId===0&&(this._idDimIdx=h),i&&(c.storeDimIndex=h)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var p=this._dimIdxToName=ft();I(o,function(m){p.set(a[m].storeDimIndex,m)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var i=this._schema.getSourceDimension(e);if(i)return i.name},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(Jt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},r.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,n){var i=this,a;if(t instanceof bf&&(a=t),!a){var o=this.dimensions,s=$h(t)||Te(t)?new bm(t,o.length):t;a=new bf;var u=qr(o,function(l){return{type:i._dimInfos[l].type,property:l}});a.initData(s,u,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=OM(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=i;s<a;s++){var u=s-i;this._nameList[s]=e[u],o&&Ll(this,s)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Jr&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,u=s===tr;if(u&&!i.pure)for(var l=[],h=t;h<e;h++){var f=i.getItem(h,l);if(!this.hasItemOption&&eS(f)&&(this.hasItemOption=!0),f){var c=f.name;a[h]==null&&c!=null&&(a[h]=wr(c,null));var v=f.id;o[h]==null&&v!=null&&(o[h]=wr(v,null))}}if(this._shouldMakeIdFromName())for(var h=t;h<e;h++)Ll(this,h);td(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){pa(t)?K(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=da(this,this._nameDimIdx,e)),n==null&&(n=""),n},r.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},r.prototype.getId=function(t){return Wo(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var n=this,i=this._store;return st(t)?i.getValues(qr(t,function(a){return n._getStoreDimIndex(a)}),e):i.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n[e];return i==null||isNaN(i)?Jp:i},r.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},r.prototype.each=function(t,e,n){_t(t)&&(n=e,e=t,t=[]);var i=n||this,a=qr(ga(t),this._getStoreDimIndex,this);this._store.each(a,i?Qt(e,i):e)},r.prototype.filterSelf=function(t,e,n){_t(t)&&(n=e,e=t,t=[]);var i=n||this,a=qr(ga(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Qt(e,i):e),this},r.prototype.selectRange=function(t){var e=this,n={},i=kt(t);return I(i,function(a){var o=e._getStoreDimIndex(a);n[o]=t[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(t,e,n){_t(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},r.prototype.map=function(t,e,n,i){var a=n||i||this,o=qr(ga(t),this._getStoreDimIndex,this),s=qo(this);return s._store=this._store.map(o,a?Qt(e,a):e),s},r.prototype.modify=function(t,e,n,i){var a=n||i||this,o=qr(ga(t),this._getStoreDimIndex,this);this._store.modify(o,a?Qt(e,a):e)},r.prototype.downSample=function(t,e,n,i){var a=qo(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),a},r.prototype.lttbDownSample=function(t,e){var n=qo(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Je(n,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new Qh(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Wo(t,n)},function(n){return Wo(e,n)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},pa(t)?K(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return i??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[e];return a==null&&(a=this.getVisual(e),st(a)?a=a.slice():pa(a)&&(a=K({},a)),i[e]=a),a},r.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,pa(e)?K(i,e):i[e]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){pa(t)?K(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?K(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;mC(n,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){I(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:qr(this.dimensions,this._getDimInfo,this),this.hostModel)),Bl(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var n=this[t];_t(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return e.apply(this,[i].concat(vh(arguments)))})},r.internalField=function(){td=function(t){var e=t._invertedIndicesMap;I(e,function(n,i){var a=t._dimInfos[i],o=a.ordinalMeta,s=t._store;if(o){n=e[i]=new UM(o.categories.length);for(var u=0;u<n.length;u++)n[u]=Jp;for(var u=0;u<s.count();u++)n[s.get(a.storeDimIndex,u)]=u}})},da=function(t,e,n){return wr(t._getCategory(e,n),null)},Wo=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=da(t,t._idDimIdx,e)),n==null&&(n=WM+e),n},ga=function(t){return st(t)||(t=t!=null?[t]:[]),t},qo=function(t){var e=new r(t._schema?t._schema:qr(t.dimensions,t._getDimInfo,t),t.hostModel);return Bl(e,t),e},Bl=function(t,e){I(qM.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,I(YM,function(n){t[n]=gt(e[n])}),t._calculationInfo=K({},e._calculationInfo)},Ll=function(t,e){var n=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,s=n[e],u=i[e];if(s==null&&a!=null&&(n[e]=s=da(t,a,e)),u==null&&o!=null&&(i[e]=u=da(t,o,e)),u==null&&s!=null){var l=t._nameRepeatCount,h=l[s]=(l[s]||0)+1;u=s,h>1&&(u+="__ec__"+h),i[e]=u}}}(),r}();const HM=ZM;function XM(r,t){$h(r)||(r=Gh(r)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||r.dimensionsDefine||[],i=ft(),a=[],o=KM(r,e,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&py(o),u=n===r.dimensionsDefine,l=u?vy(r):cy(n),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(r,o));for(var f=ft(h),c=new Tm(o),v=0;v<c.length;v++)c[v]=-1;function d(E){var C=c[E];if(C<0){var A=n[E],x=ot(A)?A:{name:A},F=new gs,L=x.name;L!=null&&l.get(L)!=null&&(F.name=F.displayName=L),x.type!=null&&(F.type=x.type),x.displayName!=null&&(F.displayName=x.displayName);var N=a.length;return c[E]=N,F.storeDimIndex=E,a.push(F),F}return a[C]}if(!s)for(var v=0;v<o;v++)d(v);f.each(function(E,C){var A=me(E).slice();if(A.length===1&&!lt(A[0])&&A[0]<0){f.set(C,!1);return}var x=f.set(C,[]);I(A,function(F,L){var N=lt(F)?l.get(F):F;N!=null&&N<o&&(x[L]=N,m(d(N),C,L))})});var p=0;I(e,function(E){var C,A,x,F;if(lt(E))C=E,F={};else{F=E,C=F.name;var L=F.ordinalMeta;F.ordinalMeta=null,F=K({},F),F.ordinalMeta=L,A=F.dimsDef,x=F.otherDims,F.name=F.coordDim=F.coordDimIndex=F.dimsDef=F.otherDims=null}var N=f.get(C);if(N!==!1){if(N=me(N),!N.length)for(var B=0;B<(A&&A.length||1);B++){for(;p<o&&d(p).coordDim!=null;)p++;p<o&&N.push(p++)}I(N,function(G,k){var $=d(G);if(u&&F.type!=null&&($.type=F.type),m(Mt($,F),C,k),$.name==null&&A){var q=A[k];!ot(q)&&(q={name:q}),$.name=$.displayName=q.name,$.defaultTooltip=q.defaultTooltip}x&&Mt($.otherDims,x)})}});function m(E,C,A){cm.get(C)!=null?E.otherDims[C]=A:(E.coordDim=C,E.coordDimIndex=A,i.set(C,!0))}var g=t.generateCoord,y=t.generateCoordCount,_=y!=null;y=g?y||1:0;var w=g||"value";function S(E){E.name==null&&(E.name=E.coordDim)}if(s)I(a,function(E){S(E)}),a.sort(function(E,C){return E.storeDimIndex-C.storeDimIndex});else for(var D=0;D<o;D++){var b=d(D),M=b.coordDim;M==null&&(b.coordDim=QM(w,i,_),b.coordDimIndex=0,(!g||y<=0)&&(b.isExtraCoord=!0),y--),S(b),b.type==null&&(gm(r,D)===Be.Must||b.isExtraCoord&&(b.otherDims.itemName!=null||b.otherDims.seriesName!=null))&&(b.type="ordinal")}return jM(a),new fy({source:r,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function jM(r){for(var t=ft(),e=0;e<r.length;e++){var n=r[e],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function KM(r,t,e,n){var i=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,n||0);return I(t,function(a){var o;ot(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function QM(r,t,e){if(e||t.hasKey(r)){for(var n=0;t.hasKey(r+n);)n++;r+=n}return t.set(r,!0),r}var JM=function(){function r(t){this.coordSysDims=[],this.axisMap=ft(),this.categoryAxisMap=ft(),this.coordSysName=t}return r}();function tE(r){var t=r.get("coordinateSystem"),e=new JM(t),n=eE[t];if(n)return n(r,e,e.axisMap,e.categoryAxisMap),e}var eE={cartesian2d:function(r,t,e,n){var i=r.getReferringComponents("xAxis",ge).models[0],a=r.getReferringComponents("yAxis",ge).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),oi(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),oi(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,n){var i=r.getReferringComponents("singleAxis",ge).models[0];t.coordSysDims=["single"],e.set("single",i),oi(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,n){var i=r.getReferringComponents("polar",ge).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),oi(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),oi(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();I(a.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),h=o[u];e.set(h,l),oi(l)&&(n.set(h,l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function oi(r){return r.get("type")==="category"}function rE(r,t,e){e=e||{};var n=e.byIndex,i=e.stackedCoordDimension,a,o,s;nE(t)?a=t:(o=t.schema,a=o.dimensions,s=t.store);var u=!!(r&&r.get("stack")),l,h,f,c;if(I(a,function(y,_){lt(y)&&(a[_]=y={name:y}),u&&!y.isExtraCoord&&(!n&&!l&&y.ordinalMeta&&(l=y),!h&&y.type!=="ordinal"&&y.type!=="time"&&(!i||i===y.coordDim)&&(h=y))}),h&&!n&&!l&&(n=!0),h){f="__\0ecstackresult_"+r.id,c="__\0ecstackedover_"+r.id,l&&(l.createInvertedIndices=!0);var v=h.coordDim,d=h.type,p=0;I(a,function(y){y.coordDim===v&&p++});var m={name:f,coordDim:v,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},g={name:c,coordDim:c,coordDimIndex:p+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(c,d),g.storeDimIndex=s.ensureCalculationDimension(f,d)),o.appendCalculationDimension(m),o.appendCalculationDimension(g)):(a.push(m),a.push(g))}return{stackedDimension:h&&h.name,stackedByDimension:l&&l.name,isStackedByIndex:n,stackedOverDimension:c,stackResultDimension:f}}function nE(r){return!hy(r.schema)}function Nf(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function iE(r,t){return Nf(r,t)?r.getCalculationInfo("stackResultDimension"):t}function aE(r,t){var e=r.get("coordinateSystem"),n=Vh.get(e),i;return t&&t.coordSysDims&&(i=nt(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var u=s.get("type");o.type=kM(u)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function oE(r,t,e){var n,i;return e&&I(r,function(a,o){var s=a.coordDim,u=e.categoryAxisMap.get(s);u&&(n==null&&(n=o),a.ordinalMeta=u.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function sE(r,t,e){e=e||{};var n=t.getSourceManager(),i,a=!1;r?(a=!0,i=Gh(r)):(i=n.getSource(),a=i.sourceFormat===tr);var o=tE(t),s=aE(t,o),u=e.useEncodeDefaulter,l=_t(u)?u:u?Yt(Qb,s,t):null,h={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},f=XM(i,h),c=oE(f.dimensions,e.createInvertedIndices,o),v=a?null:n.getSharedDataStore(f),d=rE(t,{schema:f,store:v}),p=new HM(f,t);p.setCalculationInfo(d);var m=c!=null&&uE(i)?function(g,y,_,w){return w===c?_:this.defaultDimValueGetter(g,y,_,w)}:null;return p.hasItemOption=!1,p.initData(a?i:v,null,m),p}function uE(r){if(r.sourceFormat===tr){var t=lE(r.data||[]);return!st(oo(t))}}function lE(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}var dy=function(){function r(t){this._setting=t||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r}();Ks(dy);const kr=dy;var fE=0,hE=function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++fE}return r.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&nt(n,cE);return new r({categories:i,needCollect:!i,deduplication:e.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!lt(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return e=i.get(t),e==null&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},r.prototype._getOrCreateMap=function(){return this._map||(this._map=ft(this.categories))},r}();function cE(r){return ot(r)&&r.value!=null?r.value:r+""}const Rf=hE;function Of(r){return r.type==="interval"||r.type==="log"}function vE(r,t,e,n){var i={},a=r[1]-r[0],o=i.interval=sg(a/t,!0);e!=null&&o<e&&(o=i.interval=e),n!=null&&o>n&&(o=i.interval=n);var s=i.intervalPrecision=gy(o),u=i.niceTickExtent=[Me(Math.ceil(r[0]/o)*o,s),Me(Math.floor(r[1]/o)*o,s)];return pE(u,r),i}function Pl(r){var t=Math.pow(10,Ch(r)),e=r/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,Me(e*t)}function gy(r){return za(r)+2}function ed(r,t,e){r[t]=Math.max(Math.min(r[t],e[1]),e[0])}function pE(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),ed(r,0,t),ed(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function vu(r,t){return r>=t[0]&&r<=t[1]}function pu(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function du(r,t){return r*(t[1]-t[0])+t[0]}var my=function(r){Q(t,r);function t(e){var n=r.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new Rf({})),st(i)&&(i=new Rf({categories:nt(i,function(a){return ot(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:lt(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),vu(e,this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),pu(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(du(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,i=n[0];i<=n[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,n.length);o<u;++o){var l=n[o];i[o]=l,a[l]=o}for(var h=0;o<s;++o){for(;a[h]!=null;)h++;i.push(h),a[h]=o}},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(kr);kr.registerClass(my);const yy=my;var Mn=Me,_y=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return vu(e,this._extent)},t.prototype.normalize=function(e){return pu(e,this._extent)},t.prototype.scale=function(e){return du(e,this._extent)},t.prototype.setExtent=function(e,n){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=gy(e)},t.prototype.getTicks=function(e){var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var u=1e4;i[0]<a[0]&&(e?s.push({value:Mn(a[0]-n,o)}):s.push({value:i[0]}));for(var l=a[0];l<=a[1]&&(s.push({value:l}),l=Mn(l+n,o),l!==s[s.length-1].value);)if(s.length>u)return[];var h=s.length?s[s.length-1].value:a[1];return i[1]>h&&(e?s.push({value:Mn(h+n,o)}):s.push({value:i[1]})),s},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],u=n[o-1],l=0,h=[],f=s.value-u.value,c=f/e;l<e-1;){var v=Mn(u.value+(l+1)*c);v>a[0]&&v<a[1]&&h.push(v),l++}i.push(h)}return i},t.prototype.getLabel=function(e,n){if(e==null)return"";var i=n&&n.precision;i==null?i=za(e.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Mn(e.value,i,!0);return Gb(a)},t.prototype.calcNiceTicks=function(e,n,i){e=e||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=vE(a,e,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);e.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(n[0]=Mn(Math.floor(n[0]/o)*o)),e.fixMax||(n[1]=Mn(Math.ceil(n[1]/o)*o))},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t}(kr);kr.registerClass(_y);const lo=_y;var wy=typeof Float32Array<"u",dE=wy?Float32Array:Array;function gE(r){return st(r)?wy?new Float32Array(r):r:new dE(r)}var mE="__ec_stack_";function Dy(r){return r.get("stack")||mE+r.seriesIndex}function Sy(r){return r.dim+r.index}function yE(r,t){var e=[];return t.eachSeriesByType(r,function(n){CE(n)&&e.push(n)}),e}function _E(r){var t={};I(r,function(u){var l=u.coordinateSystem,h=l.getBaseAxis();if(!(h.type!=="time"&&h.type!=="value"))for(var f=u.getData(),c=h.dim+"_"+h.index,v=f.getDimensionIndex(f.mapDimension(h.dim)),d=f.getStore(),p=0,m=d.count();p<m;++p){var g=d.get(v,p);t[c]?t[c].push(g):t[c]=[g]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(u,l){return u-l});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}e[n]=a}}return e}function wE(r){var t=_E(r),e=[];return I(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,l=t[u],h=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),c=Math.abs(f[1]-f[0]);s=l?h/c*l:h}else{var v=n.getData();s=Math.abs(o[1]-o[0])/v.count()}var d=Le(n.get("barWidth"),s),p=Le(n.get("barMaxWidth"),s),m=Le(n.get("barMinWidth")||(bE(n)?.5:1),s),g=n.get("barGap"),y=n.get("barCategoryGap");e.push({bandWidth:s,barWidth:d,barMaxWidth:p,barMinWidth:m,barGap:g,barCategoryGap:y,axisKey:Sy(a),stackId:Dy(n)})}),DE(e)}function DE(r){var t={};I(r,function(n,i){var a=n.axisKey,o=n.bandWidth,s=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;t[a]=s;var l=n.stackId;u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var h=n.barWidth;h&&!u[l].width&&(u[l].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var f=n.barMaxWidth;f&&(u[l].maxWidth=f);var c=n.barMinWidth;c&&(u[l].minWidth=c);var v=n.barGap;v!=null&&(s.gap=v);var d=n.barCategoryGap;d!=null&&(s.categoryGap=d)});var e={};return I(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var u=kt(a).length;s=Math.max(35-u*4,15)+"%"}var l=Le(s,o),h=Le(n.gap,1),f=n.remainedWidth,c=n.autoWidthCount,v=(f-l)/(c+(c-1)*h);v=Math.max(v,0),I(a,function(g){var y=g.maxWidth,_=g.minWidth;if(g.width){var w=g.width;y&&(w=Math.min(w,y)),_&&(w=Math.max(w,_)),g.width=w,f-=w+h*w,c--}else{var w=v;y&&y<w&&(w=Math.min(y,f)),_&&_>w&&(w=_),w!==v&&(g.width=w,f-=w+h*w,c--)}}),v=(f-l)/(c+(c-1)*h),v=Math.max(v,0);var d=0,p;I(a,function(g,y){g.width||(g.width=v),p=g,d+=g.width*(1+h)}),p&&(d-=p.width*h);var m=-d/2;I(a,function(g,y){e[i][y]=e[i][y]||{bandWidth:o,offset:m,width:g.width},m+=g.width*(1+h)})}),e}function SE(r,t,e){if(r&&t){var n=r[Sy(t)];return n!=null&&e!=null?n[Dy(e)]:n}}function CE(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function bE(r){return r.pipelineContext&&r.pipelineContext.large}var AE=function(r,t,e,n){for(;e<n;){var i=e+n>>>1;r[i][1]<t?e=i+1:n=i}return e},Cy=function(r){Q(t,r);function t(e){var n=r.call(this,e)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return rm(e.value,Kv[zb(Mi(this._minLevelUnit))]||Kv.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return Vb(e,n,i,o,a)},t.prototype.getTicks=function(){var e=this._interval,n=this._extent,i=[];if(!e)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),o=BE(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(o),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Ke,n[1]+=Ke),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Ke}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,i){e=e||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=Yo.length,u=Math.min(AE(Yo,this._approxInterval,0,s),s-1);this._interval=Yo[u][1],this._minLevelUnit=Yo[Math.max(u-1,0)][0]},t.prototype.parse=function(e){return Jt(e)?e:+tn(e)},t.prototype.contain=function(e){return vu(this.parse(e),this._extent)},t.prototype.normalize=function(e){return pu(this.parse(e),this._extent)},t.prototype.scale=function(e){return du(e,this._extent)},t.type="time",t}(lo),Yo=[["second",Nh],["minute",Rh],["hour",Ia],["quarter-day",Ia*6],["half-day",Ia*12],["day",Ke*1.2],["half-week",Ke*3.5],["week",Ke*7],["month",Ke*31],["quarter",Ke*95],["half-year",jv/2],["year",jv]];function ME(r,t,e,n){var i=tn(t),a=tn(e),o=function(d){return Qv(i,d,n)===Qv(a,d,n)},s=function(){return o("year")},u=function(){return s()&&o("month")},l=function(){return u()&&o("day")},h=function(){return l()&&o("hour")},f=function(){return h()&&o("minute")},c=function(){return f()&&o("second")},v=function(){return c()&&o("millisecond")};switch(r){case"year":return s();case"month":return u();case"day":return l();case"hour":return h();case"minute":return f();case"second":return c();case"millisecond":return v()}}function EE(r,t){return r/=Ke,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function xE(r){var t=30*Ke;return r/=t,r>6?6:r>3?3:r>2?2:1}function TE(r){return r/=Ia,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function rd(r,t){return r/=t?Rh:Nh,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function FE(r){return sg(r,!0)}function IE(r,t,e){var n=new Date(r);switch(Mi(t)){case"year":case"month":n[im(e)](0);case"day":n[am(e)](1);case"hour":n[om(e)](0);case"minute":n[sm(e)](0);case"second":n[um(e)](0),n[lm(e)](0)}return n.getTime()}function BE(r,t,e,n){var i=1e4,a=em,o=0;function s(C,A,x,F,L,N,B){for(var G=new Date(A),k=A,$=G[F]();k<x&&k<=n[1];)B.push({value:k}),$+=C,G[L]($),k=G.getTime();B.push({value:k,notAdd:!0})}function u(C,A,x){var F=[],L=!A.length;if(!ME(Mi(C),n[0],n[1],e)){L&&(A=[{value:IE(new Date(n[0]),C,e)},{value:n[1]}]);for(var N=0;N<A.length-1;N++){var B=A[N].value,G=A[N+1].value;if(B!==G){var k=void 0,$=void 0,q=void 0,et=!1;switch(C){case"year":k=Math.max(1,Math.round(t/Ke/365)),$=Oh(e),q=$b(e);break;case"half-year":case"quarter":case"month":k=xE(t),$=Ei(e),q=im(e);break;case"week":case"half-week":case"day":k=EE(t),$=iu(e),q=am(e),et=!0;break;case"half-day":case"quarter-day":case"hour":k=TE(t),$=qa(e),q=om(e);break;case"minute":k=rd(t,!0),$=au(e),q=sm(e);break;case"second":k=rd(t,!1),$=ou(e),q=um(e);break;case"millisecond":k=FE(t),$=su(e),q=lm(e);break}s(k,B,G,$,q,et,F),C==="year"&&x.length>1&&N===0&&x.unshift({value:x[0].value-k})}}for(var N=0;N<F.length;N++)x.push(F[N]);return F}}for(var l=[],h=[],f=0,c=0,v=0;v<a.length&&o++<i;++v){var d=Mi(a[v]);if(kb(a[v])){u(a[v],l[l.length-1]||[],h);var p=a[v+1]?Mi(a[v+1]):null;if(d!==p){if(h.length){c=f,h.sort(function(C,A){return C.value-A.value});for(var m=[],g=0;g<h.length;++g){var y=h[g].value;(g===0||h[g-1].value!==y)&&(m.push(h[g]),y>=n[0]&&y<=n[1]&&f++)}var _=(n[1]-n[0])/t;if(f>_*1.5&&c>_/1.5||(l.push(m),f>_||r===a[v]))break}h=[]}}}for(var w=le(nt(l,function(C){return le(C,function(A){return A.value>=n[0]&&A.value<=n[1]&&!A.notAdd})}),function(C){return C.length>0}),S=[],D=w.length-1,v=0;v<w.length;++v)for(var b=w[v],M=0;M<b.length;++M)S.push({value:b[M].value,level:D-v});S.sort(function(C,A){return C.value-A.value});for(var E=[],v=0;v<S.length;++v)(v===0||S[v].value!==S[v-1].value)&&E.push(S[v]);return E}kr.registerClass(Cy);const LE=Cy;var nd=kr.prototype,Na=lo.prototype,PE=Me,NE=Math.floor,RE=Math.ceil,Zo=Math.pow,ar=Math.log,Jh=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new lo,e._interval=0,e}return t.prototype.getTicks=function(e){var n=this._originalScale,i=this._extent,a=n.getExtent(),o=Na.getTicks.call(this,e);return nt(o,function(s){var u=s.value,l=Me(Zo(this.base,u));return l=u===i[0]&&this._fixMin?Ho(l,a[0]):l,l=u===i[1]&&this._fixMax?Ho(l,a[1]):l,{value:l}},this)},t.prototype.setExtent=function(e,n){var i=ar(this.base);e=ar(Math.max(0,e))/i,n=ar(Math.max(0,n))/i,Na.setExtent.call(this,e,n)},t.prototype.getExtent=function(){var e=this.base,n=nd.getExtent.call(this);n[0]=Zo(e,n[0]),n[1]=Zo(e,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=Ho(n[0],a[0])),this._fixMax&&(n[1]=Ho(n[1],a[1])),n},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var n=this.base;e[0]=ar(e[0])/ar(n),e[1]=ar(e[1])/ar(n),nd.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=KD(i),o=e/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Me(RE(n[0]/a)*a),Me(NE(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},t.prototype.calcNiceExtent=function(e){Na.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=ar(e)/ar(this.base),vu(e,this._extent)},t.prototype.normalize=function(e){return e=ar(e)/ar(this.base),pu(e,this._extent)},t.prototype.scale=function(e){return e=du(e,this._extent),Zo(this.base,e)},t.type="log",t}(kr),by=Jh.prototype;by.getMinorTicks=Na.getMinorTicks;by.getLabel=Na.getLabel;function Ho(r,t){return PE(r,za(t))}kr.registerClass(Jh);const OE=Jh;var kE=function(){function r(t,e,n){this._prepareParams(t,e,n)}return r.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);_t(a)?this._modelMinNum=Xo(t,a({min:n[0],max:n[1]})):a!=="dataMin"&&(this._modelMinNum=Xo(t,a));var o=this._modelMaxRaw=e.get("max",!0);if(_t(o)?this._modelMaxNum=Xo(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=Xo(t,o)),i)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),u=st(s)?s:[s||0,s||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[kn(u[0],1),kn(u[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),s=this._modelMinRaw==="dataMin"?e:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,l=s!=null,h=u!=null;s==null&&(s=t?i?0:NaN:e-a[0]*o),u==null&&(u=t?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(u==null||!isFinite(u))&&(u=NaN);var f=Ds(s)||Ds(u)||t&&!i;this._needCrossZero&&(s>0&&u>0&&!l&&(s=0),s<0&&u<0&&!h&&(u=0));var c=this._determinedMin,v=this._determinedMax;return c!=null&&(s=c,l=!0),v!=null&&(u=v,h=!0),{min:s,max:u,minFixed:l,maxFixed:h,isBlank:f}},r.prototype.modifyDataMinMax=function(t,e){this[VE[t]]=e},r.prototype.setDeterminedMinMax=function(t,e){var n=zE[t];this[n]=e},r.prototype.freeze=function(){this.frozen=!0},r}(),zE={min:"_determinedMin",max:"_determinedMax"},VE={min:"_dataMin",max:"_dataMax"};function Ay(r,t,e){var n=r.rawExtentInfo;return n||(n=new kE(r,t,e),r.rawExtentInfo=n,n)}function Xo(r,t){return t==null?null:Ds(t)?NaN:r.parse(t)}function My(r,t){var e=r.type,n=Ay(r,t,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,o=t.ecModel;if(o&&e==="time"){var s=yE("bar",o),u=!1;if(I(s,function(f){u=u||f.getBaseAxis()===t.axis}),u){var l=wE(s),h=$E(i,a,t,l);i=h.min,a=h.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function $E(r,t,e,n){var i=e.axis.getExtent(),a=i[1]-i[0],o=SE(n,e.axis);if(o===void 0)return{min:r,max:t};var s=1/0;I(o,function(v){s=Math.min(v.offset,s)});var u=-1/0;I(o,function(v){u=Math.max(v.offset+v.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,h=t-r,f=1-(s+u)/a,c=h/f-h;return t+=c*(u/l),r-=c*(s/l),{min:r,max:t}}function id(r,t){var e=t,n=My(r,e),i=n.extent,a=e.get("splitNumber");r instanceof OE&&(r.base=e.get("logBase"));var o=r.type,s=e.get("interval"),u=o==="interval"||o==="time";r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:u?e.get("minInterval"):null,maxInterval:u?e.get("maxInterval"):null}),s!=null&&r.setInterval&&r.setInterval(s)}function GE(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new yy({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new LE({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(kr.getClass(t)||lo)}}function UE(r){var t=r.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function fo(r){var t=r.getLabelModel().get("formatter"),e=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(n){return function(i,a){return r.scale.getFormattedLabel(i,a,n)}}(t):lt(t)?function(n){return function(i){var a=r.scale.getLabel(i),o=n.replace("{value}",a??"");return o}}(t):_t(t)?function(n){return function(i,a){return e!=null&&(a=i.value-e),n(WE(r,i),a,i.level!=null?{level:i.level}:null)}}(t):function(n){return r.scale.getLabel(n)}}function WE(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function qE(r){var t=r.model,e=r.scale;if(!(!t.get(["axisLabel","show"])||e.isBlank())){var n,i,a=e.getExtent();e instanceof yy?i=e.count():(n=e.getTicks(),i=n.length);var o=r.getLabelModel(),s=fo(r),u,l=1;i>40&&(l=Math.ceil(i/40));for(var h=0;h<i;h+=l){var f=n?n[h]:{value:a[0]+h},c=s(f,h),v=o.getTextRect(c),d=YE(v,o.get("rotate")||0);u?u.union(d):u=d}return u}}function YE(r,t){var e=t*Math.PI/180,n=r.width,i=r.height,a=n*Math.abs(Math.cos(e))+Math.abs(i*Math.sin(e)),o=n*Math.abs(Math.sin(e))+Math.abs(i*Math.cos(e)),s=new At(r.x,r.y,a,o);return s}function tc(r){var t=r.get("interval");return t??"auto"}function Ey(r){return r.type==="category"&&tc(r.getLabelModel())===0}function xy(r,t){var e={};return I(r.mapDimensionsAll(t),function(n){e[iE(r,n)]=!0}),kt(e)}function ZE(r,t,e){t&&I(xy(t,e),function(n){var i=t.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}var HE=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}(),ad=[],XE={registerPreprocessor:sy,registerProcessor:uy,registerPostInit:TM,registerPostUpdate:FM,registerUpdateLifecycle:jh,registerAction:br,registerCoordinateSystem:IM,registerLayout:BM,registerVisual:Wn,registerTransform:PM,registerLoading:ly,registerMap:LM,registerImpl:lM,PRIORITY:SM,ComponentModel:$t,ComponentView:rn,SeriesModel:Xa,ChartView:Ti,registerComponentModel:function(r){$t.registerClass(r)},registerComponentView:function(r){rn.registerClass(r)},registerSeriesModel:function(r){Xa.registerClass(r)},registerChartView:function(r){Ti.registerClass(r)},registerSubTypeDefaulter:function(r,t){$t.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){qD(r,t)}};function zn(r){if(st(r)){I(r,function(t){zn(t)});return}Ct(ad,r)>=0||(ad.push(r),_t(r)&&(r={install:r}),r.install(XE))}var Qa=ae();function jE(r){return r.type==="category"?QE(r):tx(r)}function KE(r,t){return r.type==="category"?JE(r,t):{ticks:nt(r.scale.getTicks(),function(e){return e.value})}}function QE(r){var t=r.getLabelModel(),e=Ty(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function Ty(r,t){var e=Fy(r,"labels"),n=tc(t),i=Iy(e,n);if(i)return i;var a,o;return _t(n)?a=Py(r,n):(o=n==="auto"?ex(r):n,a=Ly(r,o)),By(e,n,{labels:a,labelCategoryInterval:o})}function JE(r,t){var e=Fy(r,"ticks"),n=tc(t),i=Iy(e,n);if(i)return i;var a,o;if((!t.get("show")||r.scale.isBlank())&&(a=[]),_t(n))a=Py(r,n,!0);else if(n==="auto"){var s=Ty(r,r.getLabelModel());o=s.labelCategoryInterval,a=nt(s.labels,function(u){return u.tickValue})}else o=n,a=Ly(r,o,!0);return By(e,n,{ticks:a,tickCategoryInterval:o})}function tx(r){var t=r.scale.getTicks(),e=fo(r);return{labels:nt(t,function(n,i){return{level:n.level,formattedLabel:e(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value}})}}function Fy(r,t){return Qa(r)[t]||(Qa(r)[t]=[])}function Iy(r,t){for(var e=0;e<r.length;e++)if(r[e].key===t)return r[e].value}function By(r,t,e){return r.push({key:t,value:e}),e}function ex(r){var t=Qa(r).autoInterval;return t??(Qa(r).autoInterval=r.calculateCategoryInterval())}function rx(r){var t=nx(r),e=fo(r),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=r.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],l=r.dataToCoord(u+1)-r.dataToCoord(u),h=Math.abs(l*Math.cos(n)),f=Math.abs(l*Math.sin(n)),c=0,v=0;u<=a[1];u+=s){var d=0,p=0,m=wh(e({value:u}),t.font,"center","top");d=m.width*1.3,p=m.height*1.3,c=Math.max(c,d,7),v=Math.max(v,p,7)}var g=c/h,y=v/f;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(g,y))),w=Qa(r.model),S=r.getExtent(),D=w.lastAutoInterval,b=w.lastTickCount;return D!=null&&b!=null&&Math.abs(D-_)<=1&&Math.abs(b-o)<=1&&D>_&&w.axisExtent0===S[0]&&w.axisExtent1===S[1]?_=D:(w.lastTickCount=o,w.lastAutoInterval=_,w.axisExtent0=S[0],w.axisExtent1=S[1]),_}function nx(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Ly(r,t,e){var n=fo(r),i=r.scale,a=i.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((t||0)+1,1),l=a[0],h=i.count();l!==0&&u>1&&h/u>2&&(l=Math.round(Math.ceil(l/u)*u));var f=Ey(r),c=o.get("showMinLabel")||f,v=o.get("showMaxLabel")||f;c&&l!==a[0]&&p(a[0]);for(var d=l;d<=a[1];d+=u)p(d);v&&d-u!==a[1]&&p(a[1]);function p(m){var g={value:m};s.push(e?m:{formattedLabel:n(g),rawLabel:i.getLabel(g),tickValue:m})}return s}function Py(r,t,e){var n=r.scale,i=fo(r),a=[];return I(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;t(o.value,s)&&a.push(e?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),a}var od=[0,1],ix=function(){function r(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return r.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return ag(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},r.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),sd(n,i.count())),Tn(t,od,n,e)},r.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),sd(n,i.count()));var a=Tn(t,n,od,e);return this.scale.scale(a)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=KE(this,e),i=n.ticks,a=nt(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return ax(this,a,o,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=nt(n,function(a){return nt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(){return jE(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(){return rx(this)},r}();function sd(r,t){var e=r[1]-r[0],n=t,i=e/n/2;r[0]+=i,r[1]-=i}function ax(r,t,e,n){var i=t.length;if(!r.onBand||e||!i)return;var a=r.getExtent(),o,s;if(i===1)t[0].coord=a[0],o=t[1]={coord:a[1]};else{var u=t[i-1].tickValue-t[0].tickValue,l=(t[i-1].coord-t[0].coord)/u;I(t,function(v){v.coord-=l/2});var h=r.scale.getExtent();s=1+h[1]-t[i-1].tickValue,o={coord:t[i-1].coord+l*s},t.push(o)}var f=a[0]>a[1];c(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&c(a[0],t[0].coord)&&t.unshift({coord:a[0]}),c(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&c(o.coord,a[1])&&t.push({coord:a[1]});function c(v,d){return v=Me(v),d=Me(d),f?v>d:v<d}}const ox=ix;function sx(r){for(var t=[],e=0;e<r.length;e++){var n=r[e];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,l=o.clone();l.applyTransform(a),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var h=s?new Df(o,a):null;t.push({label:i,labelLine:n.labelLine,rect:l,localRect:o,obb:h,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return t}function ux(r){var t=[];r.sort(function(p,m){return m.priority-p.priority});var e=new At(0,0,0,0);function n(p){if(!p.ignore){var m=p.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}p.ignore=!0}for(var i=0;i<r.length;i++){var a=r[i],o=a.axisAligned,s=a.localRect,u=a.transform,l=a.label,h=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var f=a.obb,c=!1,v=0;v<t.length;v++){var d=t[v];if(e.intersect(d.rect)){if(o&&d.axisAligned){c=!0;break}if(d.obb||(d.obb=new Df(d.localRect,d.transform)),f||(f=new Df(s,u)),f.intersect(d.obb)){c=!0;break}}}c?(n(l),h&&n(h)):(l.attr("ignore",a.defaultAttr.ignore),h&&h.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function lx(r,t){var e=r.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var i=Ri(r,t,e[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<e.length;o++)a.push(Ri(r,t,e[o]));return a.join(" ")}}var fx=function(r){Q(t,r);function t(e,n,i,a){var o=r.call(this)||this;return o.updateData(e,n,i,a),o}return t.prototype._createSymbol=function(e,n,i,a,o){this.removeAll();var s=uo(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=hx,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Li(this.childAt(0))},t.prototype.downplay=function(){Pi(this.childAt(0))},t.prototype.setZ=function(e,n){var i=this.childAt(0);i.zlevel=e,i.z=n},t.prototype.setDraggable=function(e,n){var i=this.childAt(0);i.draggable=e,i.cursor=!n&&e?"move":i.cursor},t.prototype.updateData=function(e,n,i,a){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,u=t.getSymbolSize(e,n),l=o!==this._symbolType,h=a&&a.disableAnimation;if(l){var f=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,u,f)}else{var c=this.childAt(0);c.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};h?c.attr(v):ru(c,v,s,n),lb(c)}if(this._updateCommon(e,n,u,i,a),l){var c=this.childAt(0);if(!h){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,ub(c,v,s,n)}}h&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,i,a,o){var s=this.childAt(0),u=e.hostModel,l,h,f,c,v,d,p,m,g;if(a&&(l=a.emphasisItemStyle,h=a.blurItemStyle,f=a.selectItemStyle,c=a.focus,v=a.blurScope,p=a.labelStatesModels,m=a.hoverScale,g=a.cursorStyle,d=a.emphasisDisabled),!a||e.hasItemOption){var y=a&&a.itemModel?a.itemModel:e.getItemModel(n),_=y.getModel("emphasis");l=_.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),h=y.getModel(["blur","itemStyle"]).getItemStyle(),c=_.get("focus"),v=_.get("blurScope"),d=_.get("disabled"),p=jg(y),m=_.getShallow("scale"),g=y.getShallow("cursor")}var w=e.getItemVisual(n,"symbolRotate");s.attr("rotation",(w||0)*Math.PI/180||0);var S=Vm(e.getItemVisual(n,"symbolOffset"),i);S&&(s.x=S[0],s.y=S[1]),g&&s.attr("cursor",g);var D=e.getItemVisual(n,"style"),b=D.fill;if(s instanceof Yi){var M=s.style;s.useStyle(K({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},D))}else s.__isEmptyBrush?s.useStyle(K({},D)):s.useStyle(D),s.style.decal=null,s.setColor(b,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var E=e.getItemVisual(n,"liftZ"),C=this._z2;E!=null?C==null&&(this._z2=s.z2,s.z2+=E):C!=null&&(s.z2=C,this._z2=null);var A=o&&o.useNameLabel;Xg(s,p,{labelFetcher:u,labelDataIndex:n,defaultText:x,inheritColor:b,defaultOpacity:D.opacity});function x(N){return A?e.getName(N):lx(e,N)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var F=s.ensureState("emphasis");F.style=l,s.ensureState("select").style=f,s.ensureState("blur").style=h;var L=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;F.scaleX=this._sizeX*L,F.scaleY=this._sizeY*L,this.setSymbolScale(1),PC(this,c,v,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,i){var a=this.childAt(0),o=fe(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var u=a.getTextContent();u&&zv(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();zv(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,n){return qA(e.getItemVisual(n,"symbolSize"))},t}(ye);function hx(r,t){this.parent.drift(r,t)}const cx=fx;function Nl(r,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function ud(r){return r!=null&&!ot(r)&&(r={isIgnore:r}),r||{}}function ld(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:jg(t),cursorStyle:t.get("cursor")}}var vx=function(){function r(t){this.group=new ye,this._SymbolCtor=t||cx}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=ud(e);var n=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,s=e.disableAnimation,u=ld(t),l={disableAnimation:s},h=e.getSymbolPoint||function(f){return t.getItemLayout(f)};a||n.removeAll(),t.diff(a).add(function(f){var c=h(f);if(Nl(t,c,f,e)){var v=new o(t,f,u,l);v.setPosition(c),t.setItemGraphicEl(f,v),n.add(v)}}).update(function(f,c){var v=a.getItemGraphicEl(c),d=h(f);if(!Nl(t,d,f,e)){n.remove(v);return}var p=t.getItemVisual(f,"symbol")||"circle",m=v&&v.getSymbolType&&v.getSymbolType();if(!v||m&&m!==p)n.remove(v),v=new o(t,f,u,l),v.setPosition(d);else{v.updateData(t,f,u,l);var g={x:d[0],y:d[1]};s?v.attr(g):ru(v,g,i)}n.add(v),t.setItemGraphicEl(f,v)}).remove(function(f){var c=a.getItemGraphicEl(f);c&&c.fadeOut(function(){n.remove(c)},i)}).execute(),this._getSymbolPoint=h,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=ld(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=ud(n);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(Nl(e,o,a,n)){var s=new this._SymbolCtor(e,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){Hg(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},n.hostModel)}):e.removeAll()},r}();const px=vx;function Ny(r,t){return{seriesType:r,plan:Im(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,o=t||a.large;if(i){var s=nt(i.dimensions,function(v){return n.mapDimension(v)}).slice(0,2),u=s.length,l=n.getCalculationInfo("stackResultDimension");Nf(n,s[0])&&(s[0]=l),Nf(n,s[1])&&(s[1]=l);var h=n.getStore(),f=n.getDimensionIndex(s[0]),c=n.getDimensionIndex(s[1]);return u&&{progress:function(v,d){for(var p=v.end-v.start,m=o&&gE(p*u),g=[],y=[],_=v.start,w=0;_<v.end;_++){var S=void 0;if(u===1){var D=h.get(f,_);S=i.dataToPoint(D,null,y)}else g[0]=h.get(f,_),g[1]=h.get(c,_),S=i.dataToPoint(g,null,y);o?(m[w++]=S[0],m[w++]=S[1]):d.setItemLayout(_,S.slice())}o&&d.setLayout("points",m)}}}}}}var dx=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return sE(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Xa);const gx=dx;var Ry=4,mx=function(){function r(){}return r}(),yx=function(r){Q(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new mx},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var i=n.points,a=n.size,o=this.symbolProxy,s=o.shape,u=e.getContext?e.getContext():e,l=u&&a[0]<Ry,h=this.softClipShape,f;if(l){this._ctx=u;return}for(this._ctx=null,f=this._off;f<i.length;){var c=i[f++],v=i[f++];isNaN(c)||isNaN(v)||h&&!h.contain(c,v)||(s.x=c-a[0]/2,s.y=v-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,i=e.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<n.length;){var u=n[s++],l=n[s++];isNaN(u)||isNaN(l)||o&&!o.contain(u,l)||a.fillRect(u-i[0]/2,l-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),u=Math.max(o[1],4),l=a.length/2-1;l>=0;l--){var h=l*2,f=a[h]-s/2,c=a[h+1]-u/2;if(e>=f&&n>=c&&e<=f+s&&n<=c+u)return l}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.points,a=n.size,o=a[0],s=a[1],u=1/0,l=1/0,h=-1/0,f=-1/0,c=0;c<i.length;){var v=i[c++],d=i[c++];u=Math.min(v,u),h=Math.max(v,h),l=Math.min(d,l),f=Math.max(d,f)}e=this._rect=new At(u-o/2,l-s/2,h-u+o,f-l+s)}return e},t}(ie),_x=function(){function r(){this.group=new ye}return r.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}n.setShape("points",e),n.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,u=new Float32Array(s+a.length);u.set(o),u.set(a,s),i.endIndex=t.end,i.setShape({points:u})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:a}),this._setCommon(l,e,n)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new yx({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=uo(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<Ry;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),u=s&&s.fill;u&&t.setColor(u);var l=fe(t);l.seriesIndex=i.seriesIndex,t.on("mousemove",function(h){l.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(l.dataIndex=f+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}();const Dx=_x;var Sx=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Ny("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,i=n&&n.getArea&&n.getArea();return e.get("clip",!0)?i:null},t.prototype._updateSymbolDraw=function(e,n){var i=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new Dx:new px,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Ti);const Cx=Sx;var bx=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}($t);const Ax=bx;var kf=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ge).models[0]},t.type="cartesian2dAxis",t}($t);Sr(kf,HE);var Oy={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Mx=pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Oy),ec=pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Oy),Ex=pt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ec),xx=Mt({logBase:10},ec);const Tx={category:Mx,value:ec,time:Ex,log:xx};var Fx={value:1,category:1,time:1,log:1};function fd(r,t,e,n){I(Fx,function(i,a){var o=pt(pt({},Tx[a],!0),n,!0),s=function(u){Q(l,u);function l(){var h=u!==null&&u.apply(this,arguments)||this;return h.type=t+"Axis."+a,h}return l.prototype.mergeDefaultAndTheme=function(h,f){var c=Za(this),v=c?uu(h):{},d=f.getTheme();pt(h,d.get(a+"Axis")),pt(h,this.getDefaultOption()),h.type=hd(h),c&&Ni(h,v,c)},l.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=Rf.createByAxisModel(this))},l.prototype.getCategories=function(h){var f=this.option;if(f.type==="category")return h?f.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=t+"Axis."+a,l.defaultOption=o,l}(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",hd)}function hd(r){return r.type||(r.data?"category":"value")}var Ix=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return nt(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),le(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}();const Bx=Ix;var zf=["x","y"];function cd(r){return r.type==="interval"||r.type==="time"}var Lx=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=zf,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!cd(e)||!cd(n))){var i=e.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],l=a[1]-a[0];if(!(!u||!l)){var h=(s[0]-o[0])/u,f=(s[1]-o[1])/l,c=o[0]-i[0]*h,v=o[1]-a[0]*f,d=this._transform=[h,0,0,f,c,v];this._invTransform=gh([],d)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var i=this.dataToPoint(e),a=this.dataToPoint(n),o=this.getArea(),s=new At(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,n,i){i=i||[];var a=e[0],o=e[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Qe(i,e,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=u.toGlobalCoord(u.dataToCoord(o,n)),i},t.prototype.clampData=function(e,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),u=i.parse(e[0]),l=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(e,n){var i=[];if(this._invTransform)return Qe(i,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),n),i[1]=o.coordToData(o.toLocalCoord(e[1]),n),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),a=Math.min(n[0],n[1]),o=Math.max(e[0],e[1])-i,s=Math.max(n[0],n[1])-a;return new At(i,a,o,s)},t}(Bx),Px=function(r){Q(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(ox);const Nx=Px;function Rx(r,t,e){e=e||{};var n=r.coordinateSystem,i=t.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,l=i.dim,h=n.getRect(),f=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},v=t.get("offset")||0,d=l==="x"?[f[2]-v,f[3]+v]:[f[0]-v,f[1]+v];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[c.onZero]=Math.max(Math.min(p,d[1]),d[0])}a.position=[l==="y"?d[c[u]]:f[0],l==="x"?d[c[u]]:f[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=o?d[c[s]]-d[c.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Ra(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=t.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-g:g,a.z2=1,a}function vd(r){return r.get("coordinateSystem")==="cartesian2d"}function pd(r){var t={xAxisModel:null,yAxisModel:null};return I(t,function(e,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,ge).models[0];t[n]=a}),t}var Rl=Math.log;function Ox(r,t,e){var n=lo.prototype,i=n.getTicks.call(e),a=n.getTicks.call(e,!0),o=i.length-1,s=n.getInterval.call(e),u=My(r,t),l=u.extent,h=u.fixMin,f=u.fixMax;if(r.type==="log"){var c=Rl(r.base);l=[Rl(l[0])/c,Rl(l[1])/c]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:f});var v=n.getExtent.call(r);h&&(l[0]=v[0]),f&&(l[1]=v[1]);var d=n.getInterval.call(r),p=l[0],m=l[1];if(h&&f)d=(m-p)/o;else if(h)for(m=l[0]+d*o;m<l[1]&&isFinite(m)&&isFinite(l[1]);)d=Pl(d),m=l[0]+d*o;else if(f)for(p=l[1]-d*o;p>l[0]&&isFinite(p)&&isFinite(l[0]);)d=Pl(d),p=l[1]-d*o;else{var g=r.getTicks().length-1;g>o&&(d=Pl(d));var y=d*o;m=Math.ceil(l[1]/d)*d,p=Me(m-y),p<0&&l[0]>=0?(p=0,m=Me(y)):m>0&&l[1]<=0&&(m=0,p=-Me(y))}var _=(i[0].value-a[0].value)/s,w=(i[o].value-a[o].value)/s;n.setExtent.call(r,p+d*_,m+d*w),n.setInterval.call(r,d),(_||w)&&n.setNiceExtent.call(r,p+d,m-d)}var kx=function(){function r(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=zf,this._initCartesian(t,e,n),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function i(o){var s,u=kt(o),l=u.length;if(l){for(var h=[],f=l-1;f>=0;f--){var c=+u[f],v=o[c],d=v.model,p=v.scale;Of(p)&&d.get("alignTicks")&&d.get("interval")==null?h.push(v):(id(p,d),Of(p)&&(s=v))}h.length&&(s||(s=h.pop(),id(s.scale,s.model)),I(h,function(m){Ox(m.scale,m.model,s.scale)}))}}i(n.x),i(n.y);var a={};I(n.x,function(o){dd(n,"y",o,a)}),I(n.y,function(o){dd(n,"x",o,a)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),a=!n&&t.get("containLabel"),o=Ya(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;u(),a&&(I(s,function(l){if(!l.model.get(["axisLabel","inside"])){var h=qE(l);if(h){var f=l.isHorizontal()?"height":"width",c=l.model.get(["axisLabel","margin"]);o[f]-=h[f]+c,l.position==="top"?o.y+=h.height+c:l.position==="left"&&(o.x+=h.width+c)}}}),u()),I(this._coordsList,function(l){l.calcAffineTransform()});function u(){I(s,function(l){var h=l.isHorizontal(),f=h?[0,o.width]:[0,o.height],c=l.inverse?1:0;l.setExtent(f[c],f[1-c]),zx(l,h?o.x:o.y)})}},r.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}ot(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",ge).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",ge).models[0],a=t.gridModel,o=this._coordsList,s,u;if(e)s=e.coordinateSystem,Ct(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,I(s.x,function(h,f){I(s.y,function(c,v){var d="x"+f+"y"+v,p=new Lx(d);p.master=i,p.model=t,i._coordsMap[d]=p,i._coordsList.push(p),p.addAxis(h),p.addAxis(c)})});function l(h){return function(f,c){if(Ol(f,t)){var v=f.get("position");h==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var d=new Nx(h,GE(f),[0,0],f.get("type"),v),p=d.type==="category";d.onBand=p&&f.get("boundaryGap"),d.inverse=f.get("inverse"),f.axis=d,d.model=f,d.grid=a,d.index=c,a._axesList.push(d),s[h][c]=d,u[h]++}}}},r.prototype._updateScale=function(t,e){I(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(vd(i)){var a=pd(i),o=a.xAxisModel,s=a.yAxisModel;if(!Ol(o,e)||!Ol(s,e))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=i.getData(),h=u.getAxis("x"),f=u.getAxis("y");n(l,h),n(l,f)}},this);function n(i,a){I(xy(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],n=[];return I(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);Ct(e,a)<0&&e.push(a),Ct(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var o=new r(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(i){if(vd(i)){var a=pd(i),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;i.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},r.dimensions=zf,r}();function Ol(r,t){return r.getCoordSysModel()===t}function dd(r,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[t],a,o=e.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)gd(i[u])&&(a=i[u]);else for(var l in i)if(i.hasOwnProperty(l)&&gd(i[l])&&!n[h(i[l])]){a=i[l];break}a&&(n[h(a)]=!0);function h(f){return f.dim+"_"+f.index}}function gd(r){return r&&r.type!=="category"&&r.type!=="time"&&UE(r)}function zx(r,t){var e=r.getExtent(),n=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return n-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}const Vx=kx;var jr=Math.PI,Nn=function(){function r(t,e){this.group=new ye,this.opt=e,this.axisModel=t,Mt(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new ye({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return r.prototype.hasBuilder=function(t){return!!md[t]},r.prototype.add=function(t){md[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,e,n){var i=og(e-t),a,o;return Ms(i)?(o=n>0?"top":"bottom",a="center"):Ms(i-jr)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<jr?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r}(),md={axisLine:function(r,t,e,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var a=t.axis.getExtent(),o=n.transform,s=[a[0],0],u=[a[1],0],l=s[0]>u[0];o&&(Qe(s,s,o),Qe(u,u,o));var h=K({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new Ga({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:h,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Es(f.shape,f.style.lineWidth),f.anid="line",e.add(f);var c=t.get(["axisLine","symbol"]);if(c!=null){var v=t.get(["axisLine","symbolSize"]);lt(c)&&(c=[c,c]),(lt(v)||Jt(v))&&(v=[v,v]);var d=Vm(t.get(["axisLine","symbolOffset"])||0,v),p=v[0],m=v[1];I([{rotate:r.rotation+Math.PI/2,offset:d[0],r:0},{rotate:r.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(g,y){if(c[y]!=="none"&&c[y]!=null){var _=uo(c[y],-p/2,-m/2,p,m,h.stroke,!0),w=g.r+g.offset,S=l?u:s;_.attr({rotation:g.rotate,x:S[0]+w*Math.cos(r.rotation),y:S[1]-w*Math.sin(r.rotation),silent:!0,z2:11}),e.add(_)}})}}},axisTickLabel:function(r,t,e,n){var i=Ux(e,n,t,r),a=qx(e,n,t,r);if(Gx(t,a,i),Wx(e,n,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=sx(nt(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));ux(o)}},axisName:function(r,t,e,n){var i=Ra(r.axisName,t.get("name"));if(i){var a=t.get("nameLocation"),o=r.nameDirection,s=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,l=t.axis.getExtent(),h=l[0]>l[1]?-1:1,f=[a==="start"?l[0]-h*u:a==="end"?l[1]+h*u:(l[0]+l[1])/2,_d(a)?r.labelOffset+o*u:0],c,v=t.get("nameRotate");v!=null&&(v=v*jr/180);var d;_d(a)?c=Nn.innerTextLayout(r.rotation,v??r.rotation,o):(c=$x(r.rotation,a,v||0,l),d=r.axisNameAvailableWidth,d!=null&&(d=Math.abs(d/Math.sin(c.rotation)),!isFinite(d)&&(d=null)));var p=s.getFont(),m=t.get("nameTruncate",!0)||{},g=m.ellipsis,y=Ra(r.nameTruncateMaxWidth,m.maxWidth,d),_=new cr({x:f[0],y:f[1],rotation:c.rotation,silent:Nn.isLabelSilent(t),style:Ua(s,{text:i,font:p,overflow:"truncate",width:y,ellipsis:g,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||c.textAlign,verticalAlign:s.get("verticalAlign")||c.textVerticalAlign}),z2:1});if(Bh({el:_,componentModel:t,itemName:i}),_.__fullText=i,_.anid="name",t.get("triggerEvent")){var w=Nn.makeAxisEventDataBase(t);w.targetType="axisName",w.name=i,fe(_).eventData=w}n.add(_),_.updateTransform(),e.add(_),_.decomposeTransform()}}};function $x(r,t,e,n){var i=og(e-r),a,o,s=n[0]>n[1],u=t==="start"&&!s||t!=="start"&&s;return Ms(i-jr/2)?(o=u?"bottom":"top",a="center"):Ms(i-jr*1.5)?(o=u?"top":"bottom",a="center"):(o="middle",i<jr*1.5&&i>jr/2?a=u?"left":"right":a=u?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function Gx(r,t,e){if(!Ey(r.axis)){var n=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var a=t[0],o=t[1],s=t[t.length-1],u=t[t.length-2],l=e[0],h=e[1],f=e[e.length-1],c=e[e.length-2];n===!1?($e(a),$e(l)):yd(a,o)&&(n?($e(o),$e(h)):($e(a),$e(l))),i===!1?($e(s),$e(f)):yd(u,s)&&(i?($e(u),$e(c)):($e(s),$e(f)))}}function $e(r){r&&(r.ignore=!0)}function yd(r,t){var e=r&&r.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!e||!n)){var i=dh([]);return N0(i,i,-r.rotation),e.applyTransform(bi([],i,r.getLocalTransform())),n.applyTransform(bi([],i,t.getLocalTransform())),e.intersect(n)}}function _d(r){return r==="middle"||r==="center"}function ky(r,t,e,n,i){for(var a=[],o=[],s=[],u=0;u<r.length;u++){var l=r[u].coord;o[0]=l,o[1]=0,s[0]=l,s[1]=e,t&&(Qe(o,o,t),Qe(s,s,t));var h=new Ga({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Es(h.shape,h.style.lineWidth),h.anid=i+"_"+r[u].tickValue,a.push(h)}return a}function Ux(r,t,e,n){var i=e.axis,a=e.getModel("axisTick"),o=a.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),u=n.tickDirection*a.get("length"),l=i.getTicksCoords(),h=ky(l,t.transform,u,Mt(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<h.length;f++)r.add(h[f]);return h}}function Wx(r,t,e,n){var i=e.axis,a=e.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),u=n*a.get("length"),l=Mt(s.getLineStyle(),Mt(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),h=0;h<o.length;h++)for(var f=ky(o[h],t.transform,u,l,"minorticks_"+h),c=0;c<f.length;c++)r.add(f[c])}}function qx(r,t,e,n){var i=e.axis,a=Ra(n.axisLabelShow,e.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=e.getModel("axisLabel"),s=o.get("margin"),u=i.getViewLabels(),l=(Ra(n.labelRotate,o.get("rotate"))||0)*jr/180,h=Nn.innerTextLayout(n.rotation,l,n.labelDirection),f=e.getCategories&&e.getCategories(!0),c=[],v=Nn.isLabelSilent(e),d=e.get("triggerEvent");return I(u,function(p,m){var g=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,y=p.formattedLabel,_=p.rawLabel,w=o;if(f&&f[g]){var S=f[g];ot(S)&&S.textStyle&&(w=new Je(S.textStyle,o,e.ecModel))}var D=w.getTextColor()||e.get(["axisLine","lineStyle","color"]),b=i.dataToCoord(g),M=new cr({x:b,y:n.labelOffset+n.labelDirection*s,rotation:h.rotation,silent:v,z2:10+(p.level||0),style:Ua(w,{text:y,align:w.getShallow("align",!0)||h.textAlign,verticalAlign:w.getShallow("verticalAlign",!0)||w.getShallow("baseline",!0)||h.textVerticalAlign,fill:_t(D)?D(i.type==="category"?_:i.type==="value"?g+"":g,m):D})});if(M.anid="label_"+g,d){var E=Nn.makeAxisEventDataBase(e);E.targetType="axisLabel",E.value=_,E.tickIndex=m,i.type==="category"&&(E.dataIndex=g),fe(M).eventData=E}t.add(M),M.updateTransform(),c.push(M),r.add(M),M.decomposeTransform()}),c}}const Yx=Nn;function Zx(r){var t=zy(r);if(t){var e=t.axisPointerModel,n=t.axis.scale,i=e.option,a=e.get("status"),o=e.get("value");o!=null&&(o=n.parse(o));var s=Xx(e);a==null&&(i.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(o==null||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function zy(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[jx(r)]}function Hx(r){var t=zy(r);return t&&t.axisPointerModel}function Xx(r){return!!r.get(["handle","show"])}function jx(r){return r.type+"||"+r.id}var wd={},Kx=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.axisPointerClass&&Zx(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,n,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=Hx(e);o?(this._axisPointer||(this._axisPointer=new a)).render(e,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){wd[e]=n},t.getAxisPointerClass=function(e){return e&&wd[e]},t.type="axis",t}(rn);const Qx=Kx;var Vf=ae();function Jx(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var h=s.length,f=Vf(r).splitAreaColors,c=ft(),v=0;if(f)for(var d=0;d<l.length;d++){var p=f.get(l[d].tickValue);if(p!=null){v=(p+(h-1)*d)%h;break}}var m=i.toGlobalCoord(l[0].coord),g=o.getAreaStyle();s=st(s)?s:[s];for(var d=1;d<l.length;d++){var y=i.toGlobalCoord(l[d].coord),_=void 0,w=void 0,S=void 0,D=void 0;i.isHorizontal()?(_=m,w=u.y,S=y-_,D=u.height,m=_+S):(_=u.x,w=m,S=u.width,D=y-w,m=w+D);var b=l[d-1].tickValue;b!=null&&c.set(b,v),t.add(new Ee({anid:b!=null?"area_"+b:null,shape:{x:_,y:w,width:S,height:D},style:Mt({fill:s[v]},g),autoBatch:!0,silent:!0})),v=(v+1)%h}Vf(r).splitAreaColors=c}}}function tT(r){Vf(r).splitAreaColors=null}var eT=["axisLine","axisTickLabel","axisName"],rT=["splitArea","splitLine","minorSplitLine"],Vy=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ye,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),u=Rx(s,e),l=new Yx(e,K({handleAutoShown:function(f){for(var c=s.coordinateSystem.getCartesians(),v=0;v<c.length;v++)if(Of(c[v].getOtherAxis(e.axis).scale))return!0;return!1}},u));I(eT,l.add,l),this._axisGroup.add(l.getGroup()),I(rT,function(f){e.get([f,"show"])&&nT[f](this,this._axisGroup,e,s)},this);var h=a&&a.type==="changeAxisOrder"&&a.isInitSort;h||db(o,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)}},t.prototype.remove=function(){tT(this)},t.type="cartesianAxis",t}(Qx),nT={splitLine:function(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=st(s)?s:[s];for(var u=n.coordinateSystem.getRect(),l=i.isHorizontal(),h=0,f=i.getTicksCoords({tickModel:a}),c=[],v=[],d=o.getLineStyle(),p=0;p<f.length;p++){var m=i.toGlobalCoord(f[p].coord);l?(c[0]=m,c[1]=u.y,v[0]=m,v[1]=u.y+u.height):(c[0]=u.x,c[1]=m,v[0]=u.x+u.width,v[1]=m);var g=h++%s.length,y=f[p].tickValue,_=new Ga({anid:y!=null?"line_"+f[p].tickValue:null,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:Mt({stroke:s[g]},d),silent:!0});Es(_.shape,d.lineWidth),t.add(_)}}},minorSplitLine:function(r,t,e,n){var i=e.axis,a=e.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var h=[],f=[],c=o.getLineStyle(),v=0;v<l.length;v++)for(var d=0;d<l[v].length;d++){var p=i.toGlobalCoord(l[v][d].coord);u?(h[0]=p,h[1]=s.y,f[0]=p,f[1]=s.y+s.height):(h[0]=s.x,h[1]=p,f[0]=s.x+s.width,f[1]=p);var m=new Ga({anid:"minor_line_"+l[v][d].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:c,silent:!0});Es(m.shape,c.lineWidth),t.add(m)}},splitArea:function(r,t,e,n){Jx(r,t,e,n)}},$y=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(Vy),iT=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=$y.type,e}return t.type="yAxis",t}(Vy),aT=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new Ee({shape:e.coordinateSystem.getRect(),style:Mt({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(rn),Dd={offset:0};function oT(r){r.registerComponentView(aT),r.registerComponentModel(Ax),r.registerCoordinateSystem("cartesian2d",Vx),fd(r,"x",kf,Dd),fd(r,"y",kf,Dd),r.registerComponentView($y),r.registerComponentView(iT),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function sT(r){zn(oT),r.registerSeriesModel(gx),r.registerChartView(Cx),r.registerLayout(Ny("scatter"))}var Sd="\0_ec_interaction_mutex";function uT(r,t,e){var n=Gy(r);n[t]=e}function lT(r,t,e){var n=Gy(r),i=n[t];i===e&&(n[t]=null)}function Gy(r){return r[Sd]||(r[Sd]={})}br({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Re);var fT={axisPointer:1,tooltip:1,brush:1};function hT(r,t,e){var n=t.getComponentByElement(r.topTarget),i=n&&n.coordinateSystem;return n&&n!==e&&!fT.hasOwnProperty(n.mainType)&&i&&i.model!==e}function Uy(r,t,e,n,i,a){r=r||0;var o=e[1]-e[0];if(i!=null&&(i=si(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=si(s,[0,o]),i=a=si(s,[i,a]),n=0}t[0]=si(t[0],e),t[1]=si(t[1],e);var u=kl(t,n);t[n]+=r;var l=i||0,h=e.slice();u.sign<0?h[0]+=l:h[1]-=l,t[n]=si(t[n],h);var f;return f=kl(t,n),i!=null&&(f.sign!==u.sign||f.span<i)&&(t[1-n]=t[n]+u.sign*i),f=kl(t,n),a!=null&&f.span>a&&(t[1-n]=t[n]+f.sign*a),t}function kl(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function si(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var Vn=!0,Ja=Math.min,Oi=Math.max,cT=Math.pow,vT=1e4,pT=6,dT=6,Cd="globalPan",gT={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},mT={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},bd={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},yT=0,_T=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new ye,n._uid="brushController_"+yT++,I(MT,function(i,a){this._handlers[a]=Qt(i,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||uT(n,Cd,this._uid),I(this._handlers,function(i,a){n.on(a,i)}),this._brushType=e.brushType,this._brushOption=pt(gt(bd),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;lT(e,Cd,this._uid),I(this._handlers,function(n,i){e.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};I(e,function(i){n[i.panelId]=gt(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=nt(e,function(c){return pt(gt(bd),c,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Qh(i,e,l,u).add(h).update(h).remove(f).execute(),this;function u(c,v){return(c.id!=null?c.id:n+v)+"-"+c.brushType}function l(c,v){return u(c.__brushOption,v)}function h(c,v){var d=e[c];if(v!=null&&i[v]===s)a[c]=i[v];else{var p=a[c]=v!=null?(i[v].__brushOption=d,i[v]):qy(o,Wy(o,d));rc(o,p)}}function f(c){i[c]!==s&&o.group.remove(i[c])}},t.prototype.unmount=function(){return this.enableBrush(!1),$f(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(vr);function Wy(r,t){var e=gu[t.brushType].createCover(r,t);return e.__brushOption=t,Zy(e,t),r.group.add(e),e}function qy(r,t){var e=nc(t);return e.endCreating&&(e.endCreating(r,t),Zy(t,t.__brushOption)),t}function Yy(r,t){var e=t.__brushOption;nc(t).updateCoverShape(r,t,e.range,e)}function Zy(r,t){var e=t.z;e==null&&(e=vT),r.traverse(function(n){n.z=e,n.z2=e})}function rc(r,t){nc(t).updateCommon(r,t),Yy(r,t)}function nc(r){return gu[r.__brushOption.brushType]}function ic(r,t,e){var n=r._panels;if(!n)return Vn;var i,a=r._transform;return I(n,function(o){o.isTargetByCursor(t,e,a)&&(i=o)}),i}function Hy(r,t){var e=r._panels;if(!e)return Vn;var n=t.__brushOption.panelId;return n!=null?e[n]:Vn}function $f(r){var t=r._covers,e=t.length;return I(t,function(n){r.group.remove(n)},r),t.length=0,!!e}function $n(r,t){var e=nt(r._covers,function(n){var i=n.__brushOption,a=gt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function wT(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],i=e[0]-n[0],a=e[1]-n[1],o=cT(i*i+a*a,.5);return o>pT}function Xy(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function jy(r,t,e,n){var i=new ye;return i.add(new Ee({name:"main",style:ac(e),silent:!0,draggable:!0,cursor:"move",drift:Yt(Ad,r,t,i,["n","s","w","e"]),ondragend:Yt($n,t,{isEnd:!0})})),I(n,function(a){i.add(new Ee({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Yt(Ad,r,t,i,a),ondragend:Yt($n,t,{isEnd:!0})}))}),i}function Ky(r,t,e,n){var i=n.brushStyle.lineWidth||0,a=Oi(i,dT),o=e[0][0],s=e[1][0],u=o-i/2,l=s-i/2,h=e[0][1],f=e[1][1],c=h-a+i/2,v=f-a+i/2,d=h-o,p=f-s,m=d+i,g=p+i;Tr(r,t,"main",o,s,d,p),n.transformable&&(Tr(r,t,"w",u,l,a,g),Tr(r,t,"e",c,l,a,g),Tr(r,t,"n",u,l,m,a),Tr(r,t,"s",u,v,m,a),Tr(r,t,"nw",u,l,a,a),Tr(r,t,"ne",c,l,a,a),Tr(r,t,"sw",u,v,a,a),Tr(r,t,"se",c,v,a,a))}function Gf(r,t){var e=t.__brushOption,n=e.transformable,i=t.childAt(0);i.useStyle(ac(e)),i.attr({silent:!n,cursor:n?"move":"default"}),I([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=a.length===1?Uf(r,a[0]):ST(r,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?mT[s]+"-resize":null})})}function Tr(r,t,e,n,i,a,o){var s=t.childOfName(e);s&&s.setShape(bT(oc(r,t,[[n,i],[n+a,i+o]])))}function ac(r){return Mt({strokeNoScale:!0},r.brushStyle)}function Qy(r,t,e,n){var i=[Ja(r,e),Ja(t,n)],a=[Oi(r,e),Oi(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function DT(r){return Yg(r.group)}function Uf(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=vb(e[t],DT(r));return n[i]}function ST(r,t){var e=[Uf(r,t[0]),Uf(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Ad(r,t,e,n,i,a){var o=e.__brushOption,s=r.toRectRange(o.range),u=Jy(t,i,a);I(n,function(l){var h=gT[l];s[h[0]][h[1]]+=u[h[0]]}),o.range=r.fromRectRange(Qy(s[0][0],s[1][0],s[0][1],s[1][1])),rc(t,e),$n(t,{isEnd:!1})}function CT(r,t,e,n){var i=t.__brushOption.range,a=Jy(r,e,n);I(i,function(o){o[0]+=a[0],o[1]+=a[1]}),rc(r,t),$n(r,{isEnd:!1})}function Jy(r,t,e){var n=r.group,i=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function oc(r,t,e){var n=Hy(r,t);return n&&n!==Vn?n.clipPath(e,r._transform):gt(e)}function bT(r){var t=Ja(r[0][0],r[1][0]),e=Ja(r[0][1],r[1][1]),n=Oi(r[0][0],r[1][0]),i=Oi(r[0][1],r[1][1]);return{x:t,y:e,width:n-t,height:i-e}}function AT(r,t,e){if(!(!r._brushType||ET(r,t.offsetX,t.offsetY))){var n=r._zr,i=r._covers,a=ic(r,t,e);if(!r._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===Vn||s.panelId===a.panelId)&&gu[s.brushType].contain(i[o],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function Wf(r){var t=r.event;t.preventDefault&&t.preventDefault()}function qf(r,t,e){return r.childOfName("main").contain(t,e)}function t1(r,t,e,n){var i=r._creatingCover,a=r._creatingPanel,o=r._brushOption,s;if(r._track.push(e.slice()),wT(r)||i){if(a&&!i){o.brushMode==="single"&&$f(r);var u=gt(o);u.brushType=Md(u.brushType,a),u.panelId=a===Vn?null:a.panelId,i=r._creatingCover=Wy(r,u),r._covers.push(i)}if(i){var l=gu[Md(r._brushType,a)],h=i.__brushOption;h.range=l.getCreatingRange(oc(r,i,r._track)),n&&(qy(r,i),l.updateCommon(r,i)),Yy(r,i),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&ic(r,t,e)&&$f(r)&&(s={isEnd:n,removeOnClick:!0});return s}function Md(r,t){return r==="auto"?t.defaultBrushType:r}var MT={mousedown:function(r){if(this._dragging)Ed(this,r);else if(!r.target||!r.target.draggable){Wf(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=ic(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,n=this.group.transformCoordToLocal(t,e);if(AT(this,r,n),this._dragging){Wf(r);var i=t1(this,r,n,!1);i&&$n(this,i)}},mouseup:function(r){Ed(this,r)}};function Ed(r,t){if(r._dragging){Wf(t);var e=t.offsetX,n=t.offsetY,i=r.group.transformCoordToLocal(e,n),a=t1(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&$n(r,a)}}function ET(r,t,e){var n=r._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var gu={lineX:xd(0),lineY:xd(1),rect:{createCover:function(r,t){function e(n){return n}return jy({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=Xy(r);return Qy(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,n){Ky(r,t,e,n)},updateCommon:Gf,contain:qf},polygon:{createCover:function(r,t){var e=new ye;return e.add(new tb({name:"main",style:ac(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new QC({name:"main",draggable:!0,drift:Yt(CT,r,t),ondragend:Yt($n,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,n){t.childAt(0).setShape({points:oc(r,t,e)})},updateCommon:Gf,contain:qf}};function xd(r){return{createCover:function(t,e){return jy({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=Xy(t),n=Ja(e[0][r],e[1][r]),i=Oi(e[0][r],e[1][r]);return[n,i]},updateCoverShape:function(t,e,n,i){var a,o=Hy(t,e);if(o!==Vn&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(r);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-r]]}var u=[n,a];r&&u.reverse(),Ky(t,e,u,i)},updateCommon:Gf,contain:qf}}const xT=_T;function TT(r){return r=sc(r),function(t){return gb(t,r)}}function FT(r,t){return r=sc(r),function(e){var n=t??e,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function IT(r,t,e){var n=sc(r);return function(i,a){return n.contain(a[0],a[1])&&!hT(i,t,e)}}function sc(r){return At.create(r)}var Td=["x","y","radius","angle","single"],BT=["cartesian2d","polar","singleAxis"];function LT(r){var t=r.get("coordinateSystem");return Ct(BT,t)>=0}function Di(r){return r+"Axis"}function PT(r,t){var e=ft(),n=[],i=ft();r.eachComponent({mainType:"dataZoom",query:t},function(h){i.get(h.uid)||s(h)});var a;do a=!1,r.eachComponent("dataZoom",o);while(a);function o(h){!i.get(h.uid)&&u(h)&&(s(h),a=!0)}function s(h){i.set(h.uid,!0),n.push(h),l(h)}function u(h){var f=!1;return h.eachTargetAxis(function(c,v){var d=e.get(c);d&&d[v]&&(f=!0)}),f}function l(h){h.eachTargetAxis(function(f,c){(e.get(f)||e.set(f,[]))[c]=!0})}return n}var zl=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),NT=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,i){var a=Fd(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var n=Fd(e);pt(this.option,e,!0),pt(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;I([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=ft(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return I(Td,function(i){var a=this.getReferringComponents(Di(i),vS);if(a.specified){n=!0;var o=new zl;I(a.models,function(s){o.add(s.componentIndex)}),e.set(i,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});u(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===n}});u(s,"single")}function u(l,h){var f=l[0];if(f){var c=new zl;if(c.add(f.componentIndex),e.set(h,c),a=!1,h==="x"||h==="y"){var v=f.getReferringComponents("grid",ge).models[0];v&&I(l,function(d){f.componentIndex!==d.componentIndex&&v===d.getReferringComponents("grid",ge).models[0]&&c.add(d.componentIndex)})}}}a&&I(Td,function(l){if(a){var h=i.findComponents({mainType:Di(l),filter:function(c){return c.get("type",!0)==="category"}});if(h[0]){var f=new zl;f.add(h[0].componentIndex),e.set(l,f),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,i=this.get("rangeMode");I([["start","startValue"],["end","endValue"]],function(a,o){var s=e[a[0]]!=null,u=e[a[1]]!=null;s&&!u?n[o]="percent":!s&&u?n[o]="value":i?n[o]=i[o]:s&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,i){e==null&&(e=this.ecModel.getComponent(Di(n),i))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(i,a){I(i.indexList,function(o){e.call(n,a,o)})})},t.prototype.getAxisProxy=function(e,n){var i=this.getAxisModel(e,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[n])return this.ecModel.getComponent(Di(e),n)},t.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;I([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=i[a[0]]=e[a[0]],n[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;I(["start","startValue","end","endValue"],function(i){n[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var l=this.getAxisProxy(o,s.indexList[u]);if(l.hostedBy(this))return l;n||(n=l)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}($t);function Fd(r){var t={};return I(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}const RT=NT;var OT=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(RT);const kT=OT;var zT=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.dataZoomModel=e,this.ecModel=n,this.api=i},t.type="dataZoom",t}(rn);const VT=zT;var $T=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(VT);const GT=$T;var vi=I,Id=ZD,UT=function(){function r(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(LT(e)){var n=Di(this._dimName),i=e.getReferringComponents(n,ge).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return gt(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],l;vi(["start","end"],function(c,v){var d=t[c],p=t[c+"Value"];a[v]==="percent"?(d==null&&(d=o[v]),p=i.parse(Tn(d,o,e))):(l=!0,p=p==null?e[v]:i.parse(p),d=Tn(p,e,o)),u[v]=p==null||isNaN(p)?e[v]:p,s[v]=d==null||isNaN(d)?o[v]:d}),Id(u),Id(s);var h=this._minMaxSpan;l?f(u,s,e,o,!1):f(s,u,o,e,!0);function f(c,v,d,p,m){var g=m?"Span":"ValueSpan";Uy(0,c,d,"all",h["min"+g],h["max"+g]);for(var y=0;y<2;y++)v[y]=Tn(c[y],d,p,!0),m&&(v[y]=i.parse(v[y]))}return{valueWindow:u,percentWindow:s}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=WT(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;vi(i,function(u){var l=u.getData(),h=l.mapDimensionsAll(n);if(h.length){if(a==="weakFilter"){var f=l.getStore(),c=nt(h,function(v){return l.getDimensionIndex(v)},l);l.filterSelf(function(v){for(var d,p,m,g=0;g<h.length;g++){var y=f.get(c[g],v),_=!isNaN(y),w=y<o[0],S=y>o[1];if(_&&!w&&!S)return!0;_&&(m=!0),w&&(d=!0),S&&(p=!0)}return m&&d&&p})}else vi(h,function(v){if(a==="empty")u.setData(l=l.map(v,function(p){return s(p)?p:NaN}));else{var d={};d[v]=o,l.selectRange(d)}});vi(h,function(v){l.setApproximateExtent(o,v)})}});function s(u){return u>=o[0]&&u<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;vi(["min","max"],function(i){var a=e.get(i+"Span"),o=e.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=Tn(n[0]+o,n,[0,100],!0):a!=null&&(o=Tn(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=ag(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r}();function WT(r,t,e){var n=[1/0,-1/0];vi(e,function(o){ZE(n,o.getData(),t)});var i=r.getAxisModel(),a=Ay(i.axis.scale,i,n).calculate();return[a.min,a.max]}const qT=UT;var YT={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var u=r.getComponent(Di(o),s);i(o,s,u,a)})})}t(function(i,a,o,s){o.__dzAxisProxy=null});var e=[];t(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new qT(i,a,s,r),e.push(o.__dzAxisProxy))});var n=ft();return I(e,function(i){I(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};const ZT=YT;function HT(r){r.registerAction("dataZoom",function(t,e){var n=PT(e,t);I(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Bd=!1;function XT(r){Bd||(Bd=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,ZT),HT(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function jT(r){r.registerComponentModel(kT),r.registerComponentView(GT),XT(r)}var lr=function(){function r(){}return r}(),e1={};function ma(r,t){e1[r]=t}function r1(r){return e1[r]}var KT=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;I(this.option.feature,function(n,i){var a=r1(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),pt(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}($t);const QT=KT;function JT(r,t,e){var n=t.getBoxLayoutParams(),i=t.get("padding"),a={width:e.getWidth(),height:e.getHeight()},o=Ya(n,a,i);xi(t.get("orient"),r,t.get("itemGap"),o.width,o.height),Yb(r,n,a,i)}function n1(r,t){var e=fm(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),r=new Ee({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),r}var tF=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),u=e.get("orient")==="vertical",l=e.get("feature")||{},h=this._features||(this._features={}),f=[];I(l,function(d,p){f.push(p)}),new Qh(this._featureNames||[],f).add(c).update(c).remove(Yt(c,null)).execute(),this._featureNames=f;function c(d,p){var m=f[d],g=f[p],y=l[m],_=new Je(y,e,e.ecModel),w;if(a&&a.newTitle!=null&&a.featureName===m&&(y.title=a.newTitle),m&&!g){if(eF(m))w={onclick:_.option.onclick,featureName:m};else{var S=r1(m);if(!S)return;w=new S}h[m]=w}else if(w=h[g],!w)return;w.uid=so("toolbox-feature"),w.model=_,w.ecModel=n,w.api=i;var D=w instanceof lr;if(!m&&g){D&&w.dispose&&w.dispose(n,i);return}if(!_.get("show")||D&&w.unusable){D&&w.remove&&w.remove(n,i);return}v(_,w,m),_.setIconStatus=function(b,M){var E=this.option,C=this.iconPaths;E.iconStatus=E.iconStatus||{},E.iconStatus[b]=M,C[b]&&(M==="emphasis"?Li:Pi)(C[b])},w instanceof lr&&w.render&&w.render(_,n,i,a)}function v(d,p,m){var g=d.getModel("iconStyle"),y=d.getModel(["emphasis","iconStyle"]),_=p instanceof lr&&p.getIcons?p.getIcons():d.get("icon"),w=d.get("title")||{},S,D;lt(_)?(S={},S[m]=_):S=_,lt(w)?(D={},D[m]=w):D=w;var b=d.iconPaths={};I(S,function(M,E){var C=Zg(M,{},{x:-s/2,y:-s/2,width:s,height:s});C.setStyle(g.getItemStyle());var A=C.ensureState("emphasis");A.style=y.getItemStyle();var x=new cr({style:{text:D[E],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null},ignore:!0});C.setTextContent(x),Bh({el:C,componentModel:e,itemName:E,formatterParamsExtra:{title:D[E]}}),C.__title=D[E],C.on("mouseover",function(){var F=y.getItemStyle(),L=u?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";x.setStyle({fill:y.get("textFill")||F.fill||F.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),C.setTextConfig({position:y.get("textPosition")||L}),x.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){d.get(["iconStatus",E])!=="emphasis"&&i.leaveEmphasis(this),x.hide()}),(d.get(["iconStatus",E])==="emphasis"?Li:Pi)(C),o.add(C),C.on("click",Qt(p.onclick,p,n,i,E)),b[E]=C})}JT(o,e,i),o.add(n1(o.getBoundingRect(),e)),u||o.eachChild(function(d){var p=d.__title,m=d.ensureState("emphasis"),g=m.textConfig||(m.textConfig={}),y=d.getTextContent(),_=y&&y.ensureState("emphasis");if(_&&!_t(_)&&p){var w=_.style||(_.style={}),S=wh(p,cr.makeFont(w)),D=d.x+o.x,b=d.y+o.y+s,M=!1;b+S.height>i.getHeight()&&(g.position="top",M=!0);var E=M?-5-S.height:s+10;D+S.width/2>i.getWidth()?(g.position=["100%",E],w.align="right"):D-S.width/2<0&&(g.position=[0,E],w.align="left")}})},t.prototype.updateView=function(e,n,i,a){I(this._features,function(o){o instanceof lr&&o.updateView&&o.updateView(o.model,n,i,a)})},t.prototype.remove=function(e,n){I(this._features,function(i){i instanceof lr&&i.remove&&i.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){I(this._features,function(i){i instanceof lr&&i.dispose&&i.dispose(e,n)})},t.type="toolbox",t}(rn);function eF(r){return r.indexOf("my")===0}const rF=tF;var nF=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",u=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),l=Nt.browser;if(_t(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var h=document.createElement("a");h.download=a+"."+s,h.target="_blank",h.href=u;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var c=u.split(","),v=c[0].indexOf("base64")>-1,d=o?decodeURIComponent(c[1]):c[1];v&&(d=window.atob(d));var p=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=d.length,g=new Uint8Array(m);m--;)g[m]=d.charCodeAt(m);var y=new Blob([g]);window.navigator.msSaveOrOpenBlob(y,p)}else{var _=document.createElement("iframe");document.body.appendChild(_);var w=_.contentWindow,S=w.document;S.open("image/svg+xml","replace"),S.write(d),S.close(),w.focus(),S.execCommand("SaveAs",!0,p),document.body.removeChild(_)}}else{var D=i.get("lang"),b='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(D&&D[0]||"")+'" /></body>',M=window.open();M.document.write(b),M.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(lr);const iF=nF;var Ld="__ec_magicType_stack__",aF=[["line","bar"],["stack"]],oF=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),i={};return I(e.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(Pd[i]){var s={series:[]},u=function(f){var c=f.subType,v=f.id,d=Pd[i](c,v,f,a);d&&(Mt(d,f.option),s.series.push(d));var p=f.coordinateSystem;if(p&&p.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=p.getAxesByScale("ordinal")[0];if(m){var g=m.dim,y=g+"Axis",_=f.getReferringComponents(y,ge).models[0],w=_.componentIndex;s[y]=s[y]||[];for(var S=0;S<=w;S++)s[y][w]=s[y][w]||{};s[y][w].boundaryGap=i==="bar"}}};I(aF,function(f){Ct(f,i)>=0&&I(f,function(c){a.setIconStatus(c,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var l,h=i;i==="stack"&&(l=pt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(h="tiled")),n.dispatchAction({type:"changeMagicType",currentType:h,newOption:s,newTitle:l,featureName:"magicType"})}},t}(lr),Pd={line:function(r,t,e,n){if(r==="bar")return pt({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,t,e,n){if(r==="line")return pt({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,t,e,n){var i=e.get("stack")===Ld;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),pt({id:t,stack:i?"":Ld},n.get(["option","stack"])||{},!0)}};br({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});const sF=oF;var mu=new Array(60).join("-"),ki="	";function uF(r){var t={},e=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function lF(r){var t=[];return I(r,function(e,n){var i=e.categoryAxis,a=e.valueAxis,o=a.dim,s=[" "].concat(nt(e.series,function(v){return v.name})),u=[i.model.getCategories()];I(e.series,function(v){var d=v.getRawData();u.push(v.getRawData().mapArray(d.mapDimension(o),function(p){return p}))});for(var l=[s.join(ki)],h=0;h<u[0].length;h++){for(var f=[],c=0;c<u.length;c++)f.push(u[c][h]);l.push(f.join(ki))}t.push(l.join(`
`))}),t.join(`

`+mu+`

`)}function fF(r){return nt(r,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=e.getName(o),u=0;u<a-1;u++)i[u]=arguments[u];n.push((s?s+ki:"")+i.join(ki))}),n.join(`
`)}).join(`

`+mu+`

`)}function hF(r){var t=uF(r);return{value:le([lF(t.seriesGroupByCategoryAxis),fF(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+mu+`

`),meta:t.meta}}function Ps(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function cF(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(ki)>=0)return!0}var Yf=new RegExp("["+ki+"]+","g");function vF(r){for(var t=r.split(/\n+/g),e=Ps(t.shift()).split(Yf),n=[],i=nt(e,function(u){return{name:u,data:[]}}),a=0;a<t.length;a++){var o=Ps(t[a]).split(Yf);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:n}}function pF(r){for(var t=r.split(/\n+/g),e=Ps(t.shift()),n=[],i=0;i<t.length;i++){var a=Ps(t[i]);if(a){var o=a.split(Yf),s="",u=void 0,l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),n[i]={name:s,value:[]},u=n[i].value):u=n[i]=[];for(var h=0;h<o.length;h++)u.push(+o[h]);u.length===1&&(l?n[i].value=u[0]:n[i]=u[0])}}return{name:e,data:n}}function dF(r,t){var e=r.split(new RegExp(`
*`+mu+`
*`,"g")),n={series:[]};return I(e,function(i,a){if(cF(i)){var o=vF(i),s=t[a],u=s.axisDim+"Axis";s&&(n[u]=n[u]||[],n[u][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=pF(i);n.series.push(o)}}),n}var gF=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=a.get("lang")||[];s.innerHTML=u[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var l=document.createElement("div"),h=document.createElement("textarea");l.style.cssText="overflow:auto";var f=a.get("optionToContent"),c=a.get("contentToOption"),v=hF(e);if(_t(f)){var d=f(n.getOption());lt(d)?l.innerHTML=d:ws(d)&&l.appendChild(d)}else{h.readOnly=a.get("readOnly");var p=h.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=a.get("textColor"),p.borderColor=a.get("textareaBorderColor"),p.backgroundColor=a.get("textareaColor"),h.value=v.value,l.appendChild(h)}var m=v.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),w=document.createElement("div");y+=";background-color:"+a.get("buttonColor"),y+=";color:"+a.get("buttonTextColor");var S=this;function D(){i.removeChild(o),S._dom=null}Jl(_,"click",D),Jl(w,"click",function(){if(c==null&&f!=null||c!=null&&f==null){D();return}var b;try{_t(c)?b=c(l,n.getOption()):b=dF(h.value,m)}catch(M){throw D(),new Error("Data view format error "+M)}b&&n.dispatchAction({type:"changeDataView",newOption:b}),D()}),_.innerHTML=u[1],w.innerHTML=u[2],w.style.cssText=_.style.cssText=y,!a.get("readOnly")&&g.appendChild(w),g.appendChild(_),o.appendChild(s),o.appendChild(l),o.appendChild(g),l.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},t}(lr);function mF(r,t){return nt(r,function(e,n){var i=t&&t[n];if(ot(i)&&!st(i)){var a=ot(e)&&!st(e);a||(e={value:e});var o=i.name!=null&&e.name==null;return e=Mt(e,i),o&&delete e.name,e}else return e})}br({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];I(r.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)e.push(K({type:"scatter"},n));else{var a=i.get("data");e.push({name:n.name,data:mF(n.data,a)})}}),t.mergeOption(Mt({series:e},r.newOption))});const yF=gF;var i1=I,a1=ae();function _F(r,t){var e=uc(r);i1(t,function(n,i){for(var a=e.length-1;a>=0;a--){var o=e[a];if(o[i])break}if(a<0){var s=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var u=s.getPercentRange();e[0][i]={dataZoomId:i,start:u[0],end:u[1]}}}}),e.push(t)}function wF(r){var t=uc(r),e=t[t.length-1];t.length>1&&t.pop();var n={};return i1(e,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){n[a]=i;break}}),n}function DF(r){a1(r).snapshots=null}function SF(r){return uc(r).length}function uc(r){var t=a1(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var CF=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){DF(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(lr);br({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});const bF=CF;var AF=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],MF=function(){function r(t,e,n){var i=this;this._targetInfoList=[];var a=Nd(e,t);I(EF,function(o,s){(!n||!n.include||Ct(n.include,s)>=0)&&o(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=Vl[n.brushType](0,a,i);n.__rangeOffset={offset:zd[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,n){I(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&I(a.coordSyses,function(o){var s=Vl[i.brushType](1,o,i.range,!0);n(i,s.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){I(t,function(n){var i=this.findTargetInfo(n,e);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=Vl[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?zd[n.brushType](a.values,o.offset,xF(a.xyMinMax,o.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(t,e){return nt(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:TT(i),isTargetByCursor:IT(i,t,n.coordSysModel),getLinearBrushOtherExtent:FT(i)}})},r.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Ct(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=Nd(e,t),a=0;a<n.length;a++){var o=n[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<Rd.length;u++)if(Rd[u](i,o))return o}return!0},r}();function Zf(r){return r[0]>r[1]&&r.reverse(),r}function Nd(r,t){return xa(r,t,{includeMainTypes:AF})}var EF={grid:function(r,t){var e=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=ft(),o={},s={};!e&&!n&&!i||(I(e,function(u){var l=u.axis.grid.model;a.set(l.id,l),o[l.id]=!0}),I(n,function(u){var l=u.axis.grid.model;a.set(l.id,l),s[l.id]=!0}),I(i,function(u){a.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),a.each(function(u){var l=u.coordinateSystem,h=[];I(l.getCartesians(),function(f,c){(Ct(e,f.getAxis("x").model)>=0||Ct(n,f.getAxis("y").model)>=0)&&h.push(f)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:h[0],coordSyses:h,getPanelRect:Od.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(r,t){I(r.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:Od.geo})})}},Rd=[function(r,t){var e=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],Od={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(Yg(r)),t}},Vl={lineX:Yt(kd,0),lineY:Yt(kd,1),rect:function(r,t,e,n){var i=r?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=r?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),o=[Zf([i[0],a[0]]),Zf([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=nt(e,function(o){var s=r?t.pointToData(o,n):t.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function kd(r,t,e,n){var i=e.getAxis(["x","y"][r]),a=Zf(nt([0,1],function(s){return t?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),o=[];return o[r]=a,o[1-r]=[NaN,NaN],{values:a,xyMinMax:o}}var zd={lineX:Yt(Vd,0),lineY:Yt(Vd,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return nt(r,function(n,i){return[n[0]-e[0]*t[i][0],n[1]-e[1]*t[i][1]]})}};function Vd(r,t,e,n){return[t[0]-n[r]*e[0],t[1]-n[r]*e[1]]}function xF(r,t){var e=$d(r),n=$d(t),i=[e[0]/n[0],e[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function $d(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}const o1=MF;var Hf=I,TF=lS("toolbox-dataZoom_"),FF=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){this._brushController||(this._brushController=new xT(i.getZr()),this._brushController.on("brush",Qt(this._onBrush,this)).mount()),LF(e,n,this,a,i),BF(e,n)},t.prototype.onclick=function(e,n,i){IF[i].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new o1(lc(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(l,h,f){if(f.type==="cartesian2d"){var c=l.brushType;c==="rect"?(s("x",f,h[0]),s("y",f,h[1])):s({lineX:"x",lineY:"y"}[c],f,h)}}),_F(a,i),this._dispatchZoomAction(i);function s(l,h,f){var c=h.getAxis(l),v=c.model,d=u(l,v,a),p=d.findRepresentativeAxisProxy(v).getMinMaxSpan();(p.minValueSpan!=null||p.maxValueSpan!=null)&&(f=Uy(0,f.slice(),c.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),d&&(i[d.id]={dataZoomId:d.id,startValue:f[0],endValue:f[1]})}function u(l,h,f){var c;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(v){var d=v.getAxisModel(l,h.componentIndex);d&&(c=v)}),c}},t.prototype._dispatchZoomAction=function(e){var n=[];Hf(e,function(i,a){n.push(gt(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},t}(lr),IF={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(wF(this.ecModel))}};function lc(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function BF(r,t){r.setIconStatus("back",SF(t)>1?"emphasis":"normal")}function LF(r,t,e,n,i){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var o=new o1(lc(r),t,{include:["grid"]}),s=o.makePanelOpts(i,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}e2("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),i=[],a=lc(n),o=xa(r,a);Hf(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),Hf(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,l,h){var f=u.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:TF+l+f};c[h]=f,i.push(c)}return i});const PF=FF;function NF(r){r.registerComponentModel(QT),r.registerComponentView(rF),ma("saveAsImage",iF),ma("magicType",sF),ma("dataView",yF),ma("dataZoom",PF),ma("restore",bF),zn(jT)}var RF=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},OF=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,i=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),st(n)&&I(n,function(a,o){lt(a)&&(a={type:a}),n[o]=pt(a,RF(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],i=[];e.eachRawSeries(function(u){var l=u.name;i.push(l);var h;if(u.legendVisualProvider){var f=u.legendVisualProvider,c=f.getAllNames();e.isSeriesFiltered(u)||(i=i.concat(c)),c.length?n=n.concat(c):h=!0}else h=!0;h&&bh(u)&&n.push(u.name)}),this._availableNames=i;var a=this.get("data")||n,o=ft(),s=nt(a,function(u){return(lt(u)||Jt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new Je(u,this,this.ecModel))},this);this._data=le(s,function(u){return!!u})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;I(a,function(o){n[o.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;I(e,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;I(e,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&Ct(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}($t);const Xf=OF;var ui=Yt,jf=I,jo=ye,kF=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new jo),this.group.add(this._selectorGroup=new jo),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var u=e.get("selector",!0),l=e.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,e,n,i,u,s,l);var h=e.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},c=e.get("padding"),v=Ya(h,f,c),d=this.layoutInner(e,o,v,a,u,l),p=Ya(Mt({width:d.width,height:d.height},h),f,c);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=n1(d,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,i,a,o,s,u){var l=this.getContentGroup(),h=ft(),f=n.get("selectedMode"),c=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&c.push(v.id)}),jf(n.getData(),function(v,d){var p=v.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new jo;m.newline=!0,l.add(m);return}var g=i.getSeriesByName(p)[0];if(!h.get(p))if(g){var y=g.getData(),_=y.getVisual("legendLineStyle")||{},w=y.getVisual("legendIcon"),S=y.getVisual("style"),D=this._createItem(g,p,d,v,n,e,_,S,w,f,a);D.on("click",ui(Gd,p,null,a,c)).on("mouseover",ui(Kf,g.name,null,a,c)).on("mouseout",ui(Qf,g.name,null,a,c)),h.set(p,!0)}else i.eachRawSeries(function(b){if(!h.get(p)&&b.legendVisualProvider){var M=b.legendVisualProvider;if(!M.containName(p))return;var E=M.indexOfName(p),C=M.getItemVisual(E,"style"),A=M.getItemVisual(E,"legendIcon"),x=Bn(C.fill);x&&x[3]===0&&(x[3]=.2,C=K(K({},C),{fill:mh(x,"rgba")}));var F=this._createItem(b,p,d,v,n,e,{},C,A,f,a);F.on("click",ui(Gd,null,p,a,c)).on("mouseover",ui(Kf,null,p,a,c)).on("mouseout",ui(Qf,null,p,a,c)),h.set(p,!0)}},this)},this),o&&this._createSelector(o,n,a,s,u)},t.prototype._createSelector=function(e,n,i,a,o){var s=this.getSelectorGroup();jf(e,function(l){var h=l.type,f=new cr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var c=n.getModel("selectorLabel"),v=n.getModel(["emphasis","selectorLabel"]);Xg(f,{normal:c,emphasis:v},{defaultText:l.title}),mf(f)})},t.prototype._createItem=function(e,n,i,a,o,s,u,l,h,f,c){var v=e.visualDrawType,d=o.get("itemWidth"),p=o.get("itemHeight"),m=o.isSelected(n),g=a.get("symbolRotate"),y=a.get("symbolKeepAspect"),_=a.get("icon");h=_||h||"roundRect";var w=zF(h,a,u,l,v,m,c),S=new jo,D=a.getModel("textStyle");if(_t(e.getLegendIcon)&&(!_||_==="inherit"))S.add(e.getLegendIcon({itemWidth:d,itemHeight:p,icon:h,iconRotate:g,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:y}));else{var b=_==="inherit"&&e.getData().getVisual("symbol")?g==="inherit"?e.getData().getVisual("symbolRotate"):g:0;S.add(VF({itemWidth:d,itemHeight:p,icon:h,iconRotate:b,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:y}))}var M=s==="left"?d+5:-5,E=s,C=o.get("formatter"),A=n;lt(C)&&C?A=C.replace("{name}",n??""):_t(C)&&(A=C(n));var x=m?D.getTextColor():a.get("inactiveColor");S.add(new cr({style:Ua(D,{text:A,x:M,y:p/2,fill:x,align:E,verticalAlign:"middle"},{inheritColor:x})}));var F=new Ee({shape:S.getBoundingRect(),invisible:!0}),L=a.getModel("tooltip");return L.get("show")&&Bh({el:F,componentModel:o,itemName:n,itemTooltipOption:L.option}),S.add(F),S.eachChild(function(N){N.silent=!0}),F.silent=!f,this.getContentGroup().add(S),mf(S),S.__legendDataIndex=i,S},t.prototype.layoutInner=function(e,n,i,a,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();xi(e.get("orient"),u,e.get("itemGap"),i.width,i.height);var h=u.getBoundingRect(),f=[-h.x,-h.y];if(l.markRedraw(),u.markRedraw(),o){xi("horizontal",l,e.get("selectorItemGap",!0));var c=l.getBoundingRect(),v=[-c.x,-c.y],d=e.get("selectorButtonGap",!0),p=e.getOrient().index,m=p===0?"width":"height",g=p===0?"height":"width",y=p===0?"y":"x";s==="end"?v[p]+=h[m]+d:f[p]+=c[m]+d,v[1-p]+=h[g]/2-c[g]/2,l.x=v[0],l.y=v[1],u.x=f[0],u.y=f[1];var _={x:0,y:0};return _[m]=h[m]+d+c[m],_[g]=Math.max(h[g],c[g]),_[y]=Math.min(0,c[y]+v[1-p]),_}else return u.x=f[0],u.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(rn);function zF(r,t,e,n,i,a,o){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),jf(m,function(y,_){m[_]==="inherit"&&(m[_]=g[_])})}var u=t.getModel("itemStyle"),l=u.getItemStyle(),h=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=u.getShallow("decal");l.decal=!f||f==="inherit"?n.decal:If(f,o),l.fill==="inherit"&&(l.fill=n[i]),l.stroke==="inherit"&&(l.stroke=n[h]),l.opacity==="inherit"&&(l.opacity=(i==="fill"?n:e).opacity),s(l,n);var c=t.getModel("lineStyle"),v=c.getLineStyle();if(s(v,e),l.fill==="auto"&&(l.fill=n.fill),l.stroke==="auto"&&(l.stroke=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),!a){var d=t.get("inactiveBorderWidth"),p=l[h];l.lineWidth=d==="auto"?n.lineWidth>0&&p?2:0:l.lineWidth,l.fill=t.get("inactiveColor"),l.stroke=t.get("inactiveBorderColor"),v.stroke=c.get("inactiveColor"),v.lineWidth=c.get("inactiveWidth")}return{itemStyle:l,lineStyle:v}}function VF(r){var t=r.icon||"roundRect",e=uo(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Gd(r,t,e,n){Qf(r,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:r??t}),Kf(r,t,e,n)}function s1(r){for(var t=r.getZr().storage.getDisplayList(),e,n=0,i=t.length;n<i&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function Kf(r,t,e,n){s1(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:n})}function Qf(r,t,e,n){s1(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:n})}const u1=kF;function $F(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function ya(r,t,e){var n={},i=r==="toggleSelected",a;return e.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](t.name):r==="allSelect"||r==="inverseSelect"?o[r]():(o[r](t.name),a=o.isSelected(t.name));var s=o.getData();I(s,function(u){var l=u.get("name");if(!(l===`
`||l==="")){var h=o.isSelected(l);n.hasOwnProperty(l)?n[l]=n[l]&&h:n[l]=h}})}),r==="allSelect"||r==="inverseSelect"?{selected:n}:{name:t.name,selected:n}}function GF(r){r.registerAction("legendToggleSelect","legendselectchanged",Yt(ya,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",Yt(ya,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",Yt(ya,"inverseSelect")),r.registerAction("legendSelect","legendselected",Yt(ya,"select")),r.registerAction("legendUnSelect","legendunselected",Yt(ya,"unSelect"))}function l1(r){r.registerComponentModel(Xf),r.registerComponentView(u1),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,$F),r.registerSubTypeDefaulter("legend",function(){return"plain"}),GF(r)}var UF=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,i){var a=uu(e);r.prototype.init.call(this,e,n,i),Ud(this,e,a)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),Ud(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Bb(Xf.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Xf);function Ud(r,t,e){var n=r.getOrient(),i=[1,1];i[n.index]=0,Ni(t,e,{type:"box",ignoreSize:!!i})}const WF=UF;var Wd=ye,$l=["width","height"],Gl=["x","y"],qF=function(r){Q(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Wd),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Wd)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,i,a,o,s,u){var l=this;r.prototype.renderInner.call(this,e,n,i,a,o,s,u);var h=this._controllerGroup,f=n.get("pageIconSize",!0),c=st(f)?f:[f,f];d("pagePrev",0);var v=n.getModel("pageTextStyle");h.add(new cr({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(p,m){var g=p+"DataIndex",y=Zg(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:Qt(l._pageGo,l,g,n,a)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});y.name=p,h.add(y)}},t.prototype.layoutInner=function(e,n,i,a,o,s){var u=this.getSelectorGroup(),l=e.getOrient().index,h=$l[l],f=Gl[l],c=$l[1-l],v=Gl[1-l];o&&xi("horizontal",u,e.get("selectorItemGap",!0));var d=e.get("selectorButtonGap",!0),p=u.getBoundingRect(),m=[-p.x,-p.y],g=gt(i);o&&(g[h]=i[h]-p[h]-d);var y=this._layoutContentAndController(e,a,g,l,h,c,v,f);if(o){if(s==="end")m[l]+=y[h]+d;else{var _=p[h]+d;m[l]-=_,y[f]-=_}y[h]+=p[h]+d,m[1-l]+=y[v]+y[c]/2-p[c]/2,y[c]=Math.max(y[c],p[c]),y[v]=Math.min(y[v],p[v]+m[1-l]),u.x=m[0],u.y=m[1],u.markRedraw()}return y},t.prototype._layoutContentAndController=function(e,n,i,a,o,s,u,l){var h=this.getContentGroup(),f=this._containerGroup,c=this._controllerGroup;xi(e.get("orient"),h,e.get("itemGap"),a?i.width:null,a?null:i.height),xi("horizontal",c,e.get("pageButtonItemGap",!0));var v=h.getBoundingRect(),d=c.getBoundingRect(),p=this._showController=v[o]>i[o],m=[-v.x,-v.y];n||(m[a]=h[l]);var g=[0,0],y=[-d.x,-d.y],_=bt(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(p){var w=e.get("pageButtonPosition",!0);w==="end"?y[a]+=i[o]-d[o]:g[a]+=d[o]+_}y[1-a]+=v[s]/2-d[s]/2,h.setPosition(m),f.setPosition(g),c.setPosition(y);var S={x:0,y:0};if(S[o]=p?i[o]:v[o],S[s]=Math.max(v[s],d[s]),S[u]=Math.min(0,d[u]+y[1-a]),f.__rectSize=i[o],p){var D={x:0,y:0};D[o]=Math.max(i[o]-d[o]-_,0),D[s]=S[s],f.setClipPath(new Ee({shape:D})),f.__rectSize=D[o]}else c.eachChild(function(M){M.attr({invisible:!0,silent:!0})});var b=this._getPageInfo(e);return b.pageIndex!=null&&ru(h,{x:b.contentPosition[0],y:b.contentPosition[1]},p?e:null),this._updatePageInfoView(e,b),S},t.prototype._pageGo=function(e,n,i){var a=this._getPageInfo(n)[e];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var i=this._controllerGroup;I(["pagePrev","pageNext"],function(h){var f=h+"DataIndex",c=n[f]!=null,v=i.childOfName(h);v&&(v.setStyle("fill",c?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),v.cursor=c?"pointer":"default")});var a=i.childOfName("pageText"),o=e.get("pageFormatter"),s=n.pageIndex,u=s!=null?s+1:0,l=n.pageCount;a&&o&&a.setStyle("text",lt(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=e.getOrient().index,s=$l[o],u=Gl[o],l=this._findTargetItemIndex(n),h=i.children(),f=h[l],c=h.length,v=c?1:0,d={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return d;var p=w(f);d.contentPosition[o]=-p.s;for(var m=l+1,g=p,y=p,_=null;m<=c;++m)_=w(h[m]),(!_&&y.e>g.s+a||_&&!S(_,g.s))&&(y.i>g.i?g=y:g=_,g&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=g.i),++d.pageCount)),y=_;for(var m=l-1,g=p,y=p,_=null;m>=-1;--m)_=w(h[m]),(!_||!S(y,_.s))&&g.i<y.i&&(y=g,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=_;return d;function w(D){if(D){var b=D.getBoundingRect(),M=b[u]+D[u];return{s:M,e:M+b[s],i:D.__legendDataIndex}}}function S(D,b){return D.e>=b&&D.s<=b+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var u=o.__legendDataIndex;a==null&&u!=null&&(a=s),u===e&&(n=s)}),n??a},t.type="legend.scroll",t}(u1);const YF=qF;function ZF(r){r.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function HF(r){zn(l1),r.registerComponentModel(WF),r.registerComponentView(YF),ZF(r)}function XF(r){zn(l1),zn(HF)}function qd(r,t,e){var n=Ui.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*e,n.height=a*e,n}var jF=function(r){Q(t,r);function t(e,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||As,typeof e=="string"?o=qd(e,n,i):ot(e)&&(o=e,e=o.id),a.id=e,a.dom=o;var s=o.style;return s&&(L0(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=qd("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,l=new At(0,0,0,0);function h(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var _=new At(0,0,0,0);_.copy(y),o.push(_)}else{for(var w=!1,S=1/0,D=0,b=0;b<o.length;++b){var M=o[b];if(M.intersect(y)){var E=new At(0,0,0,0);E.copy(M),E.union(y),o[b]=E,w=!0;break}else if(u){l.copy(y),l.union(M);var C=y.width*y.height,A=M.width*M.height,x=l.width*l.height,F=x-C-A;F<S&&(S=F,D=b)}}if(u&&(o[D].union(y),w=!0),!w){var _=new At(0,0,0,0);_.copy(y),o.push(_)}u||(u=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var c=e[f];if(c){var v=c.shouldBePainted(i,a,!0,!0),d=c.__isRendered&&(c.__dirty&Ne||!v)?c.getPrevPaintRect():null;d&&h(d);var p=v&&(c.__dirty&Ne||!c.__isRendered)?c.getPaintRect():null;p&&h(p)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var c=n[f],v=c.shouldBePainted(i,a,!0,!0);if(c&&(!v||!c.__zr)&&c.__isRendered){var d=c.getPrevPaintRect();d&&h(d)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var g=f+1;g<o.length;)o[f].intersect(o[g])?(m=!0,o[f].union(o[g]),o.splice(g,1)):g++;f++}}while(m);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=e+"px",o.height=n+"px"),a.width=e*i,a.height=n*i,s&&(s.width=e*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,n,i){var a=this.dom,o=this.ctx,s=a.width,u=a.height;n=n||this.clearColor;var l=this.motionBlur&&!e,h=this.lastFrameAlpha,f=this.dpr,c=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,u/f));var v=this.domBack;function d(p,m,g,y){if(o.clearRect(p,m,g,y),n&&n!=="transparent"){var _=void 0;if(Zs(n)){var w=n.global||n.__width===g&&n.__height===y;_=w&&n.__canvasGradient||Tf(o,n,{x:0,y:0,width:g,height:y}),n.__canvasGradient=_,n.__width=g,n.__height=y}else yw(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,_=Ff(o,n,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}}));o.save(),o.fillStyle=_||n,o.fillRect(p,m,g,y),o.restore()}l&&(o.save(),o.globalAlpha=h,o.drawImage(v,p,m,g,y),o.restore())}!i||l?d(0,0,s,u):i.length&&I(i,function(p){d(p.x*f,p.y*f,p.width*f,p.height*f)})},t}(vr);const Ul=jF;var Yd=1e5,En=314159,Ko=.01,KF=.001;function QF(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function JF(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var tI=function(){function r(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=K({},n||{}),this.dpr=n.devicePixelRatio||As,this._singleCanvas=a,this.root=t;var o=t.style;o&&(L0(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var h=t,f=h.width,c=h.height;n.width!=null&&(f=n.width),n.height!=null&&(c=n.height),this.dpr=n.devicePixelRatio||1,h.width=f*this.dpr,h.height=c*this.dpr,this._width=f,this._height=c;var v=new Ul(h,this,this.dpr);v.__builtin__=!0,v.initContext(),u[En]=v,v.zlevel=En,s.push(En),this._domRoot=t}else{this._width=$o(t,0,n),this._height=$o(t,1,n);var l=this._domRoot=JF(this._width,this._height);t.appendChild(l)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=a===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<e;o++){var s=t[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Yd)),a||(a=n.ctx,a.save()),In(a,s,i,o===e-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(Yd)},r.prototype.paintOne=function(t,e){Wm(t,e)},r.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;tf(function(){u._paintList(t,e,n,i)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(En).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},r.prototype._doPaintList=function(t,e,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&a.push(l)}for(var h=!0,f=!1,c=function(p){var m=a[p],g=m.ctx,y=o&&m.createRepaintRects(t,e,v._width,v._height),_=n?m.__startIndex:m.__drawIndex,w=!n&&m.incremental&&Date.now,S=w&&Date.now(),D=m.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,D,y);else if(_===m.__startIndex){var b=t[_];(!b.incremental||!b.notClear||n)&&m.clear(!1,D,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var M,E=function(F){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(M=_;M<m.__endIndex;M++){var N=t[M];if(N.__inHover&&(f=!0),i._doPaintEl(N,m,o,F,L,M===m.__endIndex-1),w){var B=Date.now()-S;if(B>15)break}}L.prevElClipPaths&&g.restore()};if(y)if(y.length===0)M=m.__endIndex;else for(var C=v.dpr,A=0;A<y.length;++A){var x=y[A];g.save(),g.beginPath(),g.rect(x.x*C,x.y*C,x.width*C,x.height*C),g.clip(),E(x),g.restore()}else g.save(),E(),g.restore();m.__drawIndex=M,m.__drawIndex<m.__endIndex&&(h=!1)},v=this,d=0;d<a.length;d++)c(d);return Nt.wxa&&I(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:h,needsRefreshHover:f}},r.prototype._doPaintEl=function(t,e,n,i,a,o){var s=e.ctx;if(n){var u=t.getPaintRect();(!i||u&&u.intersect(i))&&(In(s,t,a,o),t.setPrevPaintRect(u))}else In(s,t,a,o)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=En);var n=this._layers[t];return n||(n=new Ul("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?pt(n,this._layerConfig[t],!0):this._layerConfig[t-Ko]&&pt(n,this._layerConfig[t-Ko],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},r.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,u=-1;if(!n[t]&&QF(e)){if(a>0&&t>i[0]){for(u=0;u<a-1&&!(i[u]<t&&i[u+1]>t);u++);s=n[i[u]]}if(i.splice(u+1,0,t),n[t]=e,!e.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}},r.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(e,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&t.call(e,o,a)}},r.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||t.call(e,o,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,c){f.__dirty=f.__used=!1});function e(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,u;for(u=0;u<t.length;u++){var i=t[u],l=i.zlevel,h=void 0;s!==l&&(s=l,o=0),i.incremental?(h=this.getLayer(l+KF,this._needsManuallyCompositing),h.incremental=!0,o=1):h=this.getLayer(l+(o>0?Ko:0),this._needsManuallyCompositing),h.__builtin__||ch("ZLevel "+l+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==u&&(h.__dirty=!0),h.__startIndex=u,h.incremental?h.__drawIndex=-1:h.__drawIndex=u,e(u),a=h),i.__dirty&Ne&&!i.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=u))}e(u),this.eachBuiltinLayer(function(f,c){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,I(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?pt(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+Ko){var o=this._layers[a];pt(o,n[t],!0)}}}},r.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(Ct(n,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=$o(a,0,i),e=$o(a,1,i),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(En).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[En].dom;var e=new Ul("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,l=s.length;u<l;u++){var h=s[u];In(n,h,o,u===l-1)}return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();const eI=tI;function rI(r){r.registerPainter("canvas",eI)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ns.apply(this,arguments)}var f1={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ot(r){return typeof r=="number"}function re(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function h1(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function c1(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function v1(r){return r&&r.constructor.prototype.isUnit===!0||!1}function mr(r){return typeof r=="string"}var zt=Array.isArray;function Xt(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Rs(r){return Array.isArray(r)||Xt(r)}function nI(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function iI(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function aI(r){return r&&r.constructor.prototype.isRange===!0||!1}function fc(r){return r&&r.constructor.prototype.isIndex===!0||!1}function oI(r){return typeof r=="boolean"}function sI(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function uI(r){return r&&r.constructor.prototype.isHelp===!0||!1}function lI(r){return typeof r=="function"}function fI(r){return r instanceof Date}function hI(r){return r instanceof RegExp}function p1(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!h1(r)&&!c1(r))}function cI(r){return r===null}function vI(r){return r===void 0}function pI(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function dI(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function gI(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function mI(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function yI(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function _I(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function wI(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function DI(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function SI(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function CI(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function bI(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function AI(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function MI(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function EI(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function xI(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function TI(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function FI(r){return r&&r.constructor.prototype.isChain===!0||!1}function Fi(r){var t=typeof r;return t==="object"?r===null?"null":re(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":t}function Ut(r){var t=typeof r;if(t==="number"||t==="string"||t==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(e){return Ut(e)});if(r instanceof Date)return new Date(r.valueOf());if(re(r))return r;if(p1(r))return II(r,Ut);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function II(r,t){var e={};for(var n in r)to(r,n)&&(e[n]=t(r[n]));return e}function BI(r,t){for(var e in t)to(t,e)&&(r[e]=t[e]);return r}function zi(r,t){var e,n,i;if(Array.isArray(r)){if(!Array.isArray(t)||r.length!==t.length)return!1;for(n=0,i=r.length;n<i;n++)if(!zi(r[n],t[n]))return!1;return!0}else{if(typeof r=="function")return r===t;if(r instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in r)if(!(e in t)||!zi(r[e],t[e]))return!1;for(e in t)if(!(e in r))return!1;return!0}else return r===t}}function to(r,t){return r&&Object.hasOwnProperty.call(r,t)}function LI(r,t){for(var e={},n=0;n<t.length;n++){var i=t[n],a=r[i];a!==void 0&&(e[i]=a)}return e}var PI=["Matrix","Array"],NI=["number","BigNumber","Fraction"],Xi=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(f1)};Ns(Xi,f1,{MATRIX_OPTIONS:PI,NUMBER_OPTIONS:NI});function Zd(){return!0}function Ge(){return!1}function li(){}const Hd="Argument is not a typed-function.";function d1(){function r(T){return typeof T=="object"&&T!==null&&T.constructor===Object}const t=[{name:"number",test:function(T){return typeof T=="number"}},{name:"string",test:function(T){return typeof T=="string"}},{name:"boolean",test:function(T){return typeof T=="boolean"}},{name:"Function",test:function(T){return typeof T=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(T){return T instanceof Date}},{name:"RegExp",test:function(T){return T instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(T){return T===null}},{name:"undefined",test:function(T){return T===void 0}}],e={name:"any",test:Zd,isAny:!0};let n,i,a=0,o={createCount:0};function s(T){const P=n.get(T);if(P)return P;let R='Unknown type "'+T+'"';const O=T.toLowerCase();let U;for(U of i)if(U.toLowerCase()===O){R+='. Did you mean "'+U+'" ?';break}throw new TypeError(R)}function u(T){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const R=P?s(P).index:i.length,O=[];for(let z=0;z<T.length;++z){if(!T[z]||typeof T[z].name!="string"||typeof T[z].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const X=T[z].name;if(n.has(X))throw new TypeError('Duplicate type name "'+X+'"');O.push(X),n.set(X,{name:X,test:T[z].test,isAny:T[z].isAny,index:R+z,conversionsTo:[]})}const U=i.slice(R);i=i.slice(0,R).concat(O).concat(U);for(let z=R+O.length;z<i.length;++z)n.get(i[z]).index=z}function l(){n=new Map,i=[],a=0,u([e],!1)}l(),u(t);function h(){let T;for(T of i)n.get(T).conversionsTo=[];a=0}function f(T){const P=i.filter(R=>{const O=n.get(R);return!O.isAny&&O.test(T)});return P.length?P:["any"]}function c(T){return T&&typeof T=="function"&&"_typedFunctionData"in T}function v(T,P,R){if(!c(T))throw new TypeError(Hd);const O=R&&R.exact,U=Array.isArray(P)?P.join(","):P,z=w(U),X=m(z);if(!O||X in T.signatures){const Ft=T._typedFunctionData.signatureMap.get(X);if(Ft)return Ft}const Y=z.length;let j;if(O){j=[];let Ft;for(Ft in T.signatures)j.push(T._typedFunctionData.signatureMap.get(Ft))}else j=T._typedFunctionData.signatures;for(let Ft=0;Ft<Y;++Ft){const Lt=z[Ft],Zt=[];let we;for(we of j){const ce=M(we.params,Ft);if(!(!ce||Lt.restParam&&!ce.restParam)){if(!ce.hasAny){const er=_(ce);if(Lt.types.some(rr=>!er.has(rr.name)))continue}Zt.push(we)}}if(j=Zt,j.length===0)break}let W;for(W of j)if(W.params.length<=Y)return W;throw new TypeError("Signature not found (signature: "+(T.name||"unnamed")+"("+m(z,", ")+"))")}function d(T,P,R){return v(T,P,R).implementation}function p(T,P){const R=s(P);if(R.test(T))return T;const O=R.conversionsTo;if(O.length===0)throw new Error("There are no conversions to "+P+" defined.");for(let U=0;U<O.length;U++)if(s(O[U].from).test(T))return O[U].convert(T);throw new Error("Cannot convert "+T+" to "+P)}function m(T){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return T.map(R=>R.name).join(P)}function g(T){const P=T.indexOf("...")===0,O=(P?T.length>3?T.slice(3):"any":T).split("|").map(Y=>s(Y.trim()));let U=!1,z=P?"...":"";return{types:O.map(function(Y){return U=Y.isAny||U,z+=Y.name+"|",{name:Y.name,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:null,conversionIndex:-1}}),name:z.slice(0,-1),hasAny:U,hasConversion:!1,restParam:P}}function y(T){const P=T.types.map(X=>X.name),R=G(P);let O=T.hasAny,U=T.name;const z=R.map(function(X){const Y=s(X.from);return O=Y.isAny||O,U+="|"+X.from,{name:X.from,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:X,conversionIndex:X.index}});return{types:T.types.concat(z),name:U,hasAny:O,hasConversion:z.length>0,restParam:T.restParam}}function _(T){return T.typeSet||(T.typeSet=new Set,T.types.forEach(P=>T.typeSet.add(P.name))),T.typeSet}function w(T){const P=[];if(typeof T!="string")throw new TypeError("Signatures must be strings");const R=T.trim();if(R==="")return P;const O=R.split(",");for(let U=0;U<O.length;++U){const z=g(O[U].trim());if(z.restParam&&U!==O.length-1)throw new SyntaxError('Unexpected rest parameter "'+O[U]+'": only allowed for the last parameter');if(z.types.length===0)return null;P.push(z)}return P}function S(T){const P=St(T);return P?P.restParam:!1}function D(T){if(!T||T.types.length===0)return Zd;if(T.types.length===1)return s(T.types[0].name).test;if(T.types.length===2){const P=s(T.types[0].name).test,R=s(T.types[1].name).test;return function(U){return P(U)||R(U)}}else{const P=T.types.map(function(R){return s(R.name).test});return function(O){for(let U=0;U<P.length;U++)if(P[U](O))return!0;return!1}}}function b(T){let P,R,O;if(S(T)){P=Wt(T).map(D);const U=P.length,z=D(St(T)),X=function(Y){for(let j=U;j<Y.length;j++)if(!z(Y[j]))return!1;return!0};return function(j){for(let W=0;W<P.length;W++)if(!P[W](j[W]))return!1;return X(j)&&j.length>=U+1}}else return T.length===0?function(z){return z.length===0}:T.length===1?(R=D(T[0]),function(z){return R(z[0])&&z.length===1}):T.length===2?(R=D(T[0]),O=D(T[1]),function(z){return R(z[0])&&O(z[1])&&z.length===2}):(P=T.map(D),function(z){for(let X=0;X<P.length;X++)if(!P[X](z[X]))return!1;return z.length===P.length})}function M(T,P){return P<T.length?T[P]:S(T)?St(T):null}function E(T,P){const R=M(T,P);return R?_(R):new Set}function C(T){return T.conversion===null||T.conversion===void 0}function A(T,P){const R=new Set;return T.forEach(O=>{const U=E(O.params,P);let z;for(z of U)R.add(z)}),R.has("any")?["any"]:Array.from(R)}function x(T,P,R){let O,U;const z=T||"unnamed";let X=R,Y;for(Y=0;Y<P.length;Y++){const Lt=[];if(X.forEach(Zt=>{const we=M(Zt.params,Y),ce=D(we);(Y<Zt.params.length||S(Zt.params))&&ce(P[Y])&&Lt.push(Zt)}),Lt.length===0){if(U=A(X,Y),U.length>0){const Zt=f(P[Y]);return O=new TypeError("Unexpected type of argument in function "+z+" (expected: "+U.join(" or ")+", actual: "+Zt.join(" | ")+", index: "+Y+")"),O.data={category:"wrongType",fn:z,index:Y,actual:Zt,expected:U},O}}else X=Lt}const j=X.map(function(Lt){return S(Lt.params)?1/0:Lt.params.length});if(P.length<Math.min.apply(null,j))return U=A(X,Y),O=new TypeError("Too few arguments in function "+z+" (expected: "+U.join(" or ")+", index: "+P.length+")"),O.data={category:"tooFewArgs",fn:z,index:P.length,expected:U},O;const W=Math.max.apply(null,j);if(P.length>W)return O=new TypeError("Too many arguments in function "+z+" (expected: "+W+", actual: "+P.length+")"),O.data={category:"tooManyArgs",fn:z,index:P.length,expectedLength:W},O;const Ft=[];for(let Lt=0;Lt<P.length;++Lt)Ft.push(f(P[Lt]).join("|"));return O=new TypeError('Arguments of type "'+Ft.join(", ")+'" do not match any of the defined signatures of function '+z+"."),O.data={category:"mismatch",actual:Ft},O}function F(T){let P=i.length+1;for(let R=0;R<T.types.length;R++)C(T.types[R])&&(P=Math.min(P,T.types[R].typeIndex));return P}function L(T){let P=a+1;for(let R=0;R<T.types.length;R++)C(T.types[R])||(P=Math.min(P,T.types[R].conversionIndex));return P}function N(T,P){if(T.hasAny){if(!P.hasAny)return 1}else if(P.hasAny)return-1;if(T.restParam){if(!P.restParam)return 1}else if(P.restParam)return-1;if(T.hasConversion){if(!P.hasConversion)return 1}else if(P.hasConversion)return-1;const R=F(T)-F(P);if(R<0)return-1;if(R>0)return 1;const O=L(T)-L(P);return O<0?-1:O>0?1:0}function B(T,P){const R=T.params,O=P.params,U=St(R),z=St(O),X=S(R),Y=S(O);if(X&&U.hasAny){if(!Y||!z.hasAny)return 1}else if(Y&&z.hasAny)return-1;let j=0,W=0,Ft;for(Ft of R)Ft.hasAny&&++j,Ft.hasConversion&&++W;let Lt=0,Zt=0;for(Ft of O)Ft.hasAny&&++Lt,Ft.hasConversion&&++Zt;if(j!==Lt)return j-Lt;if(X&&U.hasConversion){if(!Y||!z.hasConversion)return 1}else if(Y&&z.hasConversion)return-1;if(W!==Zt)return W-Zt;if(X){if(!Y)return 1}else if(Y)return-1;const we=(R.length-O.length)*(X?-1:1);if(we!==0)return we;const ce=[];let er=0;for(let Hn=0;Hn<R.length;++Hn){const ho=N(R[Hn],O[Hn]);ce.push(ho),er+=ho}if(er!==0)return er;let rr;for(rr of ce)if(rr!==0)return rr;return 0}function G(T){if(T.length===0)return[];const P=T.map(s);T.length>1&&P.sort((U,z)=>U.index-z.index);let R=P[0].conversionsTo;if(T.length===1)return R;R=R.concat([]);const O=new Set(T);for(let U=1;U<P.length;++U){let z;for(z of P[U].conversionsTo)O.has(z.from)||(R.push(z),O.add(z.from))}return R}function k(T,P){let R=P;if(T.some(U=>U.hasConversion)){const U=S(T),z=T.map($);R=function(){const Y=[],j=U?arguments.length-1:arguments.length;for(let W=0;W<j;W++)Y[W]=z[W](arguments[W]);return U&&(Y[j]=arguments[j].map(z[j])),P.apply(this,Y)}}let O=R;if(S(T)){const U=T.length-1;O=function(){return R.apply(this,dt(arguments,0,U).concat([dt(arguments,U)]))}}return O}function $(T){let P,R,O,U;const z=[],X=[];switch(T.types.forEach(function(Y){Y.conversion&&(z.push(s(Y.conversion.from).test),X.push(Y.conversion.convert))}),X.length){case 0:return function(j){return j};case 1:return P=z[0],O=X[0],function(j){return P(j)?O(j):j};case 2:return P=z[0],R=z[1],O=X[0],U=X[1],function(j){return P(j)?O(j):R(j)?U(j):j};default:return function(j){for(let W=0;W<X.length;W++)if(z[W](j))return X[W](j);return j}}}function q(T){function P(R,O,U){if(O<R.length){const z=R[O];let X=[];if(z.restParam){const Y=z.types.filter(C);Y.length<z.types.length&&X.push({types:Y,name:"..."+Y.map(j=>j.name).join("|"),hasAny:Y.some(j=>j.isAny),hasConversion:!1,restParam:!0}),X.push(z)}else X=z.types.map(function(Y){return{types:[Y],name:Y.name,hasAny:Y.isAny,hasConversion:Y.conversion,restParam:!1}});return Tt(X,function(Y){return P(R,O+1,U.concat([Y]))})}else return[U]}return P(T,0,[])}function et(T,P){const R=Math.max(T.length,P.length);for(let Y=0;Y<R;Y++){const j=E(T,Y),W=E(P,Y);let Ft=!1,Lt;for(Lt of W)if(j.has(Lt)){Ft=!0;break}if(!Ft)return!1}const O=T.length,U=P.length,z=S(T),X=S(P);return z?X?O===U:U>=O:X?O>=U:O===U}function it(T){return T.map(P=>Mr(P)?te(P.referToSelf.callback):_e(P)?Dt(P.referTo.references,P.referTo.callback):P)}function Z(T,P,R){const O=[];let U;for(U of T){let z=R[U];if(typeof z!="number")throw new TypeError('No definition for referenced signature "'+U+'"');if(z=P[z],typeof z!="function")return!1;O.push(z)}return O}function at(T,P,R){const O=it(T),U=new Array(O.length).fill(!1);let z=!0;for(;z;){z=!1;let X=!0;for(let Y=0;Y<O.length;++Y){if(U[Y])continue;const j=O[Y];if(Mr(j))O[Y]=j.referToSelf.callback(R),O[Y].referToSelf=j.referToSelf,U[Y]=!0,X=!1;else if(_e(j)){const W=Z(j.referTo.references,O,P);W?(O[Y]=j.referTo.callback.apply(this,W),O[Y].referTo=j.referTo,U[Y]=!0,X=!1):z=!0}}if(X&&z)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return O}function vt(T){const P=/\bthis(\(|\.signatures\b)/;Object.keys(T).forEach(R=>{const O=T[R];if(P.test(O.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function mt(T,P){if(o.createCount++,Object.keys(P).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&vt(P);const R=[],O=[],U={},z=[];let X;for(X in P){if(!Object.prototype.hasOwnProperty.call(P,X))continue;const xt=w(X);if(!xt)continue;R.forEach(function(Qi){if(et(Qi,xt))throw new TypeError('Conflicting signatures "'+m(Qi)+'" and "'+m(xt)+'".')}),R.push(xt);const De=O.length;O.push(P[X]);const Q_=xt.map(y);let co;for(co of q(Q_)){const Qi=m(co);z.push({params:co,name:Qi,fn:De}),co.every(J_=>!J_.hasConversion)&&(U[Qi]=De)}}z.sort(B);const Y=at(O,U,Ki);let j;for(j in U)Object.prototype.hasOwnProperty.call(U,j)&&(U[j]=Y[U[j]]);const W=[],Ft=new Map;for(j of z)Ft.has(j.name)||(j.fn=Y[j.fn],W.push(j),Ft.set(j.name,j));const Lt=W[0]&&W[0].params.length<=2&&!S(W[0].params),Zt=W[1]&&W[1].params.length<=2&&!S(W[1].params),we=W[2]&&W[2].params.length<=2&&!S(W[2].params),ce=W[3]&&W[3].params.length<=2&&!S(W[3].params),er=W[4]&&W[4].params.length<=2&&!S(W[4].params),rr=W[5]&&W[5].params.length<=2&&!S(W[5].params),Hn=Lt&&Zt&&we&&ce&&er&&rr;for(let xt=0;xt<W.length;++xt)W[xt].test=b(W[xt].params);const ho=Lt?D(W[0].params[0]):Ge,b_=Zt?D(W[1].params[0]):Ge,A_=we?D(W[2].params[0]):Ge,M_=ce?D(W[3].params[0]):Ge,E_=er?D(W[4].params[0]):Ge,x_=rr?D(W[5].params[0]):Ge,T_=Lt?D(W[0].params[1]):Ge,F_=Zt?D(W[1].params[1]):Ge,I_=we?D(W[2].params[1]):Ge,B_=ce?D(W[3].params[1]):Ge,L_=er?D(W[4].params[1]):Ge,P_=rr?D(W[5].params[1]):Ge;for(let xt=0;xt<W.length;++xt)W[xt].implementation=k(W[xt].params,W[xt].fn);const N_=Lt?W[0].implementation:li,R_=Zt?W[1].implementation:li,O_=we?W[2].implementation:li,k_=ce?W[3].implementation:li,z_=er?W[4].implementation:li,V_=rr?W[5].implementation:li,$_=Lt?W[0].params.length:-1,G_=Zt?W[1].params.length:-1,U_=we?W[2].params.length:-1,W_=ce?W[3].params.length:-1,q_=er?W[4].params.length:-1,Y_=rr?W[5].params.length:-1,Z_=Hn?6:0,H_=W.length,X_=W.map(xt=>xt.test),j_=W.map(xt=>xt.implementation),K_=function(){for(let De=Z_;De<H_;De++)if(X_[De](arguments))return j_[De].apply(this,arguments);return o.onMismatch(T,arguments,W)};function Ki(xt,De){return arguments.length===$_&&ho(xt)&&T_(De)?N_.apply(this,arguments):arguments.length===G_&&b_(xt)&&F_(De)?R_.apply(this,arguments):arguments.length===U_&&A_(xt)&&I_(De)?O_.apply(this,arguments):arguments.length===W_&&M_(xt)&&B_(De)?k_.apply(this,arguments):arguments.length===q_&&E_(xt)&&L_(De)?z_.apply(this,arguments):arguments.length===Y_&&x_(xt)&&P_(De)?V_.apply(this,arguments):K_.apply(this,arguments)}try{Object.defineProperty(Ki,"name",{value:T})}catch{}return Ki.signatures=U,Ki._typedFunctionData={signatures:W,signatureMap:Ft},Ki}function rt(T,P,R){throw x(T,P,R)}function Wt(T){return dt(T,0,T.length-1)}function St(T){return T[T.length-1]}function dt(T,P,R){return Array.prototype.slice.call(T,P,R)}function jt(T,P){for(let R=0;R<T.length;R++)if(P(T[R]))return T[R]}function Tt(T,P){return Array.prototype.concat.apply([],T.map(P))}function yt(){const T=Wt(arguments).map(R=>m(w(R))),P=St(arguments);if(typeof P!="function")throw new TypeError("Callback function expected as last argument");return Dt(T,P)}function Dt(T,P){return{referTo:{references:T,callback:P}}}function te(T){if(typeof T!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:T}}}function _e(T){return T&&typeof T.referTo=="object"&&Array.isArray(T.referTo.references)&&typeof T.referTo.callback=="function"}function Mr(T){return T&&typeof T.referToSelf=="object"&&typeof T.referToSelf.callback=="function"}function Yn(T,P){if(!T)return P;if(P&&P!==T){const R=new Error("Function names do not match (expected: "+T+", actual: "+P+")");throw R.data={actual:P,expected:T},R}return T}function Zn(T){let P;for(const R in T)Object.prototype.hasOwnProperty.call(T,R)&&(c(T[R])||typeof T[R].signature=="string")&&(P=Yn(P,T[R].name));return P}function Fu(T,P){let R;for(R in P)if(Object.prototype.hasOwnProperty.call(P,R)){if(R in T&&P[R]!==T[R]){const O=new Error('Signature "'+R+'" is defined twice');throw O.data={signature:R,sourceFunction:P[R],destFunction:T[R]},O}T[R]=P[R]}}const C_=o;o=function(T){const P=typeof T=="string",R=P?1:0;let O=P?T:"";const U={};for(let z=R;z<arguments.length;++z){const X=arguments[z];let Y={},j;if(typeof X=="function"?(j=X.name,typeof X.signature=="string"?Y[X.signature]=X:c(X)&&(Y=X.signatures)):r(X)&&(Y=X,P||(j=Zn(X))),Object.keys(Y).length===0){const W=new TypeError("Argument to 'typed' at index "+z+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw W.data={index:z,argument:X},W}P||(O=Yn(O,j)),Fu(U,Y)}return mt(O||"",U)},o.create=d1,o.createCount=C_.createCount,o.onMismatch=rt,o.throwMismatchError=rt,o.createError=x,o.clear=l,o.clearConversions=h,o.addTypes=u,o._findType=s,o.referTo=yt,o.referToSelf=te,o.convert=p,o.findSignature=v,o.find=d,o.isTypedFunction=c,o.warnAgainstDeprecatedThis=!0,o.addType=function(T,P){let R="any";P!==!1&&n.has("Object")&&(R="Object"),o.addTypes([T],R)};function Mc(T){if(!T||typeof T.from!="string"||typeof T.to!="string"||typeof T.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(T.to===T.from)throw new SyntaxError('Illegal to define conversion from "'+T.from+'" to itself.')}return o.addConversion=function(T){Mc(T);const P=s(T.to);if(P.conversionsTo.every(function(R){return R.from!==T.from}))P.conversionsTo.push({from:T.from,convert:T.convert,index:a++});else throw new Error('There is already a conversion from "'+T.from+'" to "'+P.name+'"')},o.addConversions=function(T){T.forEach(o.addConversion)},o.removeConversion=function(T){Mc(T);const P=s(T.to),R=jt(P.conversionsTo,U=>U.from===T.from);if(!R)throw new Error("Attempt to remove nonexistent conversion from "+T.from+" to "+T.to);if(R.convert!==T.convert)throw new Error("Conversion to remove does not match existing conversion");const O=P.conversionsTo.indexOf(R);P.conversionsTo.splice(O,1)},o.resolve=function(T,P){if(!c(T))throw new TypeError(Hd);const R=T._typedFunctionData.signatures;for(let O=0;O<R.length;++O)if(R[O].test(P))return R[O];return null},o}const Xd=d1();function Gt(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Wl(r,t,e){var n={2:"0b",8:"0o",16:"0x"},i=n[t],a="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!Gt(e))throw new Error("size must be an integer");if(r>2**(e-1)-1||r<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!Gt(r))throw new Error("Value must be an integer");r<0&&(r=r+2**e),a="i".concat(e)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(t)).concat(a)}function Jf(r,t){if(typeof t=="function")return t(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var e="auto",n,i;if(t&&(t.notation&&(e=t.notation),Ot(t)?n=t:Ot(t.precision)&&(n=t.precision),t.wordSize&&(i=t.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return OI(r,n);case"exponential":return g1(r,n);case"engineering":return RI(r,n);case"bin":return Wl(r,2,i);case"oct":return Wl(r,8,i);case"hex":return Wl(r,16,i);case"auto":return kI(r,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function yu(r){var t=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+r);var e=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:e,coefficients:o,exponent:i}}function RI(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=yu(r),n=_u(e,t),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Ot(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),u=0;u<s;u++)a.push(0);for(var l=Math.abs(i-o),h=1;l>0;)h++,l--;var f=a.slice(h).join(""),c=Ot(t)&&f.length||f.match(/[1-9]/)?"."+f:"",v=a.slice(0,h).join("")+c+"e"+(i>=0?"+":"")+o.toString();return n.sign+v}function OI(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=yu(r),n=typeof t=="number"?_u(e,e.exponent+1+t):e,i=n.coefficients,a=n.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(Ii(o-i.length))),a<0&&(i=Ii(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function g1(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=yu(r),n=t?_u(e,t):e,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(Ii(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function kI(r,t,e){if(isNaN(r)||!isFinite(r))return String(r);var n=e&&e.lowerExp!==void 0?e.lowerExp:-3,i=e&&e.upperExp!==void 0?e.upperExp:5,a=yu(r),o=t?_u(a,t):a;if(o.exponent<n||o.exponent>=i)return g1(r,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(Ii(t-s.length))),s=s.concat(Ii(u-s.length+1+(s.length<t?t-s.length:0))),s=Ii(-u).concat(s);var l=u>0?u:0;return l<s.length-1&&s.splice(l+1,0,"."),o.sign+s.join("")}function _u(r,t){for(var e={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var a=t-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),e.exponent++,a++),a--,n[a]++}}return e}function Ii(r){for(var t=[],e=0;e<r;e++)t.push(0);return t}function zI(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var VI=Number.EPSILON||2220446049250313e-31;function Os(r,t,e){if(e==null)return r===t;if(r===t)return!0;if(isNaN(r)||isNaN(t))return!1;if(isFinite(r)&&isFinite(t)){var n=Math.abs(r-t);return n<=VI?!0:n<=Math.max(Math.abs(r),Math.abs(t))*e}return!1}function ql(r,t,e){var n=r.constructor,i=new n(2),a="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!Gt(e))throw new Error("size must be an integer");if(r.greaterThan(i.pow(e-1).sub(1))||r.lessThan(i.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(e))),a="i".concat(e)}switch(t){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function $I(r,t){if(typeof t=="function")return t(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var e="auto",n,i;if(t!==void 0&&(t.notation&&(e=t.notation),typeof t=="number"?n=t:t.precision!==void 0&&(n=t.precision),t.wordSize&&(i=t.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return UI(r,n);case"exponential":return jd(r,n);case"engineering":return GI(r,n);case"bin":return ql(r,2,i);case"oct":return ql(r,8,i);case"hex":return ql(r,16,i);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,o=t&&t.upperExp!==void 0?t.upperExp:5;if(r.isZero())return"0";var s,u=r.toSignificantDigits(n),l=u.e;return l>=a&&l<o?s=u.toFixed():s=jd(r,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],f=arguments[4];return h!=="."?h+f:f})}default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function GI(r,t){var e=r.e,n=e%3===0?e:e<0?e-3-e%3:e-e%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(t);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(e>=0?"+":"")+n.toString()}function jd(r,t){return t!==void 0?r.toExponential(t-1):r.toExponential()}function UI(r,t){return r.toFixed(t)}function Ht(r,t){var e=WI(r,t);return t&&typeof t=="object"&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function WI(r,t){if(typeof r=="number")return Jf(r,t);if(re(r))return $I(r,t);if(qI(r))return!t||t.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return m1(r,t);if(mr(r))return Kd(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(t);if(r&&r.toString(t)!=={}.toString())return r.toString(t);var e=Object.keys(r).map(n=>Kd(n)+": "+Ht(r[n],t));return"{"+e.join(", ")+"}"}return String(r)}function Kd(r){for(var t=String(r),e="",n=0;n<t.length;){var i=t.charAt(n);e+=i in Qd?Qd[i]:i,n++}return'"'+e+'"'}var Qd={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function m1(r,t){if(Array.isArray(r)){for(var e="[",n=r.length,i=0;i<n;i++)i!==0&&(e+=", "),e+=m1(r[i],t);return e+="]",e}else return Ht(r,t)}function qI(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function It(r,t,e){if(!(this instanceof It))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}It.prototype=new RangeError;It.prototype.constructor=RangeError;It.prototype.name="DimensionError";It.prototype.isDimensionError=!0;function qn(r,t,e){if(!(this instanceof qn))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}qn.prototype=new RangeError;qn.prototype.constructor=RangeError;qn.prototype.name="IndexError";qn.prototype.isIndexError=!0;function xe(r){for(var t=[];Array.isArray(r);)t.push(r.length),r=r[0];return t}function y1(r,t,e){var n,i=r.length;if(i!==t[e])throw new It(i,t[e]);if(e<t.length-1){var a=e+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new It(t.length-1,t.length,"<");y1(r[n],t,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new It(t.length+1,t.length,">")}function Jd(r,t){var e=t.length===0;if(e){if(Array.isArray(r))throw new It(r.length,0)}else y1(r,t,0)}function Vt(r,t){if(r!==void 0){if(!Ot(r)||!Gt(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof t=="number"&&r>=t)throw new qn(r,t)}}function th(r,t,e){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Ot(i)||!Gt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ht(t)+")")}),(Ot(r)||re(r))&&(r=[r]);var n=e!==void 0?e:0;return eh(r,t,0,n),r}function eh(r,t,e,n){var i,a,o=r.length,s=t[e],u=Math.min(o,s);if(r.length=s,e<t.length-1){var l=e+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),eh(a,t,l,n);for(i=u;i<s;i++)a=[],r[i]=a,eh(a,t,l,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<s;i++)r[i]=n}}function _1(r,t){var e=ZI(r),n=e.length;if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new It(0,n,"!=");t=hc(t,n);var i=w1(t);if(n!==i)throw new It(i,n,"!=");try{return YI(e,t)}catch(a){throw a instanceof It?new It(i,n,"!="):a}}function hc(r,t){var e=w1(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=a>=0,u=t%e===0;if(s)if(u)n[a]=-t/e;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);return n}function w1(r){return r.reduce((t,e)=>t*e,1)}function YI(r,t){for(var e=r,n,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var o=e.length/a,s=0;s<o;s++)n.push(e.slice(s*a,(s+1)*a));e=n}return e}function D1(r,t,e,n){var i=n||xe(r);if(e)for(var a=0;a<e;a++)r=[r],i.unshift(1);for(r=S1(r,t,0);i.length<t;)i.push(1);return r}function S1(r,t,e){var n,i;if(Array.isArray(r)){var a=e+1;for(n=0,i=r.length;n<i;n++)r[n]=S1(r[n],t,a)}else for(var o=e;o<t;o++)r=[r];return r}function ZI(r){if(!Array.isArray(r))return r;var t=[];return r.forEach(function e(n){Array.isArray(n)?n.forEach(e):t.push(n)}),t}function ks(r,t){for(var e,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var s=o?ks(a,t):t(a);if(e===void 0)e=s;else if(e!==s)return"mixed"}return e}function C1(r,t,e,n){if(n<e){if(r.length!==t.length)throw new It(r.length,t.length);for(var i=[],a=0;a<r.length;a++)i[a]=C1(r[a],t[a],e,n+1);return i}else return r.concat(t)}function b1(){var r=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(e,n){return C1(e,n,t,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function HI(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];for(var n=t.map(c=>c.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],u=n[o],l=0;l<u;l++){var h=i-u+l;s[l]>a[h]&&(a[h]=s[l])}for(var f=0;f<t.length;f++)zs(t[f],a);return a}function zs(r,t){for(var e=t.length,n=r.length,i=0;i<n;i++){var a=e-n+i;if(r[i]<t[a]&&r[i]>1||r[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(t[a]))}}function t0(r,t){var e=xe(r);if(zi(e,t))return r;zs(e,t);var n=HI(e,t),i=n.length,a=[...Array(i-e.length).fill(1),...e],o=jI(r);e.length<i&&(o=_1(o,a),e=xe(o));for(var s=0;s<i;s++)e[s]<n[s]&&(o=XI(o,n[s],s),e=xe(o));return o}function XI(r,t,e){return b1(...Array(t).fill(r),e)}function jI(r){return Ns([],r)}function ct(r,t,e,n){function i(a){var o=LI(a,t.map(JI));return KI(r,t,a),e(o)}return i.isFactory=!0,i.fn=r,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function KI(r,t,e){var n=t.filter(a=>!QI(a)).every(a=>e[a]!==void 0);if(!n){var i=t.filter(a=>e[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function QI(r){return r&&r[0]==="?"}function JI(r){return r&&r[0]==="?"?r.slice(1):r}function tB(r,t){if(M1(r)&&A1(r,t))return r[t];throw typeof r[t]=="function"&&nB(r,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function eB(r,t,e){if(M1(r)&&A1(r,t))return r[t]=e,e;throw new Error('No access to property "'+t+'"')}function rB(r,t){return t in r}function A1(r,t){return!r||typeof r!="object"?!1:to(iB,t)?!0:!(t in Object.prototype||t in Function.prototype)}function nB(r,t){return r==null||typeof r[t]!="function"||to(r,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(r)?!1:to(aB,t)?!0:!(t in Object.prototype||t in Function.prototype)}function M1(r){return typeof r=="object"&&r&&r.constructor===Object}var iB={length:!0,name:!0},aB={toString:!0,valueOf:!0,toLocaleString:!0};class oB{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return tB(this.wrappedObject,t)}set(t,e){return eB(this.wrappedObject,t,e),this}has(t){return rB(this.wrappedObject,t)}}function sB(r){return r?r instanceof Map||r instanceof oB||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var E1=function(){return E1=Xd.create,Xd},uB=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],lB=ct("typed",uB,function(t){var{BigNumber:e,Complex:n,DenseMatrix:i,Fraction:a}=t,o=E1();return o.clear(),o.addTypes([{name:"number",test:Ot},{name:"Complex",test:h1},{name:"BigNumber",test:re},{name:"Fraction",test:c1},{name:"Unit",test:v1},{name:"identifier",test:s=>mr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:mr},{name:"Chain",test:FI},{name:"Array",test:zt},{name:"Matrix",test:Xt},{name:"DenseMatrix",test:nI},{name:"SparseMatrix",test:iI},{name:"Range",test:aI},{name:"Index",test:fc},{name:"boolean",test:oI},{name:"ResultSet",test:sI},{name:"Help",test:uI},{name:"function",test:lI},{name:"Date",test:fI},{name:"RegExp",test:hI},{name:"null",test:cI},{name:"undefined",test:vI},{name:"AccessorNode",test:pI},{name:"ArrayNode",test:dI},{name:"AssignmentNode",test:gI},{name:"BlockNode",test:mI},{name:"ConditionalNode",test:yI},{name:"ConstantNode",test:_I},{name:"FunctionNode",test:DI},{name:"FunctionAssignmentNode",test:wI},{name:"IndexNode",test:SI},{name:"Node",test:CI},{name:"ObjectNode",test:bI},{name:"OperatorNode",test:AI},{name:"ParenthesisNode",test:MI},{name:"RangeNode",test:EI},{name:"RelationalNode",test:xI},{name:"SymbolNode",test:TI},{name:"Map",test:sB},{name:"Object",test:p1}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(e||Yl(u),zI(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new e(u)}},{from:"number",to:"Complex",convert:function(u){return n||Qo(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||Qo(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||Qo(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||Zl(u);var l=new a(u);if(l.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(u){var l=Number(u);if(isNaN(l))throw new Error('Cannot convert "'+u+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(u){e||Yl(u);try{return new e(u)}catch{throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||Zl(u);try{return new a(u)}catch{throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||Qo(u);try{return new n(u)}catch{throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return e||Yl(u),new e(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||Zl(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||fB(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(s,u,l)=>{var h=o.createError(s,u,l);if(["wrongType","mismatch"].includes(h.data.category)&&u.length===1&&Rs(u[0])&&l.some(c=>!c.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=h.data,f}throw h},o.onMismatch=(s,u,l)=>{var h=o.createError(s,u,l);if(["wrongType","mismatch"].includes(h.data.category)&&u.length===1&&Rs(u[0])&&l.some(c=>!c.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=h.data,f}throw h},o});function Yl(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Qo(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function fB(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Zl(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Si=9e15,an=1e9,rh="0123456789abcdef",Vs="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$s="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",nh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Si,maxE:Si,crypto:!1},x1,Lr,ut=!0,wu="[DecimalError] ",nn=wu+"Invalid argument: ",T1=wu+"Precision limit exceeded",F1=wu+"crypto unavailable",I1="[object Decimal]",he=Math.floor,Kt=Math.pow,hB=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,cB=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,vB=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,B1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr=1e7,tt=7,pB=9007199254740991,dB=Vs.length-1,ih=$s.length-1,V={toStringTag:I1};V.absoluteValue=V.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),J(r)};V.ceil=function(){return J(new this.constructor(this),this.e+1,2)};V.clampedTo=V.clamp=function(r,t){var e,n=this,i=n.constructor;if(r=new i(r),t=new i(t),!r.s||!t.s)return new i(NaN);if(r.gt(t))throw Error(nn+t);return e=n.cmp(r),e<0?r:n.cmp(t)>0?t:new i(n)};V.comparedTo=V.cmp=function(r){var t,e,n,i,a=this,o=a.d,s=(r=new a.constructor(r)).d,u=a.s,l=r.s;if(!o||!s)return!u||!l?NaN:u!==l?u:o===s?0:!o^u<0?1:-1;if(!o[0]||!s[0])return o[0]?u:s[0]?-l:0;if(u!==l)return u;if(a.e!==r.e)return a.e>r.e^u<0?1:-1;for(n=o.length,i=s.length,t=0,e=n<i?n:i;t<e;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};V.cosine=V.cos=function(){var r,t,e=this,n=e.constructor;return e.d?e.d[0]?(r=n.precision,t=n.rounding,n.precision=r+Math.max(e.e,e.sd())+tt,n.rounding=1,e=gB(n,O1(n,e)),n.precision=r,n.rounding=t,J(Lr==2||Lr==3?e.neg():e,r,t,!0)):new n(1):new n(NaN)};V.cubeRoot=V.cbrt=function(){var r,t,e,n,i,a,o,s,u,l,h=this,f=h.constructor;if(!h.isFinite()||h.isZero())return new f(h);for(ut=!1,a=h.s*Kt(h.s*h,1/3),!a||Math.abs(a)==1/0?(e=ne(h.d),r=h.e,(a=(r-e.length+1)%3)&&(e+=a==1||a==-2?"0":"00"),a=Kt(e,1/3),r=he((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new f(e),n.s=h.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(s=n,u=s.times(s).times(s),l=u.plus(h),n=Bt(l.plus(h).times(s),l.plus(u),o+2,1),ne(s.d).slice(0,o)===(e=ne(n.d)).slice(0,o))if(e=e.slice(o-3,o+1),e=="9999"||!i&&e=="4999"){if(!i&&(J(s,r+1,0),s.times(s).times(s).eq(h))){n=s;break}o+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(J(n,r+1,1),t=!n.times(n).times(n).eq(h));break}return ut=!0,J(n,r,f.rounding,t)};V.decimalPlaces=V.dp=function(){var r,t=this.d,e=NaN;if(t){if(r=t.length-1,e=(r-he(this.e/tt))*tt,r=t[r],r)for(;r%10==0;r/=10)e--;e<0&&(e=0)}return e};V.dividedBy=V.div=function(r){return Bt(this,new this.constructor(r))};V.dividedToIntegerBy=V.divToInt=function(r){var t=this,e=t.constructor;return J(Bt(t,new e(r),0,1,1),e.precision,e.rounding)};V.equals=V.eq=function(r){return this.cmp(r)===0};V.floor=function(){return J(new this.constructor(this),this.e+1,3)};V.greaterThan=V.gt=function(r){return this.cmp(r)>0};V.greaterThanOrEqualTo=V.gte=function(r){var t=this.cmp(r);return t==1||t===0};V.hyperbolicCosine=V.cosh=function(){var r,t,e,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;e=o.precision,n=o.rounding,o.precision=e+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),t=(1/Su(4,r)).toString()):(r=16,t="2.3283064365386962890625e-10"),a=Vi(o,1,a.times(t),new o(1),!0);for(var u,l=r,h=new o(8);l--;)u=a.times(a),a=s.minus(u.times(h.minus(u.times(h))));return J(a,o.precision=e,o.rounding=n,!0)};V.hyperbolicSine=V.sinh=function(){var r,t,e,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,e=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Vi(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/Su(5,r)),i=Vi(a,2,i,i,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);r--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=e,J(i,t,e,!0)};V.hyperbolicTangent=V.tanh=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+7,n.rounding=1,Bt(e.sinh(),e.cosh(),n.precision=r,n.rounding=t)):new n(e.s)};V.inverseCosine=V.acos=function(){var r,t=this,e=t.constructor,n=t.abs().cmp(1),i=e.precision,a=e.rounding;return n!==-1?n===0?t.isNeg()?fr(e,i,a):new e(0):new e(NaN):t.isZero()?fr(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),r=fr(e,i+4,a).times(.5),e.precision=i,e.rounding=a,r.minus(t))};V.inverseHyperbolicCosine=V.acosh=function(){var r,t,e=this,n=e.constructor;return e.lte(1)?new n(e.eq(1)?0:NaN):e.isFinite()?(r=n.precision,t=n.rounding,n.precision=r+Math.max(Math.abs(e.e),e.sd())+4,n.rounding=1,ut=!1,e=e.times(e).minus(1).sqrt().plus(e),ut=!0,n.precision=r,n.rounding=t,e.ln()):new n(e)};V.inverseHyperbolicSine=V.asinh=function(){var r,t,e=this,n=e.constructor;return!e.isFinite()||e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+2*Math.max(Math.abs(e.e),e.sd())+6,n.rounding=1,ut=!1,e=e.times(e).plus(1).sqrt().plus(e),ut=!0,n.precision=r,n.rounding=t,e.ln())};V.inverseHyperbolicTangent=V.atanh=function(){var r,t,e,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,t=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?J(new a(i),r,t,!0):(a.precision=e=n-i.e,i=Bt(i.plus(1),new a(1).minus(i),e+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=t,i.times(.5))):new a(NaN)};V.inverseSine=V.asin=function(){var r,t,e,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),e=a.precision,n=a.rounding,t!==-1?t===0?(r=fr(a,e+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=e+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=e,a.rounding=n,i.times(2)))};V.inverseTangent=V.atan=function(){var r,t,e,n,i,a,o,s,u,l=this,h=l.constructor,f=h.precision,c=h.rounding;if(l.isFinite()){if(l.isZero())return new h(l);if(l.abs().eq(1)&&f+4<=ih)return o=fr(h,f+4,c).times(.25),o.s=l.s,o}else{if(!l.s)return new h(NaN);if(f+4<=ih)return o=fr(h,f+4,c).times(.5),o.s=l.s,o}for(h.precision=s=f+10,h.rounding=1,e=Math.min(28,s/tt+2|0),r=e;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ut=!1,t=Math.ceil(s/tt),n=1,u=l.times(l),o=new h(l),i=l;r!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[t]!==void 0)for(r=t;o.d[r]===a.d[r]&&r--;);return e&&(o=o.times(2<<e-1)),ut=!0,J(o,h.precision=f,h.rounding=c,!0)};V.isFinite=function(){return!!this.d};V.isInteger=V.isInt=function(){return!!this.d&&he(this.e/tt)>this.d.length-2};V.isNaN=function(){return!this.s};V.isNegative=V.isNeg=function(){return this.s<0};V.isPositive=V.isPos=function(){return this.s>0};V.isZero=function(){return!!this.d&&this.d[0]===0};V.lessThan=V.lt=function(r){return this.cmp(r)<0};V.lessThanOrEqualTo=V.lte=function(r){return this.cmp(r)<1};V.logarithm=V.log=function(r){var t,e,n,i,a,o,s,u,l=this,h=l.constructor,f=h.precision,c=h.rounding,v=5;if(r==null)r=new h(10),t=!0;else{if(r=new h(r),e=r.d,r.s<0||!e||!e[0]||r.eq(1))return new h(NaN);t=r.eq(10)}if(e=l.d,l.s<0||!e||!e[0]||l.eq(1))return new h(e&&!e[0]?-1/0:l.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)a=!0;else{for(i=e[0];i%10===0;)i/=10;a=i!==1}if(ut=!1,s=f+v,o=Kr(l,s),n=t?Gs(h,s+10):Kr(r,s),u=Bt(o,n,s,1),eo(u.d,i=f,c))do if(s+=10,o=Kr(l,s),n=t?Gs(h,s+10):Kr(r,s),u=Bt(o,n,s,1),!a){+ne(u.d).slice(i+1,i+15)+1==1e14&&(u=J(u,f+1,0));break}while(eo(u.d,i+=10,c));return ut=!0,J(u,f,c)};V.minus=V.sub=function(r){var t,e,n,i,a,o,s,u,l,h,f,c,v=this,d=v.constructor;if(r=new d(r),!v.d||!r.d)return!v.s||!r.s?r=new d(NaN):v.d?r.s=-r.s:r=new d(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(l=v.d,c=r.d,s=d.precision,u=d.rounding,!l[0]||!c[0]){if(c[0])r.s=-r.s;else if(l[0])r=new d(v);else return new d(u===3?-0:0);return ut?J(r,s,u):r}if(e=he(r.e/tt),h=he(v.e/tt),l=l.slice(),a=h-e,a){for(f=a<0,f?(t=l,a=-a,o=c.length):(t=c,e=h,o=l.length),n=Math.max(Math.ceil(s/tt),o)+2,a>n&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=c.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(l[n]!=c[n]){f=l[n]<c[n];break}a=0}for(f&&(t=l,l=c,c=t,r.s=-r.s),o=l.length,n=c.length-o;n>0;--n)l[o++]=0;for(n=c.length;n>a;){if(l[--n]<c[n]){for(i=n;i&&l[--i]===0;)l[i]=hr-1;--l[i],l[n]+=hr}l[n]-=c[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--e;return l[0]?(r.d=l,r.e=Du(l,e),ut?J(r,s,u):r):new d(u===3?-0:0)};V.modulo=V.mod=function(r){var t,e=this,n=e.constructor;return r=new n(r),!e.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||e.d&&!e.d[0]?J(new n(e),n.precision,n.rounding):(ut=!1,n.modulo==9?(t=Bt(e,r.abs(),0,3,1),t.s*=r.s):t=Bt(e,r,0,n.modulo,1),t=t.times(r),ut=!0,e.minus(t))};V.naturalExponential=V.exp=function(){return ah(this)};V.naturalLogarithm=V.ln=function(){return Kr(this)};V.negated=V.neg=function(){var r=new this.constructor(this);return r.s=-r.s,J(r)};V.plus=V.add=function(r){var t,e,n,i,a,o,s,u,l,h,f=this,c=f.constructor;if(r=new c(r),!f.d||!r.d)return!f.s||!r.s?r=new c(NaN):f.d||(r=new c(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(l=f.d,h=r.d,s=c.precision,u=c.rounding,!l[0]||!h[0])return h[0]||(r=new c(f)),ut?J(r,s,u):r;if(a=he(f.e/tt),n=he(r.e/tt),l=l.slice(),i=a-n,i){for(i<0?(e=l,i=-i,o=h.length):(e=h,n=a,o=l.length),a=Math.ceil(s/tt),o=a>o?a+1:o+1,i>o&&(i=o,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for(o=l.length,i=h.length,o-i<0&&(i=o,e=h,h=l,l=e),t=0;i;)t=(l[--i]=l[i]+h[i]+t)/hr|0,l[i]%=hr;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return r.d=l,r.e=Du(l,n),ut?J(r,s,u):r};V.precision=V.sd=function(r){var t,e=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(nn+r);return e.d?(t=L1(e.d),r&&e.e+1>t&&(t=e.e+1)):t=NaN,t};V.round=function(){var r=this,t=r.constructor;return J(new t(r),r.e+1,t.rounding)};V.sine=V.sin=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+Math.max(e.e,e.sd())+tt,n.rounding=1,e=yB(n,O1(n,e)),n.precision=r,n.rounding=t,J(Lr>2?e.neg():e,r,t,!0)):new n(NaN)};V.squareRoot=V.sqrt=function(){var r,t,e,n,i,a,o=this,s=o.d,u=o.e,l=o.s,h=o.constructor;if(l!==1||!s||!s[0])return new h(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);for(ut=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=ne(s),(t.length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=he((u+1)/2)-(u<0||u%2),l==1/0?t="5e"+u:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),n=new h(t)):n=new h(l.toString()),e=(u=h.precision)+3;;)if(a=n,n=a.plus(Bt(o,a,e+2,1)).times(.5),ne(a.d).slice(0,e)===(t=ne(n.d)).slice(0,e))if(t=t.slice(e-3,e+1),t=="9999"||!i&&t=="4999"){if(!i&&(J(a,u+1,0),a.times(a).eq(o))){n=a;break}e+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(J(n,u+1,1),r=!n.times(n).eq(o));break}return ut=!0,J(n,u,h.rounding,r)};V.tangent=V.tan=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+10,n.rounding=1,e=e.sin(),e.s=1,e=Bt(e,new n(1).minus(e.times(e)).sqrt(),r+10,0),n.precision=r,n.rounding=t,J(Lr==2||Lr==4?e.neg():e,r,t,!0)):new n(NaN)};V.times=V.mul=function(r){var t,e,n,i,a,o,s,u,l,h=this,f=h.constructor,c=h.d,v=(r=new f(r)).d;if(r.s*=h.s,!c||!c[0]||!v||!v[0])return new f(!r.s||c&&!c[0]&&!v||v&&!v[0]&&!c?NaN:!c||!v?r.s/0:r.s*0);for(e=he(h.e/tt)+he(r.e/tt),u=c.length,l=v.length,u<l&&(a=c,c=v,v=a,o=u,u=l,l=o),a=[],o=u+l,n=o;n--;)a.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)s=a[i]+v[n]*c[i-n-1]+t,a[i--]=s%hr|0,t=s/hr|0;a[i]=(a[i]+t)%hr|0}for(;!a[--o];)a.pop();return t?++e:a.shift(),r.d=a,r.e=Du(a,e),ut?J(r,f.precision,f.rounding):r};V.toBinary=function(r,t){return cc(this,2,r,t)};V.toDecimalPlaces=V.toDP=function(r,t){var e=this,n=e.constructor;return e=new n(e),r===void 0?e:(Ie(r,0,an),t===void 0?t=n.rounding:Ie(t,0,8),J(e,r+e.e+1,t))};V.toExponential=function(r,t){var e,n=this,i=n.constructor;return r===void 0?e=Dr(n,!0):(Ie(r,0,an),t===void 0?t=i.rounding:Ie(t,0,8),n=J(new i(n),r+1,t),e=Dr(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+e:e};V.toFixed=function(r,t){var e,n,i=this,a=i.constructor;return r===void 0?e=Dr(i):(Ie(r,0,an),t===void 0?t=a.rounding:Ie(t,0,8),n=J(new a(i),r+i.e+1,t),e=Dr(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e};V.toFraction=function(r){var t,e,n,i,a,o,s,u,l,h,f,c,v=this,d=v.d,p=v.constructor;if(!d)return new p(v);if(l=e=new p(1),n=u=new p(0),t=new p(n),a=t.e=L1(d)-v.e-1,o=a%tt,t.d[0]=Kt(10,o<0?tt+o:o),r==null)r=a>0?t:l;else{if(s=new p(r),!s.isInt()||s.lt(l))throw Error(nn+s);r=s.gt(t)?a>0?t:l:s}for(ut=!1,s=new p(ne(d)),h=p.precision,p.precision=a=d.length*tt*2;f=Bt(s,t,0,1,1),i=e.plus(f.times(n)),i.cmp(r)!=1;)e=n,n=i,i=l,l=u.plus(f.times(i)),u=i,i=t,t=s.minus(f.times(i)),s=i;return i=Bt(r.minus(e),n,0,1,1),u=u.plus(i.times(l)),e=e.plus(i.times(n)),u.s=l.s=v.s,c=Bt(l,n,a,1).minus(v).abs().cmp(Bt(u,e,a,1).minus(v).abs())<1?[l,n]:[u,e],p.precision=h,ut=!0,c};V.toHexadecimal=V.toHex=function(r,t){return cc(this,16,r,t)};V.toNearest=function(r,t){var e=this,n=e.constructor;if(e=new n(e),r==null){if(!e.d)return e;r=new n(1),t=n.rounding}else{if(r=new n(r),t===void 0?t=n.rounding:Ie(t,0,8),!e.d)return r.s?e:r;if(!r.d)return r.s&&(r.s=e.s),r}return r.d[0]?(ut=!1,e=Bt(e,r,0,t,1).times(r),ut=!0,J(e)):(r.s=e.s,e=r),e};V.toNumber=function(){return+this};V.toOctal=function(r,t){return cc(this,8,r,t)};V.toPower=V.pow=function(r){var t,e,n,i,a,o,s=this,u=s.constructor,l=+(r=new u(r));if(!s.d||!r.d||!s.d[0]||!r.d[0])return new u(Kt(+s,l));if(s=new u(s),s.eq(1))return s;if(n=u.precision,a=u.rounding,r.eq(1))return J(s,n,a);if(t=he(r.e/tt),t>=r.d.length-1&&(e=l<0?-l:l)<=pB)return i=P1(u,s,e,n),r.s<0?new u(1).div(i):J(i,n,a);if(o=s.s,o<0){if(t<r.d.length-1)return new u(NaN);if(r.d[t]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return e=Kt(+s,l),t=e==0||!isFinite(e)?he(l*(Math.log("0."+ne(s.d))/Math.LN10+s.e+1)):new u(e+"").e,t>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(ut=!1,u.rounding=s.s=1,e=Math.min(12,(t+"").length),i=ah(r.times(Kr(s,n+e)),n),i.d&&(i=J(i,n+5,1),eo(i.d,n,a)&&(t=n+10,i=J(ah(r.times(Kr(s,t+e)),t),t+5,1),+ne(i.d).slice(n+1,n+15)+1==1e14&&(i=J(i,n+1,0)))),i.s=o,ut=!0,u.rounding=a,J(i,n,a))};V.toPrecision=function(r,t){var e,n=this,i=n.constructor;return r===void 0?e=Dr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Ie(r,1,an),t===void 0?t=i.rounding:Ie(t,0,8),n=J(new i(n),r,t),e=Dr(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+e:e};V.toSignificantDigits=V.toSD=function(r,t){var e=this,n=e.constructor;return r===void 0?(r=n.precision,t=n.rounding):(Ie(r,1,an),t===void 0?t=n.rounding:Ie(t,0,8)),J(new n(e),r,t)};V.toString=function(){var r=this,t=r.constructor,e=Dr(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()&&!r.isZero()?"-"+e:e};V.truncated=V.trunc=function(){return J(new this.constructor(this),this.e+1,1)};V.valueOf=V.toJSON=function(){var r=this,t=r.constructor,e=Dr(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()?"-"+e:e};function ne(r){var t,e,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,t=1;t<i;t++)n=r[t]+"",e=tt-n.length,e&&(a+=Zr(e)),a+=n;o=r[t],n=o+"",e=tt-n.length,e&&(a+=Zr(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Ie(r,t,e){if(r!==~~r||r<t||r>e)throw Error(nn+r)}function eo(r,t,e,n){var i,a,o,s;for(a=r[0];a>=10;a/=10)--t;return--t<0?(t+=tt,i=0):(i=Math.ceil((t+1)/tt),t%=tt),a=Kt(10,tt-t),s=r[i]%a|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=e<4&&s==99999||e>3&&s==49999||s==5e4||s==0):o=(e<4&&s+1==a||e>3&&s+1==a/2)&&(r[i+1]/a/100|0)==Kt(10,t-2)-1||(s==a/2||s==0)&&(r[i+1]/a/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||e<4)&&s==9999||!n&&e>3&&s==4999):o=((n||e<4)&&s+1==a||!n&&e>3&&s+1==a/2)&&(r[i+1]/a/1e3|0)==Kt(10,t-3)-1,o}function ms(r,t,e){for(var n,i=[0],a,o=0,s=r.length;o<s;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=rh.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>e-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/e|0,i[n]%=e)}return i.reverse()}function gB(r,t){var e,n,i;if(t.isZero())return t;n=t.d.length,n<32?(e=Math.ceil(n/3),i=(1/Su(4,e)).toString()):(e=16,i="2.3283064365386962890625e-10"),r.precision+=e,t=Vi(r,1,t.times(i),new r(1));for(var a=e;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return r.precision-=e,t}var Bt=function(){function r(n,i,a){var o,s=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+s,n[u]=o%a|0,s=o/a|0;return s&&n.unshift(s),n}function t(n,i,a,o){var s,u;if(a!=o)u=a>o?1:-1;else for(s=u=0;s<a;s++)if(n[s]!=i[s]){u=n[s]>i[s]?1:-1;break}return u}function e(n,i,a,o){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,s,u){var l,h,f,c,v,d,p,m,g,y,_,w,S,D,b,M,E,C,A,x,F=n.constructor,L=n.s==i.s?1:-1,N=n.d,B=i.d;if(!N||!N[0]||!B||!B[0])return new F(!n.s||!i.s||(N?B&&N[0]==B[0]:!B)?NaN:N&&N[0]==0||!B?L*0:L/0);for(u?(v=1,h=n.e-i.e):(u=hr,v=tt,h=he(n.e/v)-he(i.e/v)),A=B.length,E=N.length,g=new F(L),y=g.d=[],f=0;B[f]==(N[f]||0);f++);if(B[f]>(N[f]||0)&&h--,a==null?(D=a=F.precision,o=F.rounding):s?D=a+(n.e-i.e)+1:D=a,D<0)y.push(1),d=!0;else{if(D=D/v+2|0,f=0,A==1){for(c=0,B=B[0],D++;(f<E||c)&&D--;f++)b=c*u+(N[f]||0),y[f]=b/B|0,c=b%B|0;d=c||f<E}else{for(c=u/(B[0]+1)|0,c>1&&(B=r(B,c,u),N=r(N,c,u),A=B.length,E=N.length),M=A,_=N.slice(0,A),w=_.length;w<A;)_[w++]=0;x=B.slice(),x.unshift(0),C=B[0],B[1]>=u/2&&++C;do c=0,l=t(B,_,A,w),l<0?(S=_[0],A!=w&&(S=S*u+(_[1]||0)),c=S/C|0,c>1?(c>=u&&(c=u-1),p=r(B,c,u),m=p.length,w=_.length,l=t(p,_,m,w),l==1&&(c--,e(p,A<m?x:B,m,u))):(c==0&&(l=c=1),p=B.slice()),m=p.length,m<w&&p.unshift(0),e(_,p,w,u),l==-1&&(w=_.length,l=t(B,_,A,w),l<1&&(c++,e(_,A<w?x:B,w,u))),w=_.length):l===0&&(c++,_=[0]),y[f++]=c,l&&_[0]?_[w++]=N[M]||0:(_=[N[M]],w=1);while((M++<E||_[0]!==void 0)&&D--);d=_[0]!==void 0}y[0]||y.shift()}if(v==1)g.e=h,x1=d;else{for(f=1,c=y[0];c>=10;c/=10)f++;g.e=f+h*v-1,J(g,s?a+g.e+1:a,o,d)}return g}}();function J(r,t,e,n){var i,a,o,s,u,l,h,f,c,v=r.constructor;t:if(t!=null){if(f=r.d,!f)return r;for(i=1,s=f[0];s>=10;s/=10)i++;if(a=t-i,a<0)a+=tt,o=t,h=f[c=0],u=h/Kt(10,i-o-1)%10|0;else if(c=Math.ceil((a+1)/tt),s=f.length,c>=s)if(n){for(;s++<=c;)f.push(0);h=u=0,i=1,a%=tt,o=a-tt+1}else break t;else{for(h=s=f[c],i=1;s>=10;s/=10)i++;a%=tt,o=a-tt+i,u=o<0?0:h/Kt(10,i-o-1)%10|0}if(n=n||t<0||f[c+1]!==void 0||(o<0?h:h%Kt(10,i-o-1)),l=e<4?(u||n)&&(e==0||e==(r.s<0?3:2)):u>5||u==5&&(e==4||n||e==6&&(a>0?o>0?h/Kt(10,i-o):0:f[c-1])%10&1||e==(r.s<0?8:7)),t<1||!f[0])return f.length=0,l?(t-=r.e+1,f[0]=Kt(10,(tt-t%tt)%tt),r.e=-t||0):f[0]=r.e=0,r;if(a==0?(f.length=c,s=1,c--):(f.length=c+1,s=Kt(10,tt-a),f[c]=o>0?(h/Kt(10,i-o)%Kt(10,o)|0)*s:0),l)for(;;)if(c==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(r.e++,f[0]==hr&&(f[0]=1));break}else{if(f[c]+=s,f[c]!=hr)break;f[c--]=0,s=1}for(a=f.length;f[--a]===0;)f.pop()}return ut&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function Dr(r,t,e){if(!r.isFinite())return R1(r);var n,i=r.e,a=ne(r.d),o=a.length;return t?(e&&(n=e-o)>0?a=a.charAt(0)+"."+a.slice(1)+Zr(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+Zr(-i-1)+a,e&&(n=e-o)>0&&(a+=Zr(n))):i>=o?(a+=Zr(i+1-o),e&&(n=e-i-1)>0&&(a=a+"."+Zr(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),e&&(n=e-o)>0&&(i+1===o&&(a+="."),a+=Zr(n))),a}function Du(r,t){var e=r[0];for(t*=tt;e>=10;e/=10)t++;return t}function Gs(r,t,e){if(t>dB)throw ut=!0,e&&(r.precision=e),Error(T1);return J(new r(Vs),t,1,!0)}function fr(r,t,e){if(t>ih)throw Error(T1);return J(new r($s),t,e,!0)}function L1(r){var t=r.length-1,e=t*tt+1;if(t=r[t],t){for(;t%10==0;t/=10)e--;for(t=r[0];t>=10;t/=10)e++}return e}function Zr(r){for(var t="";r--;)t+="0";return t}function P1(r,t,e,n){var i,a=new r(1),o=Math.ceil(n/tt+4);for(ut=!1;;){if(e%2&&(a=a.times(t),r0(a.d,o)&&(i=!0)),e=he(e/2),e===0){e=a.d.length-1,i&&a.d[e]===0&&++a.d[e];break}t=t.times(t),r0(t.d,o)}return ut=!0,a}function e0(r){return r.d[r.d.length-1]&1}function N1(r,t,e){for(var n,i=new r(t[0]),a=0;++a<t.length;)if(n=new r(t[a]),n.s)i[e](n)&&(i=n);else{i=n;break}return i}function ah(r,t){var e,n,i,a,o,s,u,l=0,h=0,f=0,c=r.constructor,v=c.rounding,d=c.precision;if(!r.d||!r.d[0]||r.e>17)return new c(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(t==null?(ut=!1,u=d):u=t,s=new c(.03125);r.e>-2;)r=r.times(s),f+=5;for(n=Math.log(Kt(2,f))/Math.LN10*2+5|0,u+=n,e=a=o=new c(1),c.precision=u;;){if(a=J(a.times(r),u,1),e=e.times(++h),s=o.plus(Bt(a,e,u,1)),ne(s.d).slice(0,u)===ne(o.d).slice(0,u)){for(i=f;i--;)o=J(o.times(o),u,1);if(t==null)if(l<3&&eo(o.d,u-n,v,l))c.precision=u+=10,e=a=s=new c(1),h=0,l++;else return J(o,c.precision=d,v,ut=!0);else return c.precision=d,o}o=s}}function Kr(r,t){var e,n,i,a,o,s,u,l,h,f,c,v=1,d=10,p=r,m=p.d,g=p.constructor,y=g.rounding,_=g.precision;if(p.s<0||!m||!m[0]||!p.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:p.s!=1?NaN:m?0:p);if(t==null?(ut=!1,h=_):h=t,g.precision=h+=d,e=ne(m),n=e.charAt(0),Math.abs(a=p.e)<15e14){for(;n<7&&n!=1||n==1&&e.charAt(1)>3;)p=p.times(r),e=ne(p.d),n=e.charAt(0),v++;a=p.e,n>1?(p=new g("0."+e),a++):p=new g(n+"."+e.slice(1))}else return l=Gs(g,h+2,_).times(a+""),p=Kr(new g(n+"."+e.slice(1)),h-d).plus(l),g.precision=_,t==null?J(p,_,y,ut=!0):p;for(f=p,u=o=p=Bt(p.minus(1),p.plus(1),h,1),c=J(p.times(p),h,1),i=3;;){if(o=J(o.times(c),h,1),l=u.plus(Bt(o,new g(i),h,1)),ne(l.d).slice(0,h)===ne(u.d).slice(0,h))if(u=u.times(2),a!==0&&(u=u.plus(Gs(g,h+2,_).times(a+""))),u=Bt(u,new g(v),h,1),t==null)if(eo(u.d,h-d,y,s))g.precision=h+=d,l=o=p=Bt(f.minus(1),f.plus(1),h,1),c=J(p.times(p),h,1),i=s=1;else return J(u,g.precision=_,y,ut=!0);else return g.precision=_,u;u=l,i+=2}}function R1(r){return String(r.s*r.s/0)}function oh(r,t){var e,n,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(e<0&&(e=n),e+=+t.slice(n+1),t=t.substring(0,n)):e<0&&(e=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,r.e=e=e-n-1,r.d=[],n=(e+1)%tt,e<0&&(n+=tt),n<i){for(n&&r.d.push(+t.slice(0,n)),i-=tt;n<i;)r.d.push(+t.slice(n,n+=tt));t=t.slice(n),n=tt-t.length}else n-=i;for(;n--;)t+="0";r.d.push(+t),ut&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function mB(r,t){var e,n,i,a,o,s,u,l,h;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),B1.test(t))return oh(r,t)}else if(t==="Infinity"||t==="NaN")return+t||(r.s=NaN),r.e=NaN,r.d=null,r;if(cB.test(t))e=16,t=t.toLowerCase();else if(hB.test(t))e=2;else if(vB.test(t))e=8;else throw Error(nn+t);for(a=t.search(/p/i),a>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,n=r.constructor,o&&(t=t.replace(".",""),s=t.length,a=s-a,i=P1(n,new n(e),a,a*2)),l=ms(t,e,hr),h=l.length-1,a=h;l[a]===0;--a)l.pop();return a<0?new n(r.s*0):(r.e=Du(l,h),r.d=l,ut=!1,o&&(r=Bt(r,i,s*4)),u&&(r=r.times(Math.abs(u)<54?Kt(2,u):$i.pow(2,u))),ut=!0,r)}function yB(r,t){var e,n=t.d.length;if(n<3)return t.isZero()?t:Vi(r,2,t,t);e=1.4*Math.sqrt(n),e=e>16?16:e|0,t=t.times(1/Su(5,e)),t=Vi(r,2,t,t);for(var i,a=new r(5),o=new r(16),s=new r(20);e--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}function Vi(r,t,e,n,i){var a,o,s,u,l=r.precision,h=Math.ceil(l/tt);for(ut=!1,u=e.times(e),s=new r(n);;){if(o=Bt(s.times(u),new r(t++*t++),l,1),s=i?n.plus(o):n.minus(o),n=Bt(o.times(u),new r(t++*t++),l,1),o=s.plus(n),o.d[h]!==void 0){for(a=h;o.d[a]===s.d[a]&&a--;);if(a==-1)break}a=s,s=n,n=o,o=a}return ut=!0,o.d.length=h+1,o}function Su(r,t){for(var e=r;--t;)e*=r;return e}function O1(r,t){var e,n=t.s<0,i=fr(r,r.precision,1),a=i.times(.5);if(t=t.abs(),t.lte(a))return Lr=n?4:1,t;if(e=t.divToInt(i),e.isZero())Lr=n?3:2;else{if(t=t.minus(e.times(i)),t.lte(a))return Lr=e0(e)?n?2:3:n?4:1,t;Lr=e0(e)?n?1:4:n?3:2}return t.minus(i).abs()}function cc(r,t,e,n){var i,a,o,s,u,l,h,f,c,v=r.constructor,d=e!==void 0;if(d?(Ie(e,1,an),n===void 0?n=v.rounding:Ie(n,0,8)):(e=v.precision,n=v.rounding),!r.isFinite())h=R1(r);else{for(h=Dr(r),o=h.indexOf("."),d?(i=2,t==16?e=e*4-3:t==8&&(e=e*3-2)):i=t,o>=0&&(h=h.replace(".",""),c=new v(1),c.e=h.length-o,c.d=ms(Dr(c),10,i),c.e=c.d.length),f=ms(h,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])h=d?"0p+0":"0";else{if(o<0?a--:(r=new v(r),r.d=f,r.e=a,r=Bt(r,c,e,n,0,i),f=r.d,a=r.e,l=x1),o=f[e],s=i/2,l=l||f[e+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(r.s<0?3:2)):o>s||o===s&&(n===4||l||n===6&&f[e-1]&1||n===(r.s<0?8:7)),f.length=e,l)for(;++f[--e]>i-1;)f[e]=0,e||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,h="";o<u;o++)h+=rh.charAt(f[o]);if(d){if(u>1)if(t==16||t==8){for(o=t==16?4:3,--u;u%o;u++)h+="0";for(f=ms(h,i,t),u=f.length;!f[u-1];--u);for(o=1,h="1.";o<u;o++)h+=rh.charAt(f[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>u)for(a-=u;a--;)h+="0";else a<u&&(h=h.slice(0,a)+"."+h.slice(a))}h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}return r.s<0?"-"+h:h}function r0(r,t){if(r.length>t)return r.length=t,!0}function _B(r){return new this(r).abs()}function wB(r){return new this(r).acos()}function DB(r){return new this(r).acosh()}function SB(r,t){return new this(r).plus(t)}function CB(r){return new this(r).asin()}function bB(r){return new this(r).asinh()}function AB(r){return new this(r).atan()}function MB(r){return new this(r).atanh()}function EB(r,t){r=new this(r),t=new this(t);var e,n=this.precision,i=this.rounding,a=n+4;return!r.s||!t.s?e=new this(NaN):!r.d&&!t.d?(e=fr(this,a,1).times(t.s>0?.25:.75),e.s=r.s):!t.d||r.isZero()?(e=t.s<0?fr(this,n,i):new this(0),e.s=r.s):!r.d||t.isZero()?(e=fr(this,a,1).times(.5),e.s=r.s):t.s<0?(this.precision=a,this.rounding=1,e=this.atan(Bt(r,t,a,1)),t=fr(this,a,1),this.precision=n,this.rounding=i,e=r.s<0?e.minus(t):e.plus(t)):e=this.atan(Bt(r,t,a,1)),e}function xB(r){return new this(r).cbrt()}function TB(r){return J(r=new this(r),r.e+1,2)}function FB(r,t,e){return new this(r).clamp(t,e)}function IB(r){if(!r||typeof r!="object")throw Error(wu+"Object expected");var t,e,n,i=r.defaults===!0,a=["precision",1,an,"rounding",0,8,"toExpNeg",-Si,0,"toExpPos",0,Si,"maxE",0,Si,"minE",-Si,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(e=a[t],i&&(this[e]=nh[e]),(n=r[e])!==void 0)if(he(n)===n&&n>=a[t+1]&&n<=a[t+2])this[e]=n;else throw Error(nn+e+": "+n);if(e="crypto",i&&(this[e]=nh[e]),(n=r[e])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(F1);else this[e]=!1;else throw Error(nn+e+": "+n);return this}function BB(r){return new this(r).cos()}function LB(r){return new this(r).cosh()}function k1(r){var t,e,n;function i(a){var o,s,u,l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,n0(a)){l.s=a.s,ut?!a.d||a.e>i.maxE?(l.e=NaN,l.d=null):a.e<i.minE?(l.e=0,l.d=[0]):(l.e=a.e,l.d=a.d.slice()):(l.e=a.e,l.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){l.s=1/a<0?-1:1,l.e=0,l.d=[0];return}if(a<0?(a=-a,l.s=-1):l.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;ut?o>i.maxE?(l.e=NaN,l.d=null):o<i.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[a]):(l.e=o,l.d=[a]);return}else if(a*0!==0){a||(l.s=NaN),l.e=NaN,l.d=null;return}return oh(l,a.toString())}else if(u!=="string")throw Error(nn+a);return(s=a.charCodeAt(0))===45?(a=a.slice(1),l.s=-1):(s===43&&(a=a.slice(1)),l.s=1),B1.test(a)?oh(l,a):mB(l,a)}if(i.prototype=V,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=IB,i.clone=k1,i.isDecimal=n0,i.abs=_B,i.acos=wB,i.acosh=DB,i.add=SB,i.asin=CB,i.asinh=bB,i.atan=AB,i.atanh=MB,i.atan2=EB,i.cbrt=xB,i.ceil=TB,i.clamp=FB,i.cos=BB,i.cosh=LB,i.div=PB,i.exp=NB,i.floor=RB,i.hypot=OB,i.ln=kB,i.log=zB,i.log10=$B,i.log2=VB,i.max=GB,i.min=UB,i.mod=WB,i.mul=qB,i.pow=YB,i.random=ZB,i.round=HB,i.sign=XB,i.sin=jB,i.sinh=KB,i.sqrt=QB,i.sub=JB,i.sum=t5,i.tan=e5,i.tanh=r5,i.trunc=n5,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)r.hasOwnProperty(e=n[t++])||(r[e]=this[e]);return i.config(r),i}function PB(r,t){return new this(r).div(t)}function NB(r){return new this(r).exp()}function RB(r){return J(r=new this(r),r.e+1,3)}function OB(){var r,t,e=new this(0);for(ut=!1,r=0;r<arguments.length;)if(t=new this(arguments[r++]),t.d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return ut=!0,new this(1/0);e=t}return ut=!0,e.sqrt()}function n0(r){return r instanceof $i||r&&r.toStringTag===I1||!1}function kB(r){return new this(r).ln()}function zB(r,t){return new this(r).log(t)}function VB(r){return new this(r).log(2)}function $B(r){return new this(r).log(10)}function GB(){return N1(this,arguments,"lt")}function UB(){return N1(this,arguments,"gt")}function WB(r,t){return new this(r).mod(t)}function qB(r,t){return new this(r).mul(t)}function YB(r,t){return new this(r).pow(t)}function ZB(r){var t,e,n,i,a=0,o=new this(1),s=[];if(r===void 0?r=this.precision:Ie(r,1,an),n=Math.ceil(r/tt),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)i=t[a],i>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(F1);else for(;a<n;)s[a++]=Math.random()*1e7|0;for(n=s[--a],r%=tt,n&&r&&(i=Kt(10,tt-r),s[a]=(n/i|0)*i);s[a]===0;a--)s.pop();if(a<0)e=0,s=[0];else{for(e=-1;s[0]===0;e-=tt)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<tt&&(e-=tt-n)}return o.e=e,o.d=s,o}function HB(r){return J(r=new this(r),r.e+1,this.rounding)}function XB(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function jB(r){return new this(r).sin()}function KB(r){return new this(r).sinh()}function QB(r){return new this(r).sqrt()}function JB(r,t){return new this(r).sub(t)}function t5(){var r=0,t=arguments,e=new this(t[r]);for(ut=!1;e.s&&++r<t.length;)e=e.plus(t[r]);return ut=!0,J(e,this.precision,this.rounding)}function e5(r){return new this(r).tan()}function r5(r){return new this(r).tanh()}function n5(r){return J(r=new this(r),r.e+1,1)}V[Symbol.for("nodejs.util.inspect.custom")]=V.toString;V[Symbol.toStringTag]="Decimal";var $i=V.constructor=k1(nh);Vs=new $i(Vs);$s=new $i($s);var i5="BigNumber",a5=["?on","config"],o5=ct(i5,a5,r=>{var{on:t,config:e}=r,n=$i.clone({precision:e.precision,modulo:$i.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});function z1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function V1(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}var $1={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,t){(function(e){var n=Math.cosh||function(f){return Math.abs(f)<1e-9?1-f:(Math.exp(f)+Math.exp(-f))*.5},i=Math.sinh||function(f){return Math.abs(f)<1e-9?f:(Math.exp(f)-Math.exp(-f))*.5},a=function(f){var c=Math.PI/4;if(-c>f||f>c)return Math.cos(f)-1;var v=f*f;return v*(v*(v*(v*(v*(v*(v*(v/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(f,c){var v=Math.abs(f),d=Math.abs(c);return v<3e3&&d<3e3?Math.sqrt(v*v+d*d):(v<d?(v=d,d=f/c):d=c/f,v*Math.sqrt(1+d*d))},s=function(){throw SyntaxError("Invalid Param")};function u(f,c){var v=Math.abs(f),d=Math.abs(c);return f===0?Math.log(d):c===0?Math.log(v):v<3e3&&d<3e3?Math.log(f*f+c*c)*.5:(f=f/2,c=c/2,.5*Math.log(f*f+c*c)+Math.LN2)}var l=function(f,c){var v={re:0,im:0};if(f==null)v.re=v.im=0;else if(c!==void 0)v.re=f,v.im=c;else switch(typeof f){case"object":if("im"in f&&"re"in f)v.re=f.re,v.im=f.im;else if("abs"in f&&"arg"in f){if(!Number.isFinite(f.abs)&&Number.isFinite(f.arg))return h.INFINITY;v.re=f.abs*Math.cos(f.arg),v.im=f.abs*Math.sin(f.arg)}else if("r"in f&&"phi"in f){if(!Number.isFinite(f.r)&&Number.isFinite(f.phi))return h.INFINITY;v.re=f.r*Math.cos(f.phi),v.im=f.r*Math.sin(f.phi)}else f.length===2?(v.re=f[0],v.im=f[1]):s();break;case"string":v.im=v.re=0;var d=f.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,m=0;d===null&&s();for(var g=0;g<d.length;g++){var y=d[g];y===" "||y==="	"||y===`
`||(y==="+"?p++:y==="-"?m++:y==="i"||y==="I"?(p+m===0&&s(),d[g+1]!==" "&&!isNaN(d[g+1])?(v.im+=parseFloat((m%2?"-":"")+d[g+1]),g++):v.im+=parseFloat((m%2?"-":"")+"1"),p=m=0):((p+m===0||isNaN(y))&&s(),d[g+1]==="i"||d[g+1]==="I"?(v.im+=parseFloat((m%2?"-":"")+y),g++):v.re+=parseFloat((m%2?"-":"")+y),p=m=0))}p+m>0&&s();break;case"number":v.im=0,v.re=f;break;default:s()}return isNaN(v.re)||isNaN(v.im),v};function h(f,c){if(!(this instanceof h))return new h(f,c);var v=l(f,c);this.re=v.re,this.im=v.im}h.prototype={re:0,im:0,sign:function(){var f=this.abs();return new h(this.re/f,this.im/f)},add:function(f,c){var v=new h(f,c);return this.isInfinite()&&v.isInfinite()?h.NAN:this.isInfinite()||v.isInfinite()?h.INFINITY:new h(this.re+v.re,this.im+v.im)},sub:function(f,c){var v=new h(f,c);return this.isInfinite()&&v.isInfinite()?h.NAN:this.isInfinite()||v.isInfinite()?h.INFINITY:new h(this.re-v.re,this.im-v.im)},mul:function(f,c){var v=new h(f,c);return this.isInfinite()&&v.isZero()||this.isZero()&&v.isInfinite()?h.NAN:this.isInfinite()||v.isInfinite()?h.INFINITY:v.im===0&&this.im===0?new h(this.re*v.re,0):new h(this.re*v.re-this.im*v.im,this.re*v.im+this.im*v.re)},div:function(f,c){var v=new h(f,c);if(this.isZero()&&v.isZero()||this.isInfinite()&&v.isInfinite())return h.NAN;if(this.isInfinite()||v.isZero())return h.INFINITY;if(this.isZero()||v.isInfinite())return h.ZERO;f=this.re,c=this.im;var d=v.re,p=v.im,m,g;return p===0?new h(f/d,c/d):Math.abs(d)<Math.abs(p)?(g=d/p,m=d*g+p,new h((f*g+c)/m,(c*g-f)/m)):(g=p/d,m=p*g+d,new h((f+c*g)/m,(c-f*g)/m))},pow:function(f,c){var v=new h(f,c);if(f=this.re,c=this.im,v.isZero())return h.ONE;if(v.im===0){if(c===0&&f>0)return new h(Math.pow(f,v.re),0);if(f===0)switch((v.re%4+4)%4){case 0:return new h(Math.pow(c,v.re),0);case 1:return new h(0,Math.pow(c,v.re));case 2:return new h(-Math.pow(c,v.re),0);case 3:return new h(0,-Math.pow(c,v.re))}}if(f===0&&c===0&&v.re>0&&v.im>=0)return h.ZERO;var d=Math.atan2(c,f),p=u(f,c);return f=Math.exp(v.re*p-v.im*d),c=v.im*p+v.re*d,new h(f*Math.cos(c),f*Math.sin(c))},sqrt:function(){var f=this.re,c=this.im,v=this.abs(),d,p;if(f>=0){if(c===0)return new h(Math.sqrt(f),0);d=.5*Math.sqrt(2*(v+f))}else d=Math.abs(c)/Math.sqrt(2*(v-f));return f<=0?p=.5*Math.sqrt(2*(v-f)):p=Math.abs(c)/Math.sqrt(2*(v+f)),new h(d,c<0?-p:p)},exp:function(){var f=Math.exp(this.re);return this.im,new h(f*Math.cos(this.im),f*Math.sin(this.im))},expm1:function(){var f=this.re,c=this.im;return new h(Math.expm1(f)*Math.cos(c)+a(c),Math.exp(f)*Math.sin(c))},log:function(){var f=this.re,c=this.im;return new h(u(f,c),Math.atan2(c,f))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var f=this.re,c=this.im;return new h(Math.sin(f)*n(c),Math.cos(f)*i(c))},cos:function(){var f=this.re,c=this.im;return new h(Math.cos(f)*n(c),-Math.sin(f)*i(c))},tan:function(){var f=2*this.re,c=2*this.im,v=Math.cos(f)+n(c);return new h(Math.sin(f)/v,i(c)/v)},cot:function(){var f=2*this.re,c=2*this.im,v=Math.cos(f)-n(c);return new h(-Math.sin(f)/v,i(c)/v)},sec:function(){var f=this.re,c=this.im,v=.5*n(2*c)+.5*Math.cos(2*f);return new h(Math.cos(f)*n(c)/v,Math.sin(f)*i(c)/v)},csc:function(){var f=this.re,c=this.im,v=.5*n(2*c)-.5*Math.cos(2*f);return new h(Math.sin(f)*n(c)/v,-Math.cos(f)*i(c)/v)},asin:function(){var f=this.re,c=this.im,v=new h(c*c-f*f+1,-2*f*c).sqrt(),d=new h(v.re-c,v.im+f).log();return new h(d.im,-d.re)},acos:function(){var f=this.re,c=this.im,v=new h(c*c-f*f+1,-2*f*c).sqrt(),d=new h(v.re-c,v.im+f).log();return new h(Math.PI/2-d.im,d.re)},atan:function(){var f=this.re,c=this.im;if(f===0){if(c===1)return new h(0,1/0);if(c===-1)return new h(0,-1/0)}var v=f*f+(1-c)*(1-c),d=new h((1-c*c-f*f)/v,-2*f/v).log();return new h(-.5*d.im,.5*d.re)},acot:function(){var f=this.re,c=this.im;if(c===0)return new h(Math.atan2(1,f),0);var v=f*f+c*c;return v!==0?new h(f/v,-c/v).atan():new h(f!==0?f/0:0,c!==0?-c/0:0).atan()},asec:function(){var f=this.re,c=this.im;if(f===0&&c===0)return new h(0,1/0);var v=f*f+c*c;return v!==0?new h(f/v,-c/v).acos():new h(f!==0?f/0:0,c!==0?-c/0:0).acos()},acsc:function(){var f=this.re,c=this.im;if(f===0&&c===0)return new h(Math.PI/2,1/0);var v=f*f+c*c;return v!==0?new h(f/v,-c/v).asin():new h(f!==0?f/0:0,c!==0?-c/0:0).asin()},sinh:function(){var f=this.re,c=this.im;return new h(i(f)*Math.cos(c),n(f)*Math.sin(c))},cosh:function(){var f=this.re,c=this.im;return new h(n(f)*Math.cos(c),i(f)*Math.sin(c))},tanh:function(){var f=2*this.re,c=2*this.im,v=n(f)+Math.cos(c);return new h(i(f)/v,Math.sin(c)/v)},coth:function(){var f=2*this.re,c=2*this.im,v=n(f)-Math.cos(c);return new h(i(f)/v,-Math.sin(c)/v)},csch:function(){var f=this.re,c=this.im,v=Math.cos(2*c)-n(2*f);return new h(-2*i(f)*Math.cos(c)/v,2*n(f)*Math.sin(c)/v)},sech:function(){var f=this.re,c=this.im,v=Math.cos(2*c)+n(2*f);return new h(2*n(f)*Math.cos(c)/v,-2*i(f)*Math.sin(c)/v)},asinh:function(){var f=this.im;this.im=-this.re,this.re=f;var c=this.asin();return this.re=-this.im,this.im=f,f=c.re,c.re=-c.im,c.im=f,c},acosh:function(){var f=this.acos();if(f.im<=0){var c=f.re;f.re=-f.im,f.im=c}else{var c=f.im;f.im=-f.re,f.re=c}return f},atanh:function(){var f=this.re,c=this.im,v=f>1&&c===0,d=1-f,p=1+f,m=d*d+c*c,g=m!==0?new h((p*d-c*c)/m,(c*d+p*c)/m):new h(f!==-1?f/0:0,c!==0?c/0:0),y=g.re;return g.re=u(g.re,g.im)/2,g.im=Math.atan2(g.im,y)/2,v&&(g.im=-g.im),g},acoth:function(){var f=this.re,c=this.im;if(f===0&&c===0)return new h(0,Math.PI/2);var v=f*f+c*c;return v!==0?new h(f/v,-c/v).atanh():new h(f!==0?f/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var f=this.re,c=this.im;if(c===0)return new h(f!==0?Math.log(f+Math.sqrt(f*f+1)):1/0,0);var v=f*f+c*c;return v!==0?new h(f/v,-c/v).asinh():new h(f!==0?f/0:0,c!==0?-c/0:0).asinh()},asech:function(){var f=this.re,c=this.im;if(this.isZero())return h.INFINITY;var v=f*f+c*c;return v!==0?new h(f/v,-c/v).acosh():new h(f!==0?f/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return h.INFINITY;if(this.isInfinite())return h.ZERO;var f=this.re,c=this.im,v=f*f+c*c;return new h(f/v,-c/v)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(f){return f=Math.pow(10,f||0),new h(Math.ceil(this.re*f)/f,Math.ceil(this.im*f)/f)},floor:function(f){return f=Math.pow(10,f||0),new h(Math.floor(this.re*f)/f,Math.floor(this.im*f)/f)},round:function(f){return f=Math.pow(10,f||0),new h(Math.round(this.re*f)/f,Math.round(this.im*f)/f)},equals:function(f,c){var v=new h(f,c);return Math.abs(v.re-this.re)<=h.EPSILON&&Math.abs(v.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var f=this.re,c=this.im,v="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(f)<h.EPSILON&&(f=0),Math.abs(c)<h.EPSILON&&(c=0),c===0?v+f:(f!==0?(v+=f,v+=" ",c<0?(c=-c,v+="-"):v+="+",v+=" "):c<0&&(c=-c,v+="-"),c!==1&&(v+=c),v+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.INFINITY=new h(1/0,1/0),h.NAN=new h(NaN,NaN),h.EPSILON=1e-15,Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Complex=h,r.exports=h})()})($1);var s5=$1.exports;const ee=z1(s5);var u5="Complex",l5=[],f5=ct(u5,l5,()=>(Object.defineProperty(ee,"name",{value:"Complex"}),ee.prototype.constructor=ee,ee.prototype.type="Complex",ee.prototype.isComplex=!0,ee.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ee.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ee.prototype.format=function(r){var t="",e=this.im,n=this.re,i=Jf(this.re,r),a=Jf(this.im,r),o=Ot(r)?r:r?r.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/e)<s&&(n=0),Math.abs(e/n)<s&&(e=0)}return e===0?t=i:n===0?e===1?t="i":e===-1?t="-i":t=a+"i":e<0?e===-1?t=i+" - i":t=i+" - "+a.substring(1)+"i":e===1?t=i+" + i":t=i+" + "+a+"i",t},ee.fromPolar=function(r){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return ee(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var e=arguments[0],n=arguments[1];if(Ot(e)){if(v1(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Ot(n))return new ee({r:e,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ee.prototype.valueOf=ee.prototype.toString,ee.fromJSON=function(r){return new ee(r)},ee.compare=function(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0},ee),{isClass:!0}),G1={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,t){(function(e){var n=2e3,i={s:1,n:0,d:1};function a(g,y){if(isNaN(g=parseInt(g,10)))throw p();return g*y}function o(g,y){if(y===0)throw d();var _=Object.create(v.prototype);_.s=g<0?-1:1,g=g<0?-g:g;var w=c(g,y);return _.n=g/w,_.d=y/w,_}function s(g){for(var y={},_=g,w=2,S=4;S<=_;){for(;_%w===0;)_/=w,y[w]=(y[w]||0)+1;S+=1+2*w++}return _!==g?_>1&&(y[_]=(y[_]||0)+1):y[g]=(y[g]||0)+1,y}var u=function(g,y){var _=0,w=1,S=1,D=0,b=0,M=0,E=1,C=1,A=0,x=1,F=1,L=1,N=1e7,B;if(g!=null)if(y!==void 0){if(_=g,w=y,S=_*w,_%1!==0||w%1!==0)throw m()}else switch(typeof g){case"object":{if("d"in g&&"n"in g)_=g.n,w=g.d,"s"in g&&(_*=g.s);else if(0 in g)_=g[0],1 in g&&(w=g[1]);else throw p();S=_*w;break}case"number":{if(g<0&&(S=g,g=-g),g%1===0)_=g;else if(g>0){for(g>=1&&(C=Math.pow(10,Math.floor(1+Math.log(g)/Math.LN10)),g/=C);x<=N&&L<=N;)if(B=(A+F)/(x+L),g===B){x+L<=N?(_=A+F,w=x+L):L>x?(_=F,w=L):(_=A,w=x);break}else g>B?(A+=F,x+=L):(F+=A,L+=x),x>N?(_=F,w=L):(_=A,w=x);_*=C}else(isNaN(g)||isNaN(y))&&(w=_=NaN);break}case"string":{if(x=g.match(/\d+|./g),x===null)throw p();if(x[A]==="-"?(S=-1,A++):x[A]==="+"&&A++,x.length===A+1?b=a(x[A++],S):x[A+1]==="."||x[A]==="."?(x[A]!=="."&&(D=a(x[A++],S)),A++,(A+1===x.length||x[A+1]==="("&&x[A+3]===")"||x[A+1]==="'"&&x[A+3]==="'")&&(b=a(x[A],S),E=Math.pow(10,x[A].length),A++),(x[A]==="("&&x[A+2]===")"||x[A]==="'"&&x[A+2]==="'")&&(M=a(x[A+1],S),C=Math.pow(10,x[A+1].length)-1,A+=3)):x[A+1]==="/"||x[A+1]===":"?(b=a(x[A],S),E=a(x[A+2],1),A+=3):x[A+3]==="/"&&x[A+1]===" "&&(D=a(x[A],S),b=a(x[A+2],S),E=a(x[A+4],1),A+=5),x.length<=A){w=E*C,S=_=M+w*D+C*b;break}}default:throw p()}if(w===0)throw d();i.s=S<0?-1:1,i.n=Math.abs(_),i.d=Math.abs(w)};function l(g,y,_){for(var w=1;y>0;g=g*g%_,y>>=1)y&1&&(w=w*g%_);return w}function h(g,y){for(;y%2===0;y/=2);for(;y%5===0;y/=5);if(y===1)return 0;for(var _=10%y,w=1;_!==1;w++)if(_=_*10%y,w>n)return 0;return w}function f(g,y,_){for(var w=1,S=l(10,_,y),D=0;D<300;D++){if(w===S)return D;w=w*10%y,S=S*10%y}return 0}function c(g,y){if(!g)return y;if(!y)return g;for(;;){if(g%=y,!g)return y;if(y%=g,!y)return g}}function v(g,y){if(u(g,y),this instanceof v)g=c(i.d,i.n),this.s=i.s,this.n=i.n/g,this.d=i.d/g;else return o(i.s*i.n,i.d)}var d=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},m=function(){return new Error("Parameters must be integer")};v.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(g,y){return u(g,y),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(g,y){return u(g,y),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(g,y){return u(g,y),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(g,y){return u(g,y),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(g,y){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(g===void 0)return o(this.s*this.n%this.d,1);if(u(g,y),i.n===0&&this.d===0)throw d();return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(g,y){return u(g,y),o(c(i.n,this.n)*c(i.d,this.d),i.d*this.d)},lcm:function(g,y){return u(g,y),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,c(i.n,this.n)*c(i.d,this.d))},ceil:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):o(Math.ceil(g*this.s*this.n/this.d),g)},floor:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):o(Math.floor(g*this.s*this.n/this.d),g)},round:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):o(Math.round(g*this.s*this.n/this.d),g)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(g,y){if(u(g,y),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var _=s(this.n),w=s(this.d),S=1,D=1;for(var b in _)if(b!=="1"){if(b==="0"){S=0;break}if(_[b]*=i.n,_[b]%i.d===0)_[b]/=i.d;else return null;S*=Math.pow(b,_[b])}for(var b in w)if(b!=="1"){if(w[b]*=i.n,w[b]%i.d===0)w[b]/=i.d;else return null;D*=Math.pow(b,w[b])}return i.s<0?o(D,S):o(S,D)},equals:function(g,y){return u(g,y),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(g,y){u(g,y);var _=this.s*this.n*i.d-i.s*i.n*this.d;return(0<_)-(_<0)},simplify:function(g){if(isNaN(this.n)||isNaN(this.d))return this;g=g||.001;for(var y=this.abs(),_=y.toContinued(),w=1;w<_.length;w++){for(var S=o(_[w-1],1),D=w-2;D>=0;D--)S=S.inverse().add(_[D]);if(Math.abs(S.sub(y).valueOf())<g)return S.mul(this.s)}return this},divisible:function(g,y){return u(g,y),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(g){var y,_="",w=this.n,S=this.d;return this.s<0&&(_+="-"),S===1?_+=w:(g&&(y=Math.floor(w/S))>0&&(_+=y,_+=" ",w%=S),_+=w,_+="/",_+=S),_},toLatex:function(g){var y,_="",w=this.n,S=this.d;return this.s<0&&(_+="-"),S===1?_+=w:(g&&(y=Math.floor(w/S))>0&&(_+=y,w%=S),_+="\\frac{",_+=w,_+="}{",_+=S,_+="}"),_},toContinued:function(){var g,y=this.n,_=this.d,w=[];if(isNaN(y)||isNaN(_))return w;do w.push(Math.floor(y/_)),g=y%_,y=_,_=g;while(y!==1);return w},toString:function(g){var y=this.n,_=this.d;if(isNaN(y)||isNaN(_))return"NaN";g=g||15;var w=h(y,_),S=f(y,_,w),D=this.s<0?"-":"";if(D+=y/_|0,y%=_,y*=10,y&&(D+="."),w){for(var b=S;b--;)D+=y/_|0,y%=_,y*=10;D+="(";for(var b=w;b--;)D+=y/_|0,y%=_,y*=10;D+=")"}else for(var b=g;y&&b--;)D+=y/_|0,y%=_,y*=10;return D}},Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,r.exports=v})()})(G1);var h5=G1.exports;const Fr=z1(h5);var c5="Fraction",v5=[],p5=ct(c5,v5,()=>(Object.defineProperty(Fr,"name",{value:"Fraction"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Fraction",Fr.prototype.isFraction=!0,Fr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fr.fromJSON=function(r){return new Fr(r)},Fr),{isClass:!0}),d5="Matrix",g5=[],m5=ct(d5,g5,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function U1(r){return Object.keys(r.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var y5="DenseMatrix",_5=["Matrix"],w5=ct(y5,_5,r=>{var{Matrix:t}=r;function e(h,f){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!mr(f))throw new Error("Invalid datatype: "+f);if(Xt(h))h.type==="DenseMatrix"?(this._data=Ut(h._data),this._size=Ut(h._size),this._datatype=f||h._datatype):(this._data=h.toArray(),this._size=h.size(),this._datatype=f||h._datatype);else if(h&&zt(h.data)&&zt(h.size))this._data=h.data,this._size=h.size,Jd(this._data,this._size),this._datatype=f||h.datatype;else if(zt(h))this._data=l(h),this._size=xe(this._data),Jd(this._data,this._size),this._datatype=f;else{if(h)throw new TypeError("Unsupported type of data ("+Fi(h)+")");this._data=[],this._size=[0],this._datatype=f}}e.prototype=new t,e.prototype.createDenseMatrix=function(h,f){return new e(h,f)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return ks(this._data,Fi)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(h,f){return new e(h,f)},e.prototype.subset=function(h,f,c){switch(arguments.length){case 1:return n(this,h);case 2:case 3:return a(this,h,f,c);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(h){if(!zt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new It(h.length,this._size.length);for(var f=0;f<h.length;f++)Vt(h[f],this._size[f]);for(var c=this._data,v=0,d=h.length;v<d;v++){var p=h[v];Vt(p,c.length),c=c[p]}return c},e.prototype.set=function(h,f,c){if(!zt(h))throw new TypeError("Array expected");if(h.length<this._size.length)throw new It(h.length,this._size.length,"<");var v,d,p,m=h.map(function(y){return y+1});u(this,m,c);var g=this._data;for(v=0,d=h.length-1;v<d;v++)p=h[v],Vt(p,g.length),g=g[p];return p=h[h.length-1],Vt(p,g.length),g[p]=f,this};function n(h,f){if(!fc(f))throw new TypeError("Invalid index");var c=f.isScalar();if(c)return h.get(f.min());var v=f.size();if(v.length!==h._size.length)throw new It(v.length,h._size.length);for(var d=f.min(),p=f.max(),m=0,g=h._size.length;m<g;m++)Vt(d[m],h._size[m]),Vt(p[m],h._size[m]);return new e(i(h._data,f,v.length,0),h._datatype)}function i(h,f,c,v){var d=v===c-1,p=f.dimension(v);return d?p.map(function(m){return Vt(m,h.length),h[m]}).valueOf():p.map(function(m){Vt(m,h.length);var g=h[m];return i(g,f,c,v+1)}).valueOf()}function a(h,f,c,v){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var d=f.size(),p=f.isScalar(),m;if(Xt(c)?(m=c.size(),c=c.valueOf()):m=xe(c),p){if(m.length!==0)throw new TypeError("Scalar expected");h.set(f.min(),c,v)}else{if(!zi(m,d))try{m.length===0?c=t0([c],d):c=t0(c,d),m=xe(c)}catch{}if(d.length<h._size.length)throw new It(d.length,h._size.length,"<");if(m.length<d.length){for(var g=0,y=0;d[g]===1&&m[g]===1;)g++;for(;d[g]===1;)y++,g++;c=D1(c,d.length,y,m)}if(!zi(d,m))throw new It(d,m,">");var _=f.max().map(function(D){return D+1});u(h,_,v);var w=d.length,S=0;o(h._data,f,c,w,S)}return h}function o(h,f,c,v,d){var p=d===v-1,m=f.dimension(d);p?m.forEach(function(g,y){Vt(g),h[g]=c[y[0]]}):m.forEach(function(g,y){Vt(g),o(h[g],f,c[y[0]],v,d+1)})}e.prototype.resize=function(h,f,c){if(!Rs(h))throw new TypeError("Array or Matrix expected");var v=h.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),d=c?this.clone():this;return s(d,v,f)};function s(h,f,c){if(f.length===0){for(var v=h._data;zt(v);)v=v[0];return v}return h._size=f.slice(0),h._data=th(h._data,h._size,c),h}e.prototype.reshape=function(h,f){var c=f?this.clone():this;c._data=_1(c._data,h);var v=c._size.reduce((d,p)=>d*p);return c._size=hc(h,v),c};function u(h,f,c){for(var v=h._size.slice(0),d=!1;v.length<f.length;)v.push(0),d=!0;for(var p=0,m=f.length;p<m;p++)f[p]>v[p]&&(v[p]=f[p],d=!0);d&&s(h,v,c)}e.prototype.clone=function(){var h=new e({data:Ut(this._data),size:Ut(this._size),datatype:this._datatype});return h},e.prototype.size=function(){return this._size.slice(0)},e.prototype.map=function(h){var f=this,c=U1(h),v=function m(g,y){return zt(g)?g.map(function(_,w){return m(_,y.concat(w))}):c===1?h(g):c===2?h(g,y):h(g,y,f)},d=v(this._data,[]),p=this._datatype!==void 0?ks(d,Fi):void 0;return new e(d,p)},e.prototype.forEach=function(h){var f=this,c=function v(d,p){zt(d)?d.forEach(function(m,g){v(m,p.concat(g))}):h(d,p,f)};c(this._data,[])},e.prototype[Symbol.iterator]=function*(){var h=function*f(c,v){if(zt(c))for(var d=0;d<c.length;d++)yield*f(c[d],v.concat(d));else yield{value:c,index:v}};yield*h(this._data,[])},e.prototype.rows=function(){var h=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var v of c)h.push(new e([v],this._datatype));return h},e.prototype.columns=function(){var h=this,f=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,d=function(g){var y=v.map(_=>[_[g]]);f.push(new e(y,h._datatype))},p=0;p<c[1];p++)d(p);return f},e.prototype.toArray=function(){return Ut(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(h){return Ht(this._data,h)},e.prototype.toString=function(){return Ht(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(h){if(h){if(re(h)&&(h=h.toNumber()),!Ot(h)||!Gt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;for(var f=h>0?h:0,c=h<0?-h:0,v=this._size[0],d=this._size[1],p=Math.min(v-c,d-f),m=[],g=0;g<p;g++)m[g]=this._data[g+c][g+f];return new e({data:m,size:[p],datatype:this._datatype})},e.diagonal=function(h,f,c,v){if(!zt(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(b){if(re(b)&&(b=b.toNumber()),!Ot(b)||!Gt(b)||b<1)throw new Error("Size values must be positive integers");return b}),c){if(re(c)&&(c=c.toNumber()),!Ot(c)||!Gt(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var d=c>0?c:0,p=c<0?-c:0,m=h[0],g=h[1],y=Math.min(m-p,g-d),_;if(zt(f)){if(f.length!==y)throw new Error("Invalid value array length");_=function(M){return f[M]}}else if(Xt(f)){var w=f.size();if(w.length!==1||w[0]!==y)throw new Error("Invalid matrix length");_=function(M){return f.get([M])}}else _=function(){return f};v||(v=re(_(0))?_(0).mul(0):0);var S=[];if(h.length>0){S=th(S,h,v);for(var D=0;D<y;D++)S[D+p][D+d]=_(D)}return new e({data:S,size:[m,g]})},e.fromJSON=function(h){return new e(h)},e.prototype.swapRows=function(h,f){if(!Ot(h)||!Gt(h)||!Ot(f)||!Gt(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Vt(h,this._size[0]),Vt(f,this._size[0]),e._swapRows(h,f,this._data),this},e._swapRows=function(h,f,c){var v=c[h];c[h]=c[f],c[f]=v};function l(h){return Xt(h)?l(h.valueOf()):zt(h)?h.map(l):h}return e},{isClass:!0});function Ar(r,t,e){return r&&typeof r.map=="function"?r.map(function(n){return Ar(n,t)}):t(r)}var i0="isInteger",D5=["typed"],S5=ct(i0,D5,r=>{var{typed:t}=r;return t(i0,{number:Gt,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":t.referToSelf(e=>n=>Ar(n,e))})}),W1="number",Cu="number, number";function q1(r){return Math.abs(r)}q1.signature=W1;function Y1(r,t){return r+t}Y1.signature=Cu;function Z1(r,t){return r-t}Z1.signature=Cu;function H1(r,t){return r*t}H1.signature=Cu;function X1(r){return-r}X1.signature=W1;function j1(r,t){return r*r<1&&t===1/0||r*r>1&&t===-1/0?0:Math.pow(r,t)}j1.signature=Cu;var C5="number";function K1(r){return r===0}K1.signature=C5;var a0="isZero",b5=["typed"],A5=ct(a0,b5,r=>{var{typed:t}=r;return t(a0,{number:K1,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>n=>Ar(n,e))})});function M5(r,t,e){if(e==null)return r.eq(t);if(r.eq(t))return!0;if(r.isNaN()||t.isNaN())return!1;if(r.isFinite()&&t.isFinite()){var n=r.minus(t).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),t.abs());return n.lte(i.times(e))}return!1}function E5(r,t,e){return Os(r.re,t.re,e)&&Os(r.im,t.im,e)}var x5=ct("compareUnits",["typed"],r=>{var{typed:t}=r;return{"Unit, Unit":t.referToSelf(e=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(e,[n.valueType(),i.valueType()])(n.value,i.value)})}}),Us="equalScalar",T5=["typed","config"],F5=ct(Us,T5,r=>{var{typed:t,config:e}=r,n=x5({typed:t});return t(Us,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Os(a,o,e.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||M5(a,o,e.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return E5(a,o,e.epsilon)}},n)});ct(Us,["typed","config"],r=>{var{typed:t,config:e}=r;return t(Us,{"number, number":function(i,a){return Os(i,a,e.epsilon)}})});var I5="SparseMatrix",B5=["typed","equalScalar","Matrix"],L5=ct(I5,B5,r=>{var{typed:t,equalScalar:e,Matrix:n}=r;function i(p,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!mr(m))throw new Error("Invalid datatype: "+m);if(Xt(p))a(this,p,m);else if(p&&zt(p.index)&&zt(p.ptr)&&zt(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=m||p.datatype;else if(zt(p))o(this,p,m);else{if(p)throw new TypeError("Unsupported type of data ("+Fi(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(p,m,g){m.type==="SparseMatrix"?(p._values=m._values?Ut(m._values):void 0,p._index=Ut(m._index),p._ptr=Ut(m._ptr),p._size=Ut(m._size),p._datatype=g||m._datatype):o(p,m.valueOf(),g||m._datatype)}function o(p,m,g){p._values=[],p._index=[],p._ptr=[],p._datatype=g;var y=m.length,_=0,w=e,S=0;if(mr(g)&&(w=t.find(e,[g,g])||e,S=t.convert(0,g)),y>0){var D=0;do{p._ptr.push(p._index.length);for(var b=0;b<y;b++){var M=m[b];if(zt(M)){if(D===0&&_<M.length&&(_=M.length),D<M.length){var E=M[D];w(E,S)||(p._values.push(E),p._index.push(b))}}else D===0&&_<1&&(_=1),w(M,S)||(p._values.push(M),p._index.push(b))}D++}while(D<_)}p._ptr.push(p._index.length),p._size=[y,_]}i.prototype=new n,i.prototype.createSparseMatrix=function(p,m){return new i(p,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return ks(this._values,Fi)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,m){return new i(p,m)},i.prototype.density=function(){var p=this._size[0],m=this._size[1];return p!==0&&m!==0?this._index.length/(p*m):0},i.prototype.subset=function(p,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,p);case 2:case 3:return u(this,p,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function s(p,m){if(!fc(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return p.get(m.min());var y=m.size();if(y.length!==p._size.length)throw new It(y.length,p._size.length);var _,w,S,D,b=m.min(),M=m.max();for(_=0,w=p._size.length;_<w;_++)Vt(b[_],p._size[_]),Vt(M[_],p._size[_]);var E=p._values,C=p._index,A=p._ptr,x=m.dimension(0),F=m.dimension(1),L=[],N=[];x.forEach(function($,q){N[$]=q[0],L[$]=!0});var B=E?[]:void 0,G=[],k=[];return F.forEach(function($){for(k.push(G.length),S=A[$],D=A[$+1];S<D;S++)_=C[S],L[_]===!0&&(G.push(N[_]),B&&B.push(E[S]))}),k.push(G.length),new i({values:B,index:G,ptr:k,size:y,datatype:p._datatype})}function u(p,m,g,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var _=m.size(),w=m.isScalar(),S;if(Xt(g)?(S=g.size(),g=g.toArray()):S=xe(g),w){if(S.length!==0)throw new TypeError("Scalar expected");p.set(m.min(),g,y)}else{if(_.length!==1&&_.length!==2)throw new It(_.length,p._size.length,"<");if(S.length<_.length){for(var D=0,b=0;_[D]===1&&S[D]===1;)D++;for(;_[D]===1;)b++,D++;g=D1(g,_.length,b,S)}if(!zi(_,S))throw new It(_,S,">");if(_.length===1){var M=m.dimension(0);M.forEach(function(A,x){Vt(A),p.set([A,0],g[x[0]],y)})}else{var E=m.dimension(0),C=m.dimension(1);E.forEach(function(A,x){Vt(A),C.forEach(function(F,L){Vt(F),p.set([A,F],g[x[0]][L[0]],y)})})}}return p}i.prototype.get=function(p){if(!zt(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new It(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=p[0],g=p[1];Vt(m,this._size[0]),Vt(g,this._size[1]);var y=l(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(p,m,g){if(!zt(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new It(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=p[0],_=p[1],w=this._size[0],S=this._size[1],D=e,b=0;mr(this._datatype)&&(D=t.find(e,[this._datatype,this._datatype])||e,b=t.convert(0,this._datatype)),(y>w-1||_>S-1)&&(c(this,Math.max(y+1,w),Math.max(_+1,S),g),w=this._size[0],S=this._size[1]),Vt(y,w),Vt(_,S);var M=l(y,this._ptr[_],this._ptr[_+1],this._index);return M<this._ptr[_+1]&&this._index[M]===y?D(m,b)?h(M,_,this._values,this._index,this._ptr):this._values[M]=m:D(m,b)||f(M,y,_,m,this._values,this._index,this._ptr),this};function l(p,m,g,y){if(g-m===0)return g;for(var _=m;_<g;_++)if(y[_]===p)return _;return m}function h(p,m,g,y,_){g.splice(p,1),y.splice(p,1);for(var w=m+1;w<_.length;w++)_[w]--}function f(p,m,g,y,_,w,S){_.splice(p,0,y),w.splice(p,0,m);for(var D=g+1;D<S.length;D++)S[D]++}i.prototype.resize=function(p,m,g){if(!Rs(p))throw new TypeError("Array or Matrix expected");var y=p.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(w){if(!Ot(w)||!Gt(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ht(y)+")")});var _=g?this.clone():this;return c(_,y[0],y[1],m)};function c(p,m,g,y){var _=y||0,w=e,S=0;mr(p._datatype)&&(w=t.find(e,[p._datatype,p._datatype])||e,S=t.convert(0,p._datatype),_=t.convert(_,p._datatype));var D=!w(_,S),b=p._size[0],M=p._size[1],E,C,A;if(g>M){for(C=M;C<g;C++)if(p._ptr[C]=p._values.length,D)for(E=0;E<b;E++)p._values.push(_),p._index.push(E);p._ptr[g]=p._values.length}else g<M&&(p._ptr.splice(g+1,M-g),p._values.splice(p._ptr[g],p._values.length),p._index.splice(p._ptr[g],p._index.length));if(M=g,m>b){if(D){var x=0;for(C=0;C<M;C++){p._ptr[C]=p._ptr[C]+x,A=p._ptr[C+1]+x;var F=0;for(E=b;E<m;E++,F++)p._values.splice(A+F,0,_),p._index.splice(A+F,0,E),x++}p._ptr[M]=p._values.length}}else if(m<b){var L=0;for(C=0;C<M;C++){p._ptr[C]=p._ptr[C]-L;var N=p._ptr[C],B=p._ptr[C+1]-L;for(A=N;A<B;A++)E=p._index[A],E>m-1&&(p._values.splice(A,1),p._index.splice(A,1),L++)}p._ptr[C]=p._values.length}return p._size[0]=m,p._size[1]=g,p}i.prototype.reshape=function(p,m){if(!zt(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function($){if(!Ot($)||!Gt($)||$<=-2||$===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ht(p)+")")});var g=this._size[0]*this._size[1];p=hc(p,g);var y=p[0]*p[1];if(g!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var _=m?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return _;for(var w=[],S=0;S<_._ptr.length;S++)for(var D=0;D<_._ptr[S+1]-_._ptr[S];D++)w.push(S);for(var b=_._values.slice(),M=_._index.slice(),E=0;E<_._index.length;E++){var C=M[E],A=w[E],x=C*_._size[1]+A;w[E]=x%p[1],M[E]=Math.floor(x/p[1])}_._values.length=0,_._index.length=0,_._ptr.length=p[1]+1,_._size=p.slice();for(var F=0;F<_._ptr.length;F++)_._ptr[F]=0;for(var L=0;L<b.length;L++){var N=M[L],B=w[L],G=b[L],k=l(N,_._ptr[B],_._ptr[B+1],_._index);f(k,N,B,G,_._values,_._index,_._ptr)}return _},i.prototype.clone=function(){var p=new i({values:this._values?Ut(this._values):void 0,index:Ut(this._index),ptr:Ut(this._ptr),size:Ut(this._size),datatype:this._datatype});return p},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],_=this._size[1],w=U1(p),S=function(b,M,E){return w===1?p(b):w===2?p(b,[M,E]):p(b,[M,E],g)};return v(this,0,y-1,0,_-1,S,m)};function v(p,m,g,y,_,w,S){var D=[],b=[],M=[],E=e,C=0;mr(p._datatype)&&(E=t.find(e,[p._datatype,p._datatype])||e,C=t.convert(0,p._datatype));for(var A=function(Z,at,vt){Z=w(Z,at,vt),E(Z,C)||(D.push(Z),b.push(at))},x=y;x<=_;x++){M.push(D.length);var F=p._ptr[x],L=p._ptr[x+1];if(S)for(var N=F;N<L;N++){var B=p._index[N];B>=m&&B<=g&&A(p._values[N],B-m,x-y)}else{for(var G={},k=F;k<L;k++){var $=p._index[k];G[$]=p._values[k]}for(var q=m;q<=g;q++){var et=q in G?G[q]:0;A(et,q-m,x-y)}}}return M.push(D.length),new i({values:D,index:b,ptr:M,size:[g-m+1,_-y+1]})}i.prototype.forEach=function(p,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],_=this._size[1],w=0;w<_;w++){var S=this._ptr[w],D=this._ptr[w+1];if(m)for(var b=S;b<D;b++){var M=this._index[b];p(this._values[b],[M,w],g)}else{for(var E={},C=S;C<D;C++){var A=this._index[C];E[A]=this._values[C]}for(var x=0;x<y;x++){var F=x in E?E[x]:0;p(F,[x,w],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],m=0;m<p;m++)for(var g=this._ptr[m],y=this._ptr[m+1],_=g;_<y;_++){var w=this._index[_];yield{value:this._values[_],index:[w,m]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(p,m,g,y,_){var w=y[0],S=y[1],D=[],b,M;for(b=0;b<w;b++)for(D[b]=[],M=0;M<S;M++)D[b][M]=0;for(M=0;M<S;M++)for(var E=g[M],C=g[M+1],A=E;A<C;A++)b=m[A],D[b][M]=p?_?Ut(p[A]):p[A]:1;return D}return i.prototype.format=function(p){for(var m=this._size[0],g=this._size[1],y=this.density(),_="Sparse Matrix ["+Ht(m,p)+" x "+Ht(g,p)+"] density: "+Ht(y,p)+`
`,w=0;w<g;w++)for(var S=this._ptr[w],D=this._ptr[w+1],b=S;b<D;b++){var M=this._index[b];_+=`
    (`+Ht(M,p)+", "+Ht(w,p)+") ==> "+(this._values?Ht(this._values[b],p):"X")}return _},i.prototype.toString=function(){return Ht(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(re(p)&&(p=p.toNumber()),!Ot(p)||!Gt(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,g=p<0?-p:0,y=this._size[0],_=this._size[1],w=Math.min(y-g,_-m),S=[],D=[],b=[];b[0]=0;for(var M=m;M<_&&S.length<w;M++)for(var E=this._ptr[M],C=this._ptr[M+1],A=E;A<C;A++){var x=this._index[A];if(x===M-m+g){S.push(this._values[A]),D[S.length-1]=x-g;break}}return b.push(S.length),new i({values:S,index:D,ptr:b,size:[w,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,m,g,y,_){if(!zt(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function($){if(re($)&&($=$.toNumber()),!Ot($)||!Gt($)||$<1)throw new Error("Size values must be positive integers");return $}),g){if(re(g)&&(g=g.toNumber()),!Ot(g)||!Gt(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var w=e,S=0;mr(_)&&(w=t.find(e,[_,_])||e,S=t.convert(0,_));var D=g>0?g:0,b=g<0?-g:0,M=p[0],E=p[1],C=Math.min(M-b,E-D),A;if(zt(m)){if(m.length!==C)throw new Error("Invalid value array length");A=function(q){return m[q]}}else if(Xt(m)){var x=m.size();if(x.length!==1||x[0]!==C)throw new Error("Invalid matrix length");A=function(q){return m.get([q])}}else A=function(){return m};for(var F=[],L=[],N=[],B=0;B<E;B++){N.push(F.length);var G=B-D;if(G>=0&&G<C){var k=A(G);w(k,S)||(L.push(G+b),F.push(k))}}return N.push(F.length),new i({values:F,index:L,ptr:N,size:[M,E]})},i.prototype.swapRows=function(p,m){if(!Ot(p)||!Gt(p)||!Ot(m)||!Gt(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Vt(p,this._size[0]),Vt(m,this._size[0]),i._swapRows(p,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,m,g,y,_){for(var w=y[p],S=y[p+1],D=w;D<S;D++)_(g[D],m[D])},i._swapRows=function(p,m,g,y,_,w){for(var S=0;S<g;S++){var D=w[S],b=w[S+1],M=l(p,D,b,_),E=l(m,D,b,_);if(M<b&&E<b&&_[M]===p&&_[E]===m){if(y){var C=y[M];y[M]=y[E],y[E]=C}continue}if(M<b&&_[M]===p&&(E>=b||_[E]!==m)){var A=y?y[M]:void 0;_.splice(E,0,m),y&&y.splice(E,0,A),_.splice(E<=M?M+1:M,1),y&&y.splice(E<=M?M+1:M,1);continue}if(E<b&&_[E]===m&&(M>=b||_[M]!==p)){var x=y?y[E]:void 0;_.splice(M,0,p),y&&y.splice(M,0,x),_.splice(M<=E?E+1:E,1),y&&y.splice(M<=E?E+1:E,1)}}},i},{isClass:!0}),P5="number",N5=["typed"];function R5(r){var t=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var e={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:r,radix:e,integerPart:n,fractionalPart:i}}else return null}function O5(r){for(var t=parseInt(r.integerPart,r.radix),e=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);e+=i/Math.pow(r.radix,n+1)}var a=t+e;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var k5=ct(P5,N5,r=>{var{typed:t}=r,e=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=R5(i);if(a)return O5(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":t.referToSelf(n=>i=>Ar(i,n))});return e.fromJSON=function(n){return parseFloat(n.value)},e}),z5="bignumber",V5=["typed","BigNumber"],$5=ct(z5,V5,r=>{var{typed:t,BigNumber:e}=r;return t("bignumber",{"":function(){return new e(0)},number:function(i){return new e(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=e(a[1]),u=new e(2).pow(Number(o));if(s.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var l=new e(2).pow(Number(o)-1);return s.gte(l)?s.sub(u):s}return new e(i)},BigNumber:function(i){return i},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new e(i.n).div(i.d).times(i.s)},null:function(i){return new e(0)},"Array | Matrix":t.referToSelf(n=>i=>Ar(i,n))})}),G5="complex",U5=["typed","Complex"],W5=ct(G5,U5,r=>{var{typed:t,Complex:e}=r;return t("complex",{"":function(){return e.ZERO},number:function(i){return new e(i,0)},"number, number":function(i,a){return new e(i,a)},"BigNumber, BigNumber":function(i,a){return new e(i.toNumber(),a.toNumber())},Fraction:function(i){return new e(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return e(i)},null:function(i){return e(0)},Object:function(i){if("re"in i&&"im"in i)return new e(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new e(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(n=>i=>Ar(i,n))})}),q5="fraction",Y5=["typed","Fraction"],Z5=ct(q5,Y5,r=>{var{typed:t,Fraction:e}=r;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new e(i)},string:function(i){return new e(i)},"number, number":function(i,a){return new e(i,a)},null:function(i){return new e(0)},BigNumber:function(i){return new e(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new e(i)},"Array | Matrix":t.referToSelf(n=>i=>Ar(i,n))})}),o0="matrix",H5=["typed","Matrix","DenseMatrix","SparseMatrix"],X5=ct(o0,H5,r=>{var{typed:t,Matrix:e,DenseMatrix:n,SparseMatrix:i}=r;return t(o0,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,u){return a([],s,u)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,u){if(s==="dense"||s==="default"||s===void 0)return new n(o,u);if(s==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),s0="unaryMinus",j5=["typed"],K5=ct(s0,j5,r=>{var{typed:t}=r;return t(s0,{number:X1,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:t.referToSelf(e=>n=>{var i=n.clone();return i.value=t.find(e,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(e=>n=>Ar(n,e))})}),u0="abs",Q5=["typed"],J5=ct(u0,Q5,r=>{var{typed:t}=r;return t(u0,{number:q1,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":t.referToSelf(e=>n=>Ar(n,e))})}),l0="addScalar",t3=["typed"],e3=ct(l0,t3,r=>{var{typed:t}=r;return t(l0,{"number, number":Y1,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(e=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),f0="subtractScalar",r3=["typed"],n3=ct(f0,r3,r=>{var{typed:t}=r;return t(f0,{"number, number":Z1,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(e=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),i3="matAlgo11xS0s",a3=["typed","equalScalar"],o3=ct(i3,a3,r=>{var{typed:t,equalScalar:e}=r;return function(i,a,o,s){var u=i._values,l=i._index,h=i._ptr,f=i._size,c=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=f[0],d=f[1],p,m=e,g=0,y=o;typeof c=="string"&&(p=c,m=t.find(e,[p,p]),g=t.convert(0,p),a=t.convert(a,p),y=t.find(o,[p,p]));for(var _=[],w=[],S=[],D=0;D<d;D++){S[D]=w.length;for(var b=h[D],M=h[D+1],E=b;E<M;E++){var C=l[E],A=s?y(a,u[E]):y(u[E],a);m(A,g)||(w.push(C),_.push(A))}}return S[d]=w.length,i.createSparseMatrix({values:_,index:w,ptr:S,size:[v,d],datatype:p})}}),s3="matAlgo14xDs",u3=["typed"],Q1=ct(s3,u3,r=>{var{typed:t}=r;return function(i,a,o,s){var u=i._data,l=i._size,h=i._datatype,f,c=o;typeof h=="string"&&(f=h,a=t.convert(a,f),c=t.find(o,[f,f]));var v=l.length>0?e(c,0,l,l[0],u,a,s):[];return i.createDenseMatrix({data:v,size:Ut(l),datatype:f})};function e(n,i,a,o,s,u,l){var h=[];if(i===a.length-1)for(var f=0;f<o;f++)h[f]=l?n(u,s[f]):n(s[f],u);else for(var c=0;c<o;c++)h[c]=e(n,i+1,a,a[i+1],s[c],u,l);return h}}),l3="matAlgo13xDD",f3=["typed"],h3=ct(l3,f3,r=>{var{typed:t}=r;return function(i,a,o){var s=i._data,u=i._size,l=i._datatype,h=a._data,f=a._size,c=a._datatype,v=[];if(u.length!==f.length)throw new It(u.length,f.length);for(var d=0;d<u.length;d++){if(u[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");v[d]=u[d]}var p,m=o;typeof l=="string"&&l===c&&(p=l,m=t.find(o,[p,p]));var g=v.length>0?e(m,0,v,v[0],s,h):[];return i.createDenseMatrix({data:g,size:v,datatype:p})};function e(n,i,a,o,s,u){var l=[];if(i===a.length-1)for(var h=0;h<o;h++)l[h]=n(s[h],u[h]);else for(var f=0;f<o;f++)l[f]=e(n,i+1,a,a[i+1],s[f],u[f]);return l}}),c3="broadcast",v3=["concat"],p3=ct(c3,v3,r=>{var{concat:t}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((d,p)=>d===a._size[p]))return[i,a];for(var s=e(i._size,o,0),u=e(a._size,o,0),l=[],h=0;h<o;h++)l[h]=Math.max(s[h],u[h]);zs(s,l),zs(u,l);var f=i.clone(),c=a.clone();f._size.length<o?f.reshape(e(f._size,o,1)):c._size.length<o&&c.reshape(e(c._size,o,1));for(var v=0;v<o;v++)f._size[v]<l[v]&&(f=n(f,l[v],v)),c._size[v]<l[v]&&(c=n(c,l[v],v));return[f,c]};function e(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return t(...Array(a).fill(i),o)}}),d3="matrixAlgorithmSuite",g3=["typed","matrix","concat"],m3=ct(d3,g3,r=>{var{typed:t,matrix:e,concat:n}=r,i=h3({typed:t}),a=Q1({typed:t}),o=p3({concat:n});return function(u){var l=u.elop,h=u.SD||u.DS,f;l?(f={"DenseMatrix, DenseMatrix":(p,m)=>i(...o(p,m),l),"Array, Array":(p,m)=>i(...o(e(p),e(m)),l).valueOf(),"Array, DenseMatrix":(p,m)=>i(...o(e(p),m),l),"DenseMatrix, Array":(p,m)=>i(...o(p,e(m)),l)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(p,m)=>u.SS(...o(p,m),l,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(p,m)=>u.DS(...o(p,m),l,!1),f["Array, SparseMatrix"]=(p,m)=>u.DS(...o(e(p),m),l,!1)),h&&(f["SparseMatrix, DenseMatrix"]=(p,m)=>h(...o(m,p),l,!0),f["SparseMatrix, Array"]=(p,m)=>h(...o(e(m),p),l,!0))):(f={"DenseMatrix, DenseMatrix":t.referToSelf(p=>(m,g)=>i(...o(m,g),p)),"Array, Array":t.referToSelf(p=>(m,g)=>i(...o(e(m),e(g)),p).valueOf()),"Array, DenseMatrix":t.referToSelf(p=>(m,g)=>i(...o(e(m),g),p)),"DenseMatrix, Array":t.referToSelf(p=>(m,g)=>i(...o(m,e(g)),p))},u.SS&&(f["SparseMatrix, SparseMatrix"]=t.referToSelf(p=>(m,g)=>u.SS(...o(m,g),p,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=t.referToSelf(p=>(m,g)=>u.DS(...o(m,g),p,!1)),f["Array, SparseMatrix"]=t.referToSelf(p=>(m,g)=>u.DS(...o(e(m),g),p,!1))),h&&(f["SparseMatrix, DenseMatrix"]=t.referToSelf(p=>(m,g)=>h(...o(g,m),p,!0)),f["SparseMatrix, Array"]=t.referToSelf(p=>(m,g)=>h(...o(e(g),m),p,!0))));var c=u.scalar||"any",v=u.Ds||u.Ss;v&&(l?(f["DenseMatrix,"+c]=(p,m)=>a(p,m,l,!1),f[c+", DenseMatrix"]=(p,m)=>a(m,p,l,!0),f["Array,"+c]=(p,m)=>a(e(p),m,l,!1).valueOf(),f[c+", Array"]=(p,m)=>a(e(m),p,l,!0).valueOf()):(f["DenseMatrix,"+c]=t.referToSelf(p=>(m,g)=>a(m,g,p,!1)),f[c+", DenseMatrix"]=t.referToSelf(p=>(m,g)=>a(g,m,p,!0)),f["Array,"+c]=t.referToSelf(p=>(m,g)=>a(e(m),g,p,!1).valueOf()),f[c+", Array"]=t.referToSelf(p=>(m,g)=>a(e(g),m,p,!0).valueOf())));var d=u.sS!==void 0?u.sS:u.Ss;return l?(u.Ss&&(f["SparseMatrix,"+c]=(p,m)=>u.Ss(p,m,l,!1)),d&&(f[c+", SparseMatrix"]=(p,m)=>d(m,p,l,!0))):(u.Ss&&(f["SparseMatrix,"+c]=t.referToSelf(p=>(m,g)=>u.Ss(m,g,p,!1))),d&&(f[c+", SparseMatrix"]=t.referToSelf(p=>(m,g)=>d(g,m,p,!0)))),l&&l.signatures&&BI(f,l.signatures),f}}),y3="matAlgo01xDSid",_3=["typed"],w3=ct(y3,_3,r=>{var{typed:t}=r;return function(n,i,a,o){var s=n._data,u=n._size,l=n._datatype,h=i._values,f=i._index,c=i._ptr,v=i._size,d=i._datatype;if(u.length!==v.length)throw new It(u.length,v.length);if(u[0]!==v[0]||u[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+v+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=u[0],m=u[1],g=typeof l=="string"&&l===d?l:void 0,y=g?t.find(a,[g,g]):a,_,w,S=[];for(_=0;_<p;_++)S[_]=[];var D=[],b=[];for(w=0;w<m;w++){for(var M=w+1,E=c[w],C=c[w+1],A=E;A<C;A++)_=f[A],D[_]=o?y(h[A],s[_][w]):y(s[_][w],h[A]),b[_]=M;for(_=0;_<p;_++)b[_]===M?S[_][w]=D[_]:S[_][w]=s[_][w]}return n.createDenseMatrix({data:S,size:[p,m],datatype:g})}}),D3="matAlgo04xSidSid",S3=["typed","equalScalar"],C3=ct(D3,S3,r=>{var{typed:t,equalScalar:e}=r;return function(i,a,o){var s=i._values,u=i._index,l=i._ptr,h=i._size,f=i._datatype,c=a._values,v=a._index,d=a._ptr,p=a._size,m=a._datatype;if(h.length!==p.length)throw new It(h.length,p.length);if(h[0]!==p[0]||h[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+p+")");var g=h[0],y=h[1],_,w=e,S=0,D=o;typeof f=="string"&&f===m&&(_=f,w=t.find(e,[_,_]),S=t.convert(0,_),D=t.find(o,[_,_]));var b=s&&c?[]:void 0,M=[],E=[],C=s&&c?[]:void 0,A=s&&c?[]:void 0,x=[],F=[],L,N,B,G,k;for(N=0;N<y;N++){E[N]=M.length;var $=N+1;for(G=l[N],k=l[N+1],B=G;B<k;B++)L=u[B],M.push(L),x[L]=$,C&&(C[L]=s[B]);for(G=d[N],k=d[N+1],B=G;B<k;B++)if(L=v[B],x[L]===$){if(C){var q=D(C[L],c[B]);w(q,S)?x[L]=null:C[L]=q}}else M.push(L),F[L]=$,A&&(A[L]=c[B]);if(C&&A)for(B=E[N];B<M.length;)L=M[B],x[L]===$?(b[B]=C[L],B++):F[L]===$?(b[B]=A[L],B++):M.splice(B,1)}return E[y]=M.length,i.createSparseMatrix({values:b,index:M,ptr:E,size:[g,y],datatype:_})}}),b3="matAlgo10xSids",A3=["typed","DenseMatrix"],M3=ct(b3,A3,r=>{var{typed:t,DenseMatrix:e}=r;return function(i,a,o,s){var u=i._values,l=i._index,h=i._ptr,f=i._size,c=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=f[0],d=f[1],p,m=o;typeof c=="string"&&(p=c,a=t.convert(a,p),m=t.find(o,[p,p]));for(var g=[],y=[],_=[],w=0;w<d;w++){for(var S=w+1,D=h[w],b=h[w+1],M=D;M<b;M++){var E=l[M];y[E]=u[M],_[E]=S}for(var C=0;C<v;C++)w===0&&(g[C]=[]),_[C]===S?g[C][w]=s?m(a,y[C]):m(y[C],a):g[C][w]=a}return new e({data:g,size:[v,d],datatype:p})}}),E3="multiplyScalar",x3=["typed"],T3=ct(E3,x3,r=>{var{typed:t}=r;return t("multiplyScalar",{"number, number":H1,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(e,n)=>n.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,n)=>e.multiply(n)})}),h0="multiply",F3=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],I3=ct(h0,F3,r=>{var{typed:t,matrix:e,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,s=o3({typed:t,equalScalar:a}),u=Q1({typed:t});function l(S,D){switch(S.length){case 1:switch(D.length){case 1:if(S[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(S[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+D[0]+")");break;case 2:if(S[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function h(S,D,b){if(b===0)throw new Error("Cannot multiply two empty vectors");return o(S,D)}function f(S,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(S,D)}function c(S,D){var b=S._data,M=S._size,E=S._datatype,C=D._data,A=D._size,x=D._datatype,F=M[0],L=A[1],N,B=n,G=i;E&&x&&E===x&&typeof E=="string"&&(N=E,B=t.find(n,[N,N]),G=t.find(i,[N,N]));for(var k=[],$=0;$<L;$++){for(var q=G(b[0],C[0][$]),et=1;et<F;et++)q=B(q,G(b[et],C[et][$]));k[$]=q}return S.createDenseMatrix({data:k,size:[L],datatype:N})}var v=t("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":y}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":_,"SparseMatrix, SparseMatrix":w});function p(S,D){var b=S._data,M=S._size,E=S._datatype,C=D._data,A=D._datatype,x=M[0],F=M[1],L,N=n,B=i;E&&A&&E===A&&typeof E=="string"&&(L=E,N=t.find(n,[L,L]),B=t.find(i,[L,L]));for(var G=[],k=0;k<x;k++){for(var $=b[k],q=B($[0],C[0]),et=1;et<F;et++)q=N(q,B($[et],C[et]));G[k]=q}return S.createDenseMatrix({data:G,size:[x],datatype:L})}function m(S,D){var b=S._data,M=S._size,E=S._datatype,C=D._data,A=D._size,x=D._datatype,F=M[0],L=M[1],N=A[1],B,G=n,k=i;E&&x&&E===x&&typeof E=="string"&&(B=E,G=t.find(n,[B,B]),k=t.find(i,[B,B]));for(var $=[],q=0;q<F;q++){var et=b[q];$[q]=[];for(var it=0;it<N;it++){for(var Z=k(et[0],C[0][it]),at=1;at<L;at++)Z=G(Z,k(et[at],C[at][it]));$[q][it]=Z}}return S.createDenseMatrix({data:$,size:[F,N],datatype:B})}function g(S,D){var b=S._data,M=S._size,E=S._datatype,C=D._values,A=D._index,x=D._ptr,F=D._size,L=D._datatype;if(!C)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var N=M[0],B=F[1],G,k=n,$=i,q=a,et=0;E&&L&&E===L&&typeof E=="string"&&(G=E,k=t.find(n,[G,G]),$=t.find(i,[G,G]),q=t.find(a,[G,G]),et=t.convert(0,G));for(var it=[],Z=[],at=[],vt=D.createSparseMatrix({values:it,index:Z,ptr:at,size:[N,B],datatype:G}),mt=0;mt<B;mt++){at[mt]=Z.length;var rt=x[mt],Wt=x[mt+1];if(Wt>rt)for(var St=0,dt=0;dt<N;dt++){for(var jt=dt+1,Tt=void 0,yt=rt;yt<Wt;yt++){var Dt=A[yt];St!==jt?(Tt=$(b[dt][Dt],C[yt]),St=jt):Tt=k(Tt,$(b[dt][Dt],C[yt]))}St===jt&&!q(Tt,et)&&(Z.push(dt),it.push(Tt))}}return at[B]=Z.length,vt}function y(S,D){var b=S._values,M=S._index,E=S._ptr,C=S._datatype;if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var A=D._data,x=D._datatype,F=S._size[0],L=D._size[0],N=[],B=[],G=[],k,$=n,q=i,et=a,it=0;C&&x&&C===x&&typeof C=="string"&&(k=C,$=t.find(n,[k,k]),q=t.find(i,[k,k]),et=t.find(a,[k,k]),it=t.convert(0,k));var Z=[],at=[];G[0]=0;for(var vt=0;vt<L;vt++){var mt=A[vt];if(!et(mt,it))for(var rt=E[vt],Wt=E[vt+1],St=rt;St<Wt;St++){var dt=M[St];at[dt]?Z[dt]=$(Z[dt],q(mt,b[St])):(at[dt]=!0,B.push(dt),Z[dt]=q(mt,b[St]))}}for(var jt=B.length,Tt=0;Tt<jt;Tt++){var yt=B[Tt];N[Tt]=Z[yt]}return G[1]=B.length,S.createSparseMatrix({values:N,index:B,ptr:G,size:[F,1],datatype:k})}function _(S,D){var b=S._values,M=S._index,E=S._ptr,C=S._datatype;if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var A=D._data,x=D._datatype,F=S._size[0],L=D._size[0],N=D._size[1],B,G=n,k=i,$=a,q=0;C&&x&&C===x&&typeof C=="string"&&(B=C,G=t.find(n,[B,B]),k=t.find(i,[B,B]),$=t.find(a,[B,B]),q=t.convert(0,B));for(var et=[],it=[],Z=[],at=S.createSparseMatrix({values:et,index:it,ptr:Z,size:[F,N],datatype:B}),vt=[],mt=[],rt=0;rt<N;rt++){Z[rt]=it.length;for(var Wt=rt+1,St=0;St<L;St++){var dt=A[St][rt];if(!$(dt,q))for(var jt=E[St],Tt=E[St+1],yt=jt;yt<Tt;yt++){var Dt=M[yt];mt[Dt]!==Wt?(mt[Dt]=Wt,it.push(Dt),vt[Dt]=k(dt,b[yt])):vt[Dt]=G(vt[Dt],k(dt,b[yt]))}}for(var te=Z[rt],_e=it.length,Mr=te;Mr<_e;Mr++){var Yn=it[Mr];et[Mr]=vt[Yn]}}return Z[N]=it.length,at}function w(S,D){var b=S._values,M=S._index,E=S._ptr,C=S._datatype,A=D._values,x=D._index,F=D._ptr,L=D._datatype,N=S._size[0],B=D._size[1],G=b&&A,k,$=n,q=i;C&&L&&C===L&&typeof C=="string"&&(k=C,$=t.find(n,[k,k]),q=t.find(i,[k,k]));for(var et=G?[]:void 0,it=[],Z=[],at=S.createSparseMatrix({values:et,index:it,ptr:Z,size:[N,B],datatype:k}),vt=G?[]:void 0,mt=[],rt,Wt,St,dt,jt,Tt,yt,Dt,te=0;te<B;te++){Z[te]=it.length;var _e=te+1;for(jt=F[te],Tt=F[te+1],dt=jt;dt<Tt;dt++)if(Dt=x[dt],G)for(Wt=E[Dt],St=E[Dt+1],rt=Wt;rt<St;rt++)yt=M[rt],mt[yt]!==_e?(mt[yt]=_e,it.push(yt),vt[yt]=q(A[dt],b[rt])):vt[yt]=$(vt[yt],q(A[dt],b[rt]));else for(Wt=E[Dt],St=E[Dt+1],rt=Wt;rt<St;rt++)yt=M[rt],mt[yt]!==_e&&(mt[yt]=_e,it.push(yt));if(G)for(var Mr=Z[te],Yn=it.length,Zn=Mr;Zn<Yn;Zn++){var Fu=it[Zn];et[Zn]=vt[Fu]}}return Z[B]=it.length,at}return t(h0,i,{"Array, Array":t.referTo("Matrix, Matrix",S=>(D,b)=>{l(xe(D),xe(b));var M=S(e(D),e(b));return Xt(M)?M.valueOf():M}),"Matrix, Matrix":function(D,b){var M=D.size(),E=b.size();return l(M,E),M.length===1?E.length===1?h(D,b,M[0]):f(D,b):E.length===1?v(D,b):d(D,b)},"Matrix, Array":t.referTo("Matrix,Matrix",S=>(D,b)=>S(D,e(b))),"Array, Matrix":t.referToSelf(S=>(D,b)=>S(e(D,b.storage()),b)),"SparseMatrix, any":function(D,b){return s(D,b,i,!1)},"DenseMatrix, any":function(D,b){return u(D,b,i,!1)},"any, SparseMatrix":function(D,b){return s(b,D,i,!0)},"any, DenseMatrix":function(D,b){return u(b,D,i,!0)},"Array, any":function(D,b){return u(e(D),b,i,!1).valueOf()},"any, Array":function(D,b){return u(e(b),D,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(S=>(D,b,M)=>{for(var E=S(D,b),C=0;C<M.length;C++)E=S(E,M[C]);return E})})}),c0="conj",B3=["typed"],L3=ct(c0,B3,r=>{var{typed:t}=r;return t(c0,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf(e=>n=>Ar(n,e))})}),v0="concat",P3=["typed","matrix","isInteger"],N3=ct(v0,P3,r=>{var{typed:t,matrix:e,isInteger:n}=r;return t(v0,{"...Array | Matrix | number | BigNumber":function(a){var o,s=a.length,u=-1,l,h=!1,f=[];for(o=0;o<s;o++){var c=a[o];if(Xt(c)&&(h=!0),Ot(c)||re(c)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(l=u,u=c.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>l)throw new qn(u,l+1)}else{var v=Ut(c).valueOf(),d=xe(v);if(f[o]=v,l=u,u=d.length-1,o>0&&u!==l)throw new It(l+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var p=f.shift();f.length;)p=b1(p,f.shift(),u);return h?e(p):p},"...string":function(a){return a.join("")}})}),p0="identity",R3=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],O3=ct(p0,R3,r=>{var{typed:t,config:e,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return t(p0,{"":function(){return e.matrix==="Matrix"?n([]):[]},string:function(h){return n(h)},"number | BigNumber":function(h){return u(h,h,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(h,f){return u(h,h,f)},"number | BigNumber, number | BigNumber":function(h,f){return u(h,f,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(h,f,c){return u(h,f,c)},Array:function(h){return s(h)},"Array, string":function(h,f){return s(h,f)},Matrix:function(h){return s(h.valueOf(),h.storage())},"Matrix, string":function(h,f){return s(h.valueOf(),f)}});function s(l,h){switch(l.length){case 0:return h?n(h):[];case 1:return u(l[0],l[0],h);case 2:return u(l[0],l[1],h);default:throw new Error("Vector containing two values expected")}}function u(l,h,f){var c=re(l)||re(h)?i:null;if(re(l)&&(l=l.toNumber()),re(h)&&(h=h.toNumber()),!Gt(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Gt(h)||h<1)throw new Error("Parameters in function identity must be positive integers");var v=c?new i(1):1,d=c?new c(0):0,p=[l,h];if(f){if(f==="sparse")return o.diagonal(p,v,0,d);if(f==="dense")return a.diagonal(p,v,0,d);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var m=th([],p,d),g=l<h?l:h,y=0;y<g;y++)m[y][y]=v;return m}});function k3(){throw new Error('No "bignumber" implementation available')}function z3(){throw new Error('No "fraction" implementation available')}function V3(){throw new Error('No "matrix" implementation available')}var d0="size",$3=["typed","config","?matrix"],G3=ct(d0,$3,r=>{var{typed:t,config:e,matrix:n}=r;return t(d0,{Matrix:function(a){return a.create(a.size())},Array:xe,string:function(a){return e.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return e.matrix==="Array"?[]:n?n([]):V3()}})}),U3="numeric",W3=["number","?bignumber","?fraction"],q3=ct(U3,W3,r=>{var{number:t,bignumber:e,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>t(o),BigNumber:e?o=>e(o):k3,Fraction:n?o=>n(o):z3};return function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var h=Fi(s);if(!(h in i))throw new TypeError("Cannot convert "+s+' of type "'+h+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+s+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===h?s:a[u](s)}}),g0="divideScalar",Y3=["typed","numeric"],Z3=ct(g0,Y3,r=>{var{typed:t,numeric:e}=r;return t(g0,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),m0="pow",H3=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],X3=ct(m0,H3,r=>{var{typed:t,config:e,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:u,Complex:l}=r;return t(m0,{"number, number":h,"Complex, Complex":function(d,p){return d.pow(p)},"BigNumber, BigNumber":function(d,p){return p.isInteger()||d>=0||e.predictable?d.pow(p):new l(d.toNumber(),0).pow(p.toNumber(),0)},"Fraction, Fraction":function(d,p){var m=d.pow(p);if(m!=null)return m;if(e.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return h(d.valueOf(),p.valueOf())},"Array, number":f,"Array, BigNumber":function(d,p){return f(d,p.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(d,p){return c(d,p.toNumber())},"Unit, number | BigNumber":function(d,p){return d.pow(p)}});function h(v,d){if(e.predictable&&!Gt(d)&&v<0)try{var p=u(d),m=s(p);if((d===m||Math.abs((d-m)/d)<1e-14)&&p.d%2===1)return(p.n%2===0?1:-1)*Math.pow(-v,d)}catch{}return e.predictable&&(v<-1&&d===1/0||v>-1&&v<0&&d===-1/0)?NaN:Gt(d)||v>=0||e.predictable?j1(v,d):v*v<1&&d===1/0||v*v>1&&d===-1/0?0:new l(v,0).pow(d,0)}function f(v,d){if(!Gt(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var p=xe(v);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(d<0)try{return f(o(v),-d)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):y}for(var m=n(p[0]).valueOf(),g=v;d>=1;)(d&1)===1&&(m=i(g,m)),d>>=1,g=i(g,g);return m}function c(v,d){return a(f(v.valueOf(),d))}}),y0="add",j3=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],K3=ct(y0,j3,r=>{var{typed:t,matrix:e,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=r,u=w3({typed:t}),l=C3({typed:t,equalScalar:i}),h=M3({typed:t,DenseMatrix:a}),f=m3({typed:t,matrix:e,concat:s});return t(y0,{"any, any":n,"any, any, ...any":t.referToSelf(c=>(v,d,p)=>{for(var m=c(v,d),g=0;g<p.length;g++)m=c(m,p[g]);return m})},f({elop:n,DS:u,SS:l,Ss:h}))}),_0="dot",Q3=["typed","addScalar","multiplyScalar","conj","size"],J3=ct(_0,Q3,r=>{var{typed:t,addScalar:e,multiplyScalar:n,conj:i,size:a}=r;return t(_0,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":u});function o(h,f){var c=l(h),v=l(f),d,p;if(c.length===1)d=c[0];else if(c.length===2&&c[1]===1)d=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(v.length===1)p=v[0];else if(v.length===2&&v[1]===1)p=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(d!==p)throw new RangeError("Vectors must have equal length ("+d+" != "+p+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function s(h,f){var c=o(h,f),v=Xt(h)?h._data:h,d=Xt(h)?h._datatype:void 0,p=Xt(f)?f._data:f,m=Xt(f)?f._datatype:void 0,g=l(h).length===2,y=l(f).length===2,_=e,w=n;if(d&&m&&d===m&&typeof d=="string"){var S=d;_=t.find(e,[S,S]),w=t.find(n,[S,S])}if(!g&&!y){for(var D=w(i(v[0]),p[0]),b=1;b<c;b++)D=_(D,w(i(v[b]),p[b]));return D}if(!g&&y){for(var M=w(i(v[0]),p[0][0]),E=1;E<c;E++)M=_(M,w(i(v[E]),p[E][0]));return M}if(g&&!y){for(var C=w(i(v[0][0]),p[0]),A=1;A<c;A++)C=_(C,w(i(v[A][0]),p[A]));return C}if(g&&y){for(var x=w(i(v[0][0]),p[0][0]),F=1;F<c;F++)x=_(x,w(i(v[F][0]),p[F][0]));return x}}function u(h,f){o(h,f);for(var c=h._index,v=h._values,d=f._index,p=f._values,m=0,g=e,y=n,_=0,w=0;_<c.length&&w<d.length;){var S=c[_],D=d[w];if(S<D){_++;continue}if(S>D){w++;continue}S===D&&(m=g(m,y(v[_],p[w])),_++,w++)}return m}function l(h){return Xt(h)?h.size():a(h)}}),w0="det",tL=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],eL=ct(w0,tL,r=>{var{typed:t,matrix:e,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=r;return t(w0,{any:function(h){return Ut(h)},"Array | Matrix":function(h){var f;switch(Xt(h)?f=h.size():Array.isArray(h)?(h=e(h),f=h.size()):f=[],f.length){case 0:return Ut(h);case 1:if(f[0]===1)return Ut(h.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ht(f)+")");case 2:{var c=f[0],v=f[1];if(c===v)return u(h.clone().valueOf(),c);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+Ht(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ht(f)+")")}}});function u(l,h,f){if(h===1)return Ut(l[0][0]);if(h===2)return n(i(l[0][0],l[1][1]),i(l[1][0],l[0][1]));for(var c=!1,v=new Array(h).fill(0).map((b,M)=>M),d=0;d<h;d++){var p=v[d];if(o(l[p][d])){var m=void 0;for(m=d+1;m<h;m++)if(!o(l[v[m]][d])){p=v[m],v[m]=v[d],v[d]=p,c=!c;break}if(m===h)return l[p][d]}for(var g=l[p][d],y=d===0?1:l[v[d-1]][d-1],_=d+1;_<h;_++)for(var w=v[_],S=d+1;S<h;S++)l[w][S]=a(n(i(l[w][S],g),i(l[w][d],l[p][S])),y)}var D=l[v[h-1]][h-1];return c?s(D):D}}),D0="inv",rL=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],nL=ct(D0,rL,r=>{var{typed:t,matrix:e,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:u,abs:l}=r;return t(D0,{"Array | Matrix":function(c){var v=Xt(c)?c.size():xe(c);switch(v.length){case 1:if(v[0]===1)return Xt(c)?e([n(1,c.valueOf()[0])]):[n(1,c[0])];throw new RangeError("Matrix must be square (size: "+Ht(v)+")");case 2:{var d=v[0],p=v[1];if(d===p)return Xt(c)?e(h(c.valueOf(),d,p),c.storage()):h(c,d,p);throw new RangeError("Matrix must be square (size: "+Ht(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ht(v)+")")}},any:function(c){return n(1,c)}});function h(f,c,v){var d,p,m,g,y;if(c===1){if(g=f[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,g)]]}else if(c===2){var _=s(f);if(_===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],_),n(o(f[0][1]),_)],[n(o(f[1][0]),_),n(f[0][0],_)]]}else{var w=f.concat();for(d=0;d<c;d++)w[d]=w[d].concat();for(var S=u(c).valueOf(),D=0;D<v;D++){var b=l(w[D][D]),M=D;for(d=D+1;d<c;)l(w[d][D])>b&&(b=l(w[d][D]),M=d),d++;if(b===0)throw Error("Cannot calculate inverse, determinant is zero");d=M,d!==D&&(y=w[D],w[D]=w[d],w[d]=y,y=S[D],S[D]=S[d],S[d]=y);var E=w[D],C=S[D];for(d=0;d<c;d++){var A=w[d],x=S[d];if(d!==D){if(A[D]!==0){for(m=n(o(A[D]),E[D]),p=D;p<v;p++)A[p]=i(A[p],a(m,E[p]));for(p=0;p<v;p++)x[p]=i(x[p],a(m,C[p]))}}else{for(m=E[D],p=D;p<v;p++)A[p]=n(A[p],m);for(p=0;p<v;p++)x[p]=n(x[p],m)}}}return S}}}),vc=o5({config:Xi}),pc=f5({}),J1=p5({}),dc=m5({}),bu=w5({Matrix:dc}),Rt=lB({BigNumber:vc,Complex:pc,DenseMatrix:bu,Fraction:J1}),iL=J5({typed:Rt}),Au=e3({typed:Rt}),aL=$5({BigNumber:vc,typed:Rt}),gc=W5({Complex:pc,typed:Rt}),oL=L3({typed:Rt}),mc=F5({config:Xi,typed:Rt}),sL=S5({typed:Rt}),uL=A5({typed:Rt}),t_=T3({typed:Rt}),e_=k5({typed:Rt}),yc=L5({Matrix:dc,equalScalar:mc,typed:Rt}),lL=n3({typed:Rt}),r_=K5({typed:Rt}),n_=Z5({Fraction:J1,typed:Rt}),on=X5({DenseMatrix:bu,Matrix:dc,SparseMatrix:yc,typed:Rt}),fL=q3({bignumber:aL,fraction:n_,number:e_}),hL=G3({matrix:on,config:Xi,typed:Rt}),cL=N3({isInteger:sL,matrix:on,typed:Rt}),i_=Z3({numeric:fL,typed:Rt}),a_=O3({BigNumber:vc,DenseMatrix:bu,SparseMatrix:yc,config:Xi,matrix:on,typed:Rt}),vL=K3({DenseMatrix:bu,SparseMatrix:yc,addScalar:Au,concat:cL,equalScalar:mc,matrix:on,typed:Rt}),pL=J3({addScalar:Au,conj:oL,multiplyScalar:t_,size:hL,typed:Rt}),Mu=I3({addScalar:Au,dot:pL,equalScalar:mc,matrix:on,multiplyScalar:t_,typed:Rt}),dL=eL({divideScalar:i_,isZero:uL,matrix:on,multiply:Mu,subtractScalar:lL,typed:Rt,unaryMinus:r_}),gL=nL({abs:iL,addScalar:Au,det:dL,divideScalar:i_,identity:a_,matrix:on,multiply:Mu,typed:Rt,unaryMinus:r_}),mL=X3({Complex:pc,config:Xi,fraction:n_,identity:a_,inv:gL,matrix:on,multiply:Mu,number:e_,typed:Rt}),wt={};const yL=Object.prototype.toString;function ro(r){const t=yL.call(r);return t.endsWith("Array]")&&!t.includes("Big")}const _L=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:ro},Symbol.toStringTag,{value:"Module"})),wL=V1(_L);function DL(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ro(r))throw new TypeError("input must be an array");if(r.length===0)throw new TypeError("input must not be empty");var e=t.fromIndex,n=e===void 0?0:e,i=t.toIndex,a=i===void 0?r.length:i;if(n<0||n>=r.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>r.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=r[n],s=n+1;s<a;s++)r[s]>o&&(o=r[s]);return o}function SL(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ro(r))throw new TypeError("input must be an array");if(r.length===0)throw new TypeError("input must not be empty");var e=t.fromIndex,n=e===void 0?0:e,i=t.toIndex,a=i===void 0?r.length:i;if(n<0||n>=r.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>r.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=r[n],s=n+1;s<a;s++)r[s]<o&&(o=r[s]);return o}function CL(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ro(r)){if(r.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var e;if(t.output!==void 0){if(!ro(t.output))throw new TypeError("output option must be an array if specified");e=t.output}else e=new Array(r.length);var n=SL(r),i=DL(r);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,o=a===void 0?t.autoMinMax?n:0:a,s=t.max,u=s===void 0?t.autoMinMax?i:1:s;if(o>=u)throw new RangeError("min option must be smaller than max option");for(var l=(u-o)/(i-n),h=0;h<r.length;h++)e[h]=(r[h]-n)*l+o;return e}const bL=Object.freeze(Object.defineProperty({__proto__:null,default:CL},Symbol.toStringTag,{value:"Module"})),AL=V1(bL);Object.defineProperty(wt,"__esModule",{value:!0});var be=wL,S0=AL;const Jo=" ".repeat(2),o_=" ".repeat(4);function ML(){return s_(this)}function s_(r,t={}){const{maxRows:e=15,maxColumns:n=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${r.constructor.name} {
${Jo}[
${o_}${EL(r,e,n,i,a)}
${Jo}]
${Jo}rows: ${r.rows}
${Jo}columns: ${r.columns}
}`}function EL(r,t,e,n,i){const{rows:a,columns:o}=r,s=Math.min(a,t),u=Math.min(o,e),l=[];if(i==="auto"){i=!1;t:for(let h=0;h<s;h++)for(let f=0;f<u;f++)if(r.get(h,f)<0){i=!0;break t}}for(let h=0;h<s;h++){let f=[];for(let c=0;c<u;c++)f.push(xL(r.get(h,c),n,i));l.push(`${f.join(" ")}`)}return u!==o&&(l[l.length-1]+=` ... ${o-e} more columns`),s!==a&&l.push(`... ${a-t} more rows`),l.join(`
${o_}`)}function xL(r,t,e){return(r>=0&&e?` ${C0(r,t-1)}`:C0(r,t)).padEnd(t)}function C0(r,t){let e=r.toString();if(e.length<=t)return e;let n=r.toFixed(t);if(n.length>t&&(n=r.toFixed(Math.max(0,t-(n.length-t)))),n.length<=t&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let i=r.toExponential(t);return i.length>t&&(i=r.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function TL(r,t){r.prototype.add=function(n){return typeof n=="number"?this.addS(n):this.addM(n)},r.prototype.addS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+n);return this},r.prototype.addM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+n.get(i,a));return this},r.add=function(n,i){return new t(n).add(i)},r.prototype.sub=function(n){return typeof n=="number"?this.subS(n):this.subM(n)},r.prototype.subS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-n);return this},r.prototype.subM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-n.get(i,a));return this},r.sub=function(n,i){return new t(n).sub(i)},r.prototype.subtract=r.prototype.sub,r.prototype.subtractS=r.prototype.subS,r.prototype.subtractM=r.prototype.subM,r.subtract=r.sub,r.prototype.mul=function(n){return typeof n=="number"?this.mulS(n):this.mulM(n)},r.prototype.mulS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*n);return this},r.prototype.mulM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*n.get(i,a));return this},r.mul=function(n,i){return new t(n).mul(i)},r.prototype.multiply=r.prototype.mul,r.prototype.multiplyS=r.prototype.mulS,r.prototype.multiplyM=r.prototype.mulM,r.multiply=r.mul,r.prototype.div=function(n){return typeof n=="number"?this.divS(n):this.divM(n)},r.prototype.divS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/n);return this},r.prototype.divM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/n.get(i,a));return this},r.div=function(n,i){return new t(n).div(i)},r.prototype.divide=r.prototype.div,r.prototype.divideS=r.prototype.divS,r.prototype.divideM=r.prototype.divM,r.divide=r.div,r.prototype.mod=function(n){return typeof n=="number"?this.modS(n):this.modM(n)},r.prototype.modS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%n);return this},r.prototype.modM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%n.get(i,a));return this},r.mod=function(n,i){return new t(n).mod(i)},r.prototype.modulus=r.prototype.mod,r.prototype.modulusS=r.prototype.modS,r.prototype.modulusM=r.prototype.modM,r.modulus=r.mod,r.prototype.and=function(n){return typeof n=="number"?this.andS(n):this.andM(n)},r.prototype.andS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&n);return this},r.prototype.andM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&n.get(i,a));return this},r.and=function(n,i){return new t(n).and(i)},r.prototype.or=function(n){return typeof n=="number"?this.orS(n):this.orM(n)},r.prototype.orS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|n);return this},r.prototype.orM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|n.get(i,a));return this},r.or=function(n,i){return new t(n).or(i)},r.prototype.xor=function(n){return typeof n=="number"?this.xorS(n):this.xorM(n)},r.prototype.xorS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^n);return this},r.prototype.xorM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^n.get(i,a));return this},r.xor=function(n,i){return new t(n).xor(i)},r.prototype.leftShift=function(n){return typeof n=="number"?this.leftShiftS(n):this.leftShiftM(n)},r.prototype.leftShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<n);return this},r.prototype.leftShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<n.get(i,a));return this},r.leftShift=function(n,i){return new t(n).leftShift(i)},r.prototype.signPropagatingRightShift=function(n){return typeof n=="number"?this.signPropagatingRightShiftS(n):this.signPropagatingRightShiftM(n)},r.prototype.signPropagatingRightShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>n);return this},r.prototype.signPropagatingRightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>n.get(i,a));return this},r.signPropagatingRightShift=function(n,i){return new t(n).signPropagatingRightShift(i)},r.prototype.rightShift=function(n){return typeof n=="number"?this.rightShiftS(n):this.rightShiftM(n)},r.prototype.rightShiftS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>n);return this},r.prototype.rightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>n.get(i,a));return this},r.rightShift=function(n,i){return new t(n).rightShift(i)},r.prototype.zeroFillRightShift=r.prototype.rightShift,r.prototype.zeroFillRightShiftS=r.prototype.rightShiftS,r.prototype.zeroFillRightShiftM=r.prototype.rightShiftM,r.zeroFillRightShift=r.rightShift,r.prototype.not=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,~this.get(n,i));return this},r.not=function(n){return new t(n).not()},r.prototype.abs=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.abs(this.get(n,i)));return this},r.abs=function(n){return new t(n).abs()},r.prototype.acos=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.acos(this.get(n,i)));return this},r.acos=function(n){return new t(n).acos()},r.prototype.acosh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.acosh(this.get(n,i)));return this},r.acosh=function(n){return new t(n).acosh()},r.prototype.asin=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.asin(this.get(n,i)));return this},r.asin=function(n){return new t(n).asin()},r.prototype.asinh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.asinh(this.get(n,i)));return this},r.asinh=function(n){return new t(n).asinh()},r.prototype.atan=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.atan(this.get(n,i)));return this},r.atan=function(n){return new t(n).atan()},r.prototype.atanh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.atanh(this.get(n,i)));return this},r.atanh=function(n){return new t(n).atanh()},r.prototype.cbrt=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cbrt(this.get(n,i)));return this},r.cbrt=function(n){return new t(n).cbrt()},r.prototype.ceil=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.ceil(this.get(n,i)));return this},r.ceil=function(n){return new t(n).ceil()},r.prototype.clz32=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.clz32(this.get(n,i)));return this},r.clz32=function(n){return new t(n).clz32()},r.prototype.cos=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cos(this.get(n,i)));return this},r.cos=function(n){return new t(n).cos()},r.prototype.cosh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.cosh(this.get(n,i)));return this},r.cosh=function(n){return new t(n).cosh()},r.prototype.exp=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.exp(this.get(n,i)));return this},r.exp=function(n){return new t(n).exp()},r.prototype.expm1=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.expm1(this.get(n,i)));return this},r.expm1=function(n){return new t(n).expm1()},r.prototype.floor=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.floor(this.get(n,i)));return this},r.floor=function(n){return new t(n).floor()},r.prototype.fround=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.fround(this.get(n,i)));return this},r.fround=function(n){return new t(n).fround()},r.prototype.log=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log(this.get(n,i)));return this},r.log=function(n){return new t(n).log()},r.prototype.log1p=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log1p(this.get(n,i)));return this},r.log1p=function(n){return new t(n).log1p()},r.prototype.log10=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log10(this.get(n,i)));return this},r.log10=function(n){return new t(n).log10()},r.prototype.log2=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.log2(this.get(n,i)));return this},r.log2=function(n){return new t(n).log2()},r.prototype.round=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.round(this.get(n,i)));return this},r.round=function(n){return new t(n).round()},r.prototype.sign=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sign(this.get(n,i)));return this},r.sign=function(n){return new t(n).sign()},r.prototype.sin=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sin(this.get(n,i)));return this},r.sin=function(n){return new t(n).sin()},r.prototype.sinh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sinh(this.get(n,i)));return this},r.sinh=function(n){return new t(n).sinh()},r.prototype.sqrt=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.sqrt(this.get(n,i)));return this},r.sqrt=function(n){return new t(n).sqrt()},r.prototype.tan=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.tan(this.get(n,i)));return this},r.tan=function(n){return new t(n).tan()},r.prototype.tanh=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.tanh(this.get(n,i)));return this},r.tanh=function(n){return new t(n).tanh()},r.prototype.trunc=function(){for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.set(n,i,Math.trunc(this.get(n,i)));return this},r.trunc=function(n){return new t(n).trunc()},r.pow=function(n,i){return new t(n).pow(i)},r.prototype.pow=function(n){return typeof n=="number"?this.powS(n):this.powM(n)},r.prototype.powS=function(n){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),n));return this},r.prototype.powM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),n.get(i,a)));return this}}function qe(r,t,e){let n=e?r.rows:r.rows-1;if(t<0||t>n)throw new RangeError("Row index out of range")}function Ye(r,t,e){let n=e?r.columns:r.columns-1;if(t<0||t>n)throw new RangeError("Column index out of range")}function pi(r,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==r.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function di(r,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==r.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function _c(r,t){if(!be.isAnyArray(t))throw new TypeError("row indices must be an array");for(let e=0;e<t.length;e++)if(t[e]<0||t[e]>=r.rows)throw new RangeError("row indices are out of range")}function wc(r,t){if(!be.isAnyArray(t))throw new TypeError("column indices must be an array");for(let e=0;e<t.length;e++)if(t[e]<0||t[e]>=r.columns)throw new RangeError("column indices are out of range")}function sh(r,t,e,n,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ts("startRow",t),ts("endRow",e),ts("startColumn",n),ts("endColumn",i),t>e||n>i||t<0||t>=r.rows||e<0||e>=r.rows||n<0||n>=r.columns||i<0||i>=r.columns)throw new RangeError("Submatrix indices are out of range")}function Eu(r,t=0){let e=[];for(let n=0;n<r;n++)e.push(t);return e}function ts(r,t){if(typeof t!="number")throw new TypeError(`${r} must be a number`)}function fi(r){if(r.isEmpty())throw new Error("Empty matrix has no elements to index")}function FL(r){let t=Eu(r.rows);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[e]+=r.get(e,n);return t}function IL(r){let t=Eu(r.columns);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[n]+=r.get(e,n);return t}function BL(r){let t=0;for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)t+=r.get(e,n);return t}function LL(r){let t=Eu(r.rows,1);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[e]*=r.get(e,n);return t}function PL(r){let t=Eu(r.columns,1);for(let e=0;e<r.rows;++e)for(let n=0;n<r.columns;++n)t[n]*=r.get(e,n);return t}function NL(r){let t=1;for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)t*=r.get(e,n);return t}function RL(r,t,e){const n=r.rows,i=r.columns,a=[];for(let o=0;o<n;o++){let s=0,u=0,l=0;for(let h=0;h<i;h++)l=r.get(o,h)-e[o],s+=l,u+=l*l;t?a.push((u-s*s/i)/(i-1)):a.push((u-s*s/i)/i)}return a}function OL(r,t,e){const n=r.rows,i=r.columns,a=[];for(let o=0;o<i;o++){let s=0,u=0,l=0;for(let h=0;h<n;h++)l=r.get(h,o)-e[o],s+=l,u+=l*l;t?a.push((u-s*s/n)/(n-1)):a.push((u-s*s/n)/n)}return a}function kL(r,t,e){const n=r.rows,i=r.columns,a=n*i;let o=0,s=0,u=0;for(let l=0;l<n;l++)for(let h=0;h<i;h++)u=r.get(l,h)-e,o+=u,s+=u*u;return t?(s-o*o/a)/(a-1):(s-o*o/a)/a}function zL(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)-t[e])}function VL(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)-t[n])}function $L(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)-t)}function GL(r){const t=[];for(let e=0;e<r.rows;e++){let n=0;for(let i=0;i<r.columns;i++)n+=Math.pow(r.get(e,i),2)/(r.columns-1);t.push(Math.sqrt(n))}return t}function UL(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)/t[e])}function WL(r){const t=[];for(let e=0;e<r.columns;e++){let n=0;for(let i=0;i<r.rows;i++)n+=Math.pow(r.get(i,e),2)/(r.rows-1);t.push(Math.sqrt(n))}return t}function qL(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)/t[n])}function YL(r){const t=r.size-1;let e=0;for(let n=0;n<r.columns;n++)for(let i=0;i<r.rows;i++)e+=Math.pow(r.get(i,n),2)/t;return Math.sqrt(e)}function ZL(r,t){for(let e=0;e<r.rows;e++)for(let n=0;n<r.columns;n++)r.set(e,n,r.get(e,n)/t)}class ht{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let a=new H(t,e);for(let o=0;o<t;o++)for(let s=0;s<e;s++)a.set(o,s,n[o*e+s]);return a}static rowVector(t){let e=new H(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new H(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new H(t,e)}static ones(t,e){return new H(t,e).fill(1)}static rand(t,e,n={}){if(typeof n!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=n;let a=new H(t,e);for(let o=0;o<t;o++)for(let s=0;s<e;s++)a.set(o,s,i());return a}static randInt(t,e,n={}){if(typeof n!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:o=Math.random}=n;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let s=a-i,u=new H(t,e);for(let l=0;l<t;l++)for(let h=0;h<e;h++){let f=i+Math.round(o()*s);u.set(l,h,f)}return u}static eye(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);let i=Math.min(t,e),a=this.zeros(t,e);for(let o=0;o<i;o++)a.set(o,o,n);return a}static diag(t,e,n){let i=t.length;e===void 0&&(e=i),n===void 0&&(n=e);let a=Math.min(i,e,n),o=this.zeros(e,n);for(let s=0;s<a;s++)o.set(s,s,t[s]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,i=t.columns,a=new H(n,i);for(let o=0;o<n;o++)for(let s=0;s<i;s++)a.set(o,s,Math.min(t.get(o,s),e.get(o,s)));return a}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,i=t.columns,a=new this(n,i);for(let o=0;o<n;o++)for(let s=0;s<i;s++)a.set(o,s,Math.max(t.get(o,s),e.get(o,s)));return a}static checkMatrix(t){return ht.isMatrix(t)?t:new H(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(this.get(t,t)!==0)return!1;return!0}isEchelonForm(){let t=0,e=0,n=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(e=0,a=!1;e<this.columns&&a===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(a=!0,n=e):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,e=0,n=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(e=0,a=!1;e<this.columns&&a===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(a=!0,n=e):(i=!1,a=!0);for(let o=e+1;o<this.rows;o++)this.get(t,o)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let i=e;for(let a=e;a<t.rows;a++)t.get(a,n)>t.get(i,n)&&(i=a);if(t.get(i,n)===0)n++;else{t.swapRows(e,i);let a=t.get(e,n);for(let o=n;o<t.columns;o++)t.set(e,o,t.get(e,o)/a);for(let o=e+1;o<t.rows;o++){let s=t.get(o,n)/t.get(e,n);t.set(o,n,0);for(let u=n+1;u<t.columns;u++)t.set(o,u,t.get(o,u)-t.get(e,u)*s)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,i=n-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,o=!1;for(;a<n&&o===!1;)t.get(i,a)===1?o=!0:a++;for(let s=0;s<i;s++){let u=t.get(s,a);for(let l=a;l<e;l++){let h=t.get(s,l)-u*t.get(i,l);t.set(s,l,h)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let i=new H(this.rows*e,this.columns*n);for(let a=0;a<e;a++)for(let o=0;o<n;o++)i.setSubMatrix(this,this.rows*a,this.columns*o);return i}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){qe(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return H.rowVector(this.getRow(t))}setRow(t,e){qe(this,t),e=pi(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){qe(this,t),qe(this,e);for(let n=0;n<this.columns;n++){let i=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,i)}return this}getColumn(t){Ye(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return H.columnVector(this.getColumn(t))}setColumn(t,e){Ye(this,t),e=di(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){Ye(this,t),Ye(this,e);for(let n=0;n<this.rows;n++){let i=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,i)}return this}addRowVector(t){t=pi(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=pi(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=pi(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=pi(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=di(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=di(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=di(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=di(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){qe(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){Ye(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>e[n]&&(e[n]=this.get(n,i));return e}case"column":{const e=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>e[i]&&(e[i]=this.get(n,i));return e}case void 0:{let e=this.get(0,0);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>e&&(e=this.get(n,i));return e}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){fi(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)>t&&(t=this.get(n,i),e[0]=n,e[1]=i);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const e=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<e[n]&&(e[n]=this.get(n,i));return e}case"column":{const e=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<e[i]&&(e[i]=this.get(n,i));return e}case void 0:{let e=this.get(0,0);for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<e&&(e=this.get(n,i));return e}default:throw new Error(`invalid option: ${t}`)}}minIndex(){fi(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let i=0;i<this.columns;i++)this.get(n,i)<t&&(t=this.get(n,i),e[0]=n,e[1]=i);return e}maxRow(t){if(qe(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){qe(this,t),fi(this);let e=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i),n[1]=i);return n}minRow(t){if(qe(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){qe(this,t),fi(this);let e=this.get(t,0),n=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i),n[1]=i);return n}maxColumn(t){if(Ye(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){Ye(this,t),fi(this);let e=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>e&&(e=this.get(i,t),n[0]=i);return n}minColumn(t){if(Ye(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){Ye(this,t),fi(this);let e=this.get(0,t),n=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<e&&(e=this.get(i,t),n[0]=i);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){ht.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let i=0;i<e.length;i++)n+=e[i]*t[i];return n}mmul(t){t=H.checkMatrix(t);let e=this.rows,n=this.columns,i=t.columns,a=new H(e,i),o=new Float64Array(n);for(let s=0;s<i;s++){for(let u=0;u<n;u++)o[u]=t.get(u,s);for(let u=0;u<e;u++){let l=0;for(let h=0;h<n;h++)l+=this.get(u,h)*o[h];a.set(u,s,l)}}return a}strassen2x2(t){t=H.checkMatrix(t);let e=new H(2,2);const n=this.get(0,0),i=t.get(0,0),a=this.get(0,1),o=t.get(0,1),s=this.get(1,0),u=t.get(1,0),l=this.get(1,1),h=t.get(1,1),f=(n+l)*(i+h),c=(s+l)*i,v=n*(o-h),d=l*(u-i),p=(n+a)*h,m=(s-n)*(i+o),g=(a-l)*(u+h),y=f+d-p+g,_=v+p,w=c+d,S=f-c+v+m;return e.set(0,0,y),e.set(0,1,_),e.set(1,0,w),e.set(1,1,S),e}strassen3x3(t){t=H.checkMatrix(t);let e=new H(3,3);const n=this.get(0,0),i=this.get(0,1),a=this.get(0,2),o=this.get(1,0),s=this.get(1,1),u=this.get(1,2),l=this.get(2,0),h=this.get(2,1),f=this.get(2,2),c=t.get(0,0),v=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),y=t.get(2,0),_=t.get(2,1),w=t.get(2,2),S=(n+i+a-o-s-h-f)*m,D=(n-o)*(-v+m),b=s*(-c+v+p-m-g-y+w),M=(-n+o+s)*(c-v+m),E=(o+s)*(-c+v),C=n*c,A=(-n+l+h)*(c-d+g),x=(-n+l)*(d-g),F=(l+h)*(-c+d),L=(n+i+a-s-u-l-h)*g,N=h*(-c+d+p-m-g-y+_),B=(-a+h+f)*(m+y-_),G=(a-f)*(m-_),k=a*y,$=(h+f)*(-y+_),q=(-a+s+u)*(g+y-w),et=(a-u)*(g-w),it=(s+u)*(-y+w),Z=i*p,at=u*_,vt=o*d,mt=l*v,rt=f*w,Wt=C+k+Z,St=S+M+E+C+B+k+$,dt=C+A+F+L+k+q+it,jt=D+b+M+C+k+q+et,Tt=D+M+E+C+at,yt=k+q+et+it+vt,Dt=C+A+x+N+B+G+k,te=B+G+k+$+mt,_e=C+A+x+F+rt;return e.set(0,0,Wt),e.set(0,1,St),e.set(0,2,dt),e.set(1,0,jt),e.set(1,1,Tt),e.set(1,2,yt),e.set(2,0,Dt),e.set(2,1,te),e.set(2,2,_e),e}mmulStrassen(t){t=H.checkMatrix(t);let e=this.clone(),n=e.rows,i=e.columns,a=t.rows,o=t.columns;i!==a&&console.warn(`Multiplying ${n} x ${i} and ${a} x ${o} matrix: dimensions do not match.`);function s(f,c,v){let d=f.rows,p=f.columns;if(d===c&&p===v)return f;{let m=ht.zeros(c,v);return m=m.setSubMatrix(f,0,0),m}}let u=Math.max(n,a),l=Math.max(i,o);e=s(e,u,l),t=s(t,u,l);function h(f,c,v,d){if(v<=512||d<=512)return f.mmul(c);v%2===1&&d%2===1?(f=s(f,v+1,d+1),c=s(c,v+1,d+1)):v%2===1?(f=s(f,v+1,d),c=s(c,v+1,d)):d%2===1&&(f=s(f,v,d+1),c=s(c,v,d+1));let p=parseInt(f.rows/2,10),m=parseInt(f.columns/2,10),g=f.subMatrix(0,p-1,0,m-1),y=c.subMatrix(0,p-1,0,m-1),_=f.subMatrix(0,p-1,m,f.columns-1),w=c.subMatrix(0,p-1,m,c.columns-1),S=f.subMatrix(p,f.rows-1,0,m-1),D=c.subMatrix(p,c.rows-1,0,m-1),b=f.subMatrix(p,f.rows-1,m,f.columns-1),M=c.subMatrix(p,c.rows-1,m,c.columns-1),E=h(ht.add(g,b),ht.add(y,M),p,m),C=h(ht.add(S,b),y,p,m),A=h(g,ht.sub(w,M),p,m),x=h(b,ht.sub(D,y),p,m),F=h(ht.add(g,_),M,p,m),L=h(ht.sub(S,g),ht.add(y,w),p,m),N=h(ht.sub(_,b),ht.add(D,M),p,m),B=ht.add(E,x);B.sub(F),B.add(N);let G=ht.add(A,F),k=ht.add(C,x),$=ht.sub(E,C);$.add(A),$.add(L);let q=ht.zeros(2*B.rows,2*B.columns);return q=q.setSubMatrix(B,0,0),q=q.setSubMatrix(G,B.rows,0),q=q.setSubMatrix(k,0,B.columns),q=q.setSubMatrix($,B.rows,B.columns),q.subMatrix(0,v-1,0,d-1)}return h(e,t,u,l)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let i=new H(this.rows,this.columns);for(let a=0;a<this.rows;a++){const o=this.getRow(a);o.length>0&&S0(o,{min:e,max:n,output:o}),i.setRow(a,o)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let i=new H(this.rows,this.columns);for(let a=0;a<this.columns;a++){const o=this.getColumn(a);o.length&&S0(o,{min:e,max:n,output:o}),i.setColumn(a,o)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let i=this.get(e,n),a=this.get(e,this.columns-1-n);this.set(e,n,a),this.set(e,this.columns-1-n,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let i=this.get(n,e),a=this.get(this.rows-1-n,e);this.set(n,e,a),this.set(this.rows-1-n,e,i)}return this}kroneckerProduct(t){t=H.checkMatrix(t);let e=this.rows,n=this.columns,i=t.rows,a=t.columns,o=new H(e*i,n*a);for(let s=0;s<e;s++)for(let u=0;u<n;u++)for(let l=0;l<i;l++)for(let h=0;h<a;h++)o.set(i*s+l,a*u+h,this.get(s,u)*t.get(l,h));return o}kroneckerSum(t){if(t=H.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,i=this.kroneckerProduct(H.eye(n,n)),a=H.eye(e,e).kroneckerProduct(t);return i.add(a)}transpose(){let t=new H(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=b0){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=b0){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,i){sh(this,t,e,n,i);let a=new H(e-t+1,i-n+1);for(let o=t;o<=e;o++)for(let s=n;s<=i;s++)a.set(o-t,s-n,this.get(o,s));return a}subMatrixRow(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let i=new H(t.length,n-e+1);for(let a=0;a<t.length;a++)for(let o=e;o<=n;o++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,o-e,this.get(t[a],o))}return i}subMatrixColumn(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let i=new H(n-e+1,t.length);for(let a=0;a<t.length;a++)for(let o=e;o<=n;o++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(o-e,a,this.get(o,t[a]))}return i}setSubMatrix(t,e,n){if(t=H.checkMatrix(t),t.isEmpty())return this;let i=e+t.rows-1,a=n+t.columns-1;sh(this,e,i,n,a);for(let o=0;o<t.rows;o++)for(let s=0;s<t.columns;s++)this.set(e+o,n+s,t.get(o,s));return this}selection(t,e){_c(this,t),wc(this,e);let n=new H(t.length,e.length);for(let i=0;i<t.length;i++){let a=t[i];for(let o=0;o<e.length;o++){let s=e[o];n.set(i,o,this.get(a,s))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){return this.constructor.copy(this,new H(this.rows,this.columns))}static copy(t,e){for(const[n,i,a]of t.entries())e.set(n,i,a);return e}sum(t){switch(t){case"row":return FL(this);case"column":return IL(this);case void 0:return BL(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return LL(this);case"column":return PL(this);case void 0:return NL(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":{for(let n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(let n=0;n<this.columns;n++)e[n]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");const{unbiased:n=!0,mean:i=this.mean(t)}=e;if(typeof n!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!be.isAnyArray(i))throw new TypeError("mean must be an array");return RL(this,n,i)}case"column":{if(!be.isAnyArray(i))throw new TypeError("mean must be an array");return OL(this,n,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return kL(this,n,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){typeof t=="object"&&(e=t,t=void 0);const n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(let i=0;i<n.length;i++)n[i]=Math.sqrt(n[i]);return n}center(t,e={}){if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":{if(!be.isAnyArray(n))throw new TypeError("center must be an array");return zL(this,n),this}case"column":{if(!be.isAnyArray(n))throw new TypeError("center must be an array");return VL(this,n),this}case void 0:{if(typeof n!="number")throw new TypeError("center must be a number");return $L(this,n),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":{if(n===void 0)n=GL(this);else if(!be.isAnyArray(n))throw new TypeError("scale must be an array");return UL(this,n),this}case"column":{if(n===void 0)n=WL(this);else if(!be.isAnyArray(n))throw new TypeError("scale must be an array");return qL(this,n),this}case void 0:{if(n===void 0)n=YL(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return ZL(this,n),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return s_(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}ht.prototype.klass="Matrix";typeof Symbol<"u"&&(ht.prototype[Symbol.for("nodejs.util.inspect.custom")]=ML);function b0(r,t){return r-t}function HL(r){return r.every(t=>typeof t=="number")}ht.random=ht.rand;ht.randomInt=ht.randInt;ht.diagonal=ht.diag;ht.prototype.diagonal=ht.prototype.diag;ht.identity=ht.eye;ht.prototype.negate=ht.prototype.neg;ht.prototype.tensorProduct=ht.prototype.kroneckerProduct;var no,uh,Gi;let H=(Gi=class extends ht{constructor(e,n){super();Bu(this,no);Ec(this,"data");if(Gi.isMatrix(e))Lu(this,no,uh).call(this,e.rows,e.columns),Gi.copy(e,this);else if(Number.isInteger(e)&&e>=0)Lu(this,no,uh).call(this,e,n);else if(be.isAnyArray(e)){const i=e;if(e=i.length,n=e?i[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let a=0;a<e;a++){if(i[a].length!==n)throw new RangeError("Inconsistent array dimensions");if(!HL(i[a]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(i[a]))}this.rows=e,this.columns=n}else throw new TypeError("First argument must be a positive number or an array")}set(e,n,i){return this.data[e][n]=i,this}get(e,n){return this.data[e][n]}removeRow(e){return qe(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,n){return n===void 0&&(n=e,e=this.rows),qe(this,e,!0),n=Float64Array.from(pi(this,n)),this.data.splice(e,0,n),this.rows+=1,this}removeColumn(e){Ye(this,e);for(let n=0;n<this.rows;n++){const i=new Float64Array(this.columns-1);for(let a=0;a<e;a++)i[a]=this.data[n][a];for(let a=e+1;a<this.columns;a++)i[a-1]=this.data[n][a];this.data[n]=i}return this.columns-=1,this}addColumn(e,n){typeof n>"u"&&(n=e,e=this.columns),Ye(this,e,!0),n=di(this,n);for(let i=0;i<this.rows;i++){const a=new Float64Array(this.columns+1);let o=0;for(;o<e;o++)a[o]=this.data[i][o];for(a[o++]=n[i];o<this.columns+1;o++)a[o]=this.data[i][o-1];this.data[i]=a}return this.columns+=1,this}},no=new WeakSet,uh=function(e,n){if(this.data=[],Number.isInteger(n)&&n>=0)for(let i=0;i<e;i++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");this.rows=e,this.columns=n},Gi);TL(ht,H);var se;const qs=class qs extends ht{constructor(e){super();Bu(this,se,void 0);if(H.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");vo(this,se,H.copy(e,new H(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)vo(this,se,new H(e,e));else if(vo(this,se,new H(e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return nr(this,se).size}get rows(){return nr(this,se).rows}get columns(){return nr(this,se).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return H.isMatrix(e)&&e.klassType==="SymmetricMatrix"}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}clone(){const e=new qs(this.diagonalSize);for(const[n,i,a]of this.upperRightEntries())e.set(n,i,a);return e}toMatrix(){return new H(this)}get(e,n){return nr(this,se).get(e,n)}set(e,n,i){return nr(this,se).set(e,n,i),nr(this,se).set(n,e,i),this}removeCross(e){return nr(this,se).removeRow(e),nr(this,se).removeColumn(e),this}addCross(e,n){n===void 0&&(n=e,e=this.diagonalSize);const i=n.slice();return i.splice(e,1),nr(this,se).addRow(e,i),nr(this,se).addColumn(e,n),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const n=[];for(const[i,a]of e.entries())a||n.push(i);n.reverse();for(const i of n)this.removeCross(i);return this}toCompact(){const{diagonalSize:e}=this,n=new Array(e*(e+1)/2);for(let i=0,a=0,o=0;o<n.length;o++)n[o]=this.get(a,i),++i>=e&&(i=++a);return n}static fromCompact(e){const n=e.length,i=(Math.sqrt(8*n+1)-1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const a=new qs(i);for(let o=0,s=0,u=0;u<n;u++)a.set(o,s,e[u]),++o>=i&&(o=++s);return a}*upperRightEntries(){for(let e=0,n=0;e<this.diagonalSize;void 0){const i=this.get(e,n);yield[e,n,i],++n>=this.diagonalSize&&(n=++e)}}*upperRightValues(){for(let e=0,n=0;e<this.diagonalSize;void 0)yield this.get(e,n),++n>=this.diagonalSize&&(n=++e)}};se=new WeakMap;let Rn=qs;Rn.prototype.klassType="SymmetricMatrix";class xu extends Rn{static isDistanceMatrix(t){return Rn.isSymmetricMatrix(t)&&t.klassSubType==="DistanceMatrix"}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,n){return t===e&&(n=0),super.set(t,e,n)}addCross(t,e){return e===void 0&&(e=t,t=this.diagonalSize),e=e.slice(),e[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new Rn(this)}clone(){const t=new xu(this.diagonalSize);for(const[e,n,i]of this.upperRightEntries())e!==n&&t.set(e,n,i);return t}toCompact(){const{diagonalSize:t}=this,e=(t-1)*t/2,n=new Array(e);for(let i=1,a=0,o=0;o<n.length;o++)n[o]=this.get(a,i),++i>=t&&(i=++a+1);return n}static fromCompact(t){const e=t.length,n=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const i=new this(n);for(let a=1,o=0,s=0;s<e;s++)i.set(a,o,t[s]),++a>=n&&(a=++o+1);return i}}xu.prototype.klassSubType="DistanceMatrix";class zr extends ht{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class XL extends zr{constructor(t,e){Ye(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class jL extends zr{constructor(t,e){wc(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class KL extends zr{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class QL extends zr{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class JL extends zr{constructor(t,e){qe(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}}class tP extends zr{constructor(t,e){_c(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class ys extends zr{constructor(t,e,n){_c(t,e),wc(t,n),super(t,e.length,n.length),this.rowIndices=e,this.columnIndices=n}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class eP extends zr{constructor(t,e,n,i,a){sh(t,e,n,i,a),super(t,n-e+1,a-i+1),this.startRow=e,this.startColumn=i}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class rP extends zr{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class u_ extends ht{constructor(t,e={}){const{rows:n=1}=e;if(t.length%n!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,e,n){let i=this._calculateIndex(t,e);return this.data[i]=n,this}get(t,e){let n=this._calculateIndex(t,e);return this.data[n]}_calculateIndex(t,e){return t*this.columns+e}}class ze extends ht{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function nP(r,t){if(be.isAnyArray(r))return r[0]&&be.isAnyArray(r[0])?new ze(r):new u_(r,t);throw new Error("the argument is not an array")}class Tu{constructor(t){t=ze.checkMatrix(t);let e=t.clone(),n=e.rows,i=e.columns,a=new Float64Array(n),o=1,s,u,l,h,f,c,v,d,p;for(s=0;s<n;s++)a[s]=s;for(d=new Float64Array(n),u=0;u<i;u++){for(s=0;s<n;s++)d[s]=e.get(s,u);for(s=0;s<n;s++){for(p=Math.min(s,u),f=0,l=0;l<p;l++)f+=e.get(s,l)*d[l];d[s]-=f,e.set(s,u,d[s])}for(h=u,s=u+1;s<n;s++)Math.abs(d[s])>Math.abs(d[h])&&(h=s);if(h!==u){for(l=0;l<i;l++)c=e.get(h,l),e.set(h,l,e.get(u,l)),e.set(u,l,c);v=a[h],a[h]=a[u],a[u]=v,o=-o}if(u<n&&e.get(u,u)!==0)for(s=u+1;s<n;s++)e.set(s,u,e.get(s,u)/e.get(u,u))}this.LU=e,this.pivotVector=a,this.pivotSign=o}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(t.get(n,n)===0)return!0;return!1}solve(t){t=H.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let i=t.columns,a=t.subMatrixRow(this.pivotVector,0,i-1),o=e.columns,s,u,l;for(l=0;l<o;l++)for(s=l+1;s<o;s++)for(u=0;u<i;u++)a.set(s,u,a.get(s,u)-a.get(l,u)*e.get(s,l));for(l=o-1;l>=0;l--){for(u=0;u<i;u++)a.set(l,u,a.get(l,u)/e.get(l,l));for(s=0;s<l;s++)for(u=0;u<i;u++)a.set(s,u,a.get(s,u)-a.get(l,u)*e.get(s,l))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let i=0;i<n;i++)e*=t.get(i,i);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,i=new H(e,n);for(let a=0;a<e;a++)for(let o=0;o<n;o++)a>o?i.set(a,o,t.get(a,o)):a===o?i.set(a,o,1):i.set(a,o,0);return i}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,i=new H(e,n);for(let a=0;a<e;a++)for(let o=0;o<n;o++)a<=o?i.set(a,o,t.get(a,o)):i.set(a,o,0);return i}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Br(r,t){let e=0;return Math.abs(r)>Math.abs(t)?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):t!==0?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0}class Dc{constructor(t){t=ze.checkMatrix(t);let e=t.clone(),n=t.rows,i=t.columns,a=new Float64Array(i),o,s,u,l;for(u=0;u<i;u++){let h=0;for(o=u;o<n;o++)h=Br(h,e.get(o,u));if(h!==0){for(e.get(u,u)<0&&(h=-h),o=u;o<n;o++)e.set(o,u,e.get(o,u)/h);for(e.set(u,u,e.get(u,u)+1),s=u+1;s<i;s++){for(l=0,o=u;o<n;o++)l+=e.get(o,u)*e.get(o,s);for(l=-l/e.get(u,u),o=u;o<n;o++)e.set(o,s,e.get(o,s)+l*e.get(o,u))}}a[u]=-h}this.QR=e,this.Rdiag=a}solve(t){t=H.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let i=t.columns,a=t.clone(),o=e.columns,s,u,l,h;for(l=0;l<o;l++)for(u=0;u<i;u++){for(h=0,s=l;s<n;s++)h+=e.get(s,l)*a.get(s,u);for(h=-h/e.get(l,l),s=l;s<n;s++)a.set(s,u,a.get(s,u)+h*e.get(s,l))}for(l=o-1;l>=0;l--){for(u=0;u<i;u++)a.set(l,u,a.get(l,u)/this.Rdiag[l]);for(s=0;s<l;s++)for(u=0;u<i;u++)a.set(s,u,a.get(s,u)-a.get(l,u)*e.get(s,l))}return a.subMatrix(0,o-1,0,i-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(this.Rdiag[e]===0)return!1;return!0}get upperTriangularMatrix(){let t=this.QR,e=t.columns,n=new H(e,e),i,a;for(i=0;i<e;i++)for(a=0;a<e;a++)i<a?n.set(i,a,t.get(i,a)):i===a?n.set(i,a,this.Rdiag[i]):n.set(i,a,0);return n}get orthogonalMatrix(){let t=this.QR,e=t.rows,n=t.columns,i=new H(e,n),a,o,s,u;for(s=n-1;s>=0;s--){for(a=0;a<e;a++)i.set(a,s,0);for(i.set(s,s,1),o=s;o<n;o++)if(t.get(s,s)!==0){for(u=0,a=s;a<e;a++)u+=t.get(a,s)*i.get(a,o);for(u=-u/t.get(s,s),a=s;a<e;a++)i.set(a,o,i.get(a,o)+u*t.get(a,s))}}return i}}class ji{constructor(t,e={}){if(t=ze.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=e;let u=!!a,l=!!o,h=!1,f;if(n<i)if(!s)f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=t.transpose(),n=f.rows,i=f.columns,h=!0;let C=u;u=l,l=C}else f=t.clone();let c=Math.min(n,i),v=Math.min(n+1,i),d=new Float64Array(v),p=new H(n,c),m=new H(i,i),g=new Float64Array(i),y=new Float64Array(n),_=new Float64Array(v);for(let C=0;C<v;C++)_[C]=C;let w=Math.min(n-1,i),S=Math.max(0,Math.min(i-2,n)),D=Math.max(w,S);for(let C=0;C<D;C++){if(C<w){d[C]=0;for(let A=C;A<n;A++)d[C]=Br(d[C],f.get(A,C));if(d[C]!==0){f.get(C,C)<0&&(d[C]=-d[C]);for(let A=C;A<n;A++)f.set(A,C,f.get(A,C)/d[C]);f.set(C,C,f.get(C,C)+1)}d[C]=-d[C]}for(let A=C+1;A<i;A++){if(C<w&&d[C]!==0){let x=0;for(let F=C;F<n;F++)x+=f.get(F,C)*f.get(F,A);x=-x/f.get(C,C);for(let F=C;F<n;F++)f.set(F,A,f.get(F,A)+x*f.get(F,C))}g[A]=f.get(C,A)}if(u&&C<w)for(let A=C;A<n;A++)p.set(A,C,f.get(A,C));if(C<S){g[C]=0;for(let A=C+1;A<i;A++)g[C]=Br(g[C],g[A]);if(g[C]!==0){g[C+1]<0&&(g[C]=0-g[C]);for(let A=C+1;A<i;A++)g[A]/=g[C];g[C+1]+=1}if(g[C]=-g[C],C+1<n&&g[C]!==0){for(let A=C+1;A<n;A++)y[A]=0;for(let A=C+1;A<n;A++)for(let x=C+1;x<i;x++)y[A]+=g[x]*f.get(A,x);for(let A=C+1;A<i;A++){let x=-g[A]/g[C+1];for(let F=C+1;F<n;F++)f.set(F,A,f.get(F,A)+x*y[F])}}if(l)for(let A=C+1;A<i;A++)m.set(A,C,g[A])}}let b=Math.min(i,n+1);if(w<i&&(d[w]=f.get(w,w)),n<b&&(d[b-1]=0),S+1<b&&(g[S]=f.get(S,b-1)),g[b-1]=0,u){for(let C=w;C<c;C++){for(let A=0;A<n;A++)p.set(A,C,0);p.set(C,C,1)}for(let C=w-1;C>=0;C--)if(d[C]!==0){for(let A=C+1;A<c;A++){let x=0;for(let F=C;F<n;F++)x+=p.get(F,C)*p.get(F,A);x=-x/p.get(C,C);for(let F=C;F<n;F++)p.set(F,A,p.get(F,A)+x*p.get(F,C))}for(let A=C;A<n;A++)p.set(A,C,-p.get(A,C));p.set(C,C,1+p.get(C,C));for(let A=0;A<C-1;A++)p.set(A,C,0)}else{for(let A=0;A<n;A++)p.set(A,C,0);p.set(C,C,1)}}if(l)for(let C=i-1;C>=0;C--){if(C<S&&g[C]!==0)for(let A=C+1;A<i;A++){let x=0;for(let F=C+1;F<i;F++)x+=m.get(F,C)*m.get(F,A);x=-x/m.get(C+1,C);for(let F=C+1;F<i;F++)m.set(F,A,m.get(F,A)+x*m.get(F,C))}for(let A=0;A<i;A++)m.set(A,C,0);m.set(C,C,1)}let M=b-1,E=Number.EPSILON;for(;b>0;){let C,A;for(C=b-2;C>=-1&&C!==-1;C--){const x=Number.MIN_VALUE+E*Math.abs(d[C]+Math.abs(d[C+1]));if(Math.abs(g[C])<=x||Number.isNaN(g[C])){g[C]=0;break}}if(C===b-2)A=4;else{let x;for(x=b-1;x>=C&&x!==C;x--){let F=(x!==b?Math.abs(g[x]):0)+(x!==C+1?Math.abs(g[x-1]):0);if(Math.abs(d[x])<=E*F){d[x]=0;break}}x===C?A=3:x===b-1?A=1:(A=2,C=x)}switch(C++,A){case 1:{let x=g[b-2];g[b-2]=0;for(let F=b-2;F>=C;F--){let L=Br(d[F],x),N=d[F]/L,B=x/L;if(d[F]=L,F!==C&&(x=-B*g[F-1],g[F-1]=N*g[F-1]),l)for(let G=0;G<i;G++)L=N*m.get(G,F)+B*m.get(G,b-1),m.set(G,b-1,-B*m.get(G,F)+N*m.get(G,b-1)),m.set(G,F,L)}break}case 2:{let x=g[C-1];g[C-1]=0;for(let F=C;F<b;F++){let L=Br(d[F],x),N=d[F]/L,B=x/L;if(d[F]=L,x=-B*g[F],g[F]=N*g[F],u)for(let G=0;G<n;G++)L=N*p.get(G,F)+B*p.get(G,C-1),p.set(G,C-1,-B*p.get(G,F)+N*p.get(G,C-1)),p.set(G,F,L)}break}case 3:{const x=Math.max(Math.abs(d[b-1]),Math.abs(d[b-2]),Math.abs(g[b-2]),Math.abs(d[C]),Math.abs(g[C])),F=d[b-1]/x,L=d[b-2]/x,N=g[b-2]/x,B=d[C]/x,G=g[C]/x,k=((L+F)*(L-F)+N*N)/2,$=F*N*(F*N);let q=0;(k!==0||$!==0)&&(k<0?q=0-Math.sqrt(k*k+$):q=Math.sqrt(k*k+$),q=$/(k+q));let et=(B+F)*(B-F)+q,it=B*G;for(let Z=C;Z<b-1;Z++){let at=Br(et,it);at===0&&(at=Number.MIN_VALUE);let vt=et/at,mt=it/at;if(Z!==C&&(g[Z-1]=at),et=vt*d[Z]+mt*g[Z],g[Z]=vt*g[Z]-mt*d[Z],it=mt*d[Z+1],d[Z+1]=vt*d[Z+1],l)for(let rt=0;rt<i;rt++)at=vt*m.get(rt,Z)+mt*m.get(rt,Z+1),m.set(rt,Z+1,-mt*m.get(rt,Z)+vt*m.get(rt,Z+1)),m.set(rt,Z,at);if(at=Br(et,it),at===0&&(at=Number.MIN_VALUE),vt=et/at,mt=it/at,d[Z]=at,et=vt*g[Z]+mt*d[Z+1],d[Z+1]=-mt*g[Z]+vt*d[Z+1],it=mt*g[Z+1],g[Z+1]=vt*g[Z+1],u&&Z<n-1)for(let rt=0;rt<n;rt++)at=vt*p.get(rt,Z)+mt*p.get(rt,Z+1),p.set(rt,Z+1,-mt*p.get(rt,Z)+vt*p.get(rt,Z+1)),p.set(rt,Z,at)}g[b-2]=et;break}case 4:{if(d[C]<=0&&(d[C]=d[C]<0?-d[C]:0,l))for(let x=0;x<=M;x++)m.set(x,C,-m.get(x,C));for(;C<M&&!(d[C]>=d[C+1]);){let x=d[C];if(d[C]=d[C+1],d[C+1]=x,l&&C<i-1)for(let F=0;F<i;F++)x=m.get(F,C+1),m.set(F,C+1,m.get(F,C)),m.set(F,C,x);if(u&&C<n-1)for(let F=0;F<n;F++)x=p.get(F,C+1),p.set(F,C+1,p.get(F,C)),p.set(F,C,x);C++}b--;break}}}if(h){let C=m;m=p,p=C}this.m=n,this.n=i,this.s=d,this.U=p,this.V=m}solve(t){let e=t,n=this.threshold,i=this.s.length,a=H.zeros(i,i);for(let c=0;c<i;c++)Math.abs(this.s[c])<=n?a.set(c,c,0):a.set(c,c,1/this.s[c]);let o=this.U,s=this.rightSingularVectors,u=s.mmul(a),l=s.rows,h=o.rows,f=H.zeros(l,h);for(let c=0;c<l;c++)for(let v=0;v<h;v++){let d=0;for(let p=0;p<i;p++)d+=u.get(c,p)*o.get(v,p);f.set(c,v,d)}return f.mmul(e)}solveForDiagonal(t){return this.solve(H.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,i=t.columns,a=new H(n,this.s.length);for(let h=0;h<n;h++)for(let f=0;f<i;f++)Math.abs(this.s[f])>e&&a.set(h,f,t.get(h,f)/this.s[f]);let o=this.U,s=o.rows,u=o.columns,l=new H(n,s);for(let h=0;h<n;h++)for(let f=0;f<s;f++){let c=0;for(let v=0;v<u;v++)c+=a.get(h,v)*o.get(f,v);l.set(h,f,c)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let i=0,a=n.length;i<a;i++)n[i]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return H.diag(this.s)}}function iP(r,t=!1){return r=ze.checkMatrix(r),t?new ji(r).inverse():l_(r,H.eye(r.rows))}function l_(r,t,e=!1){return r=ze.checkMatrix(r),t=ze.checkMatrix(t),e?new ji(r).solve(t):r.isSquare()?new Tu(r).solve(t):new Dc(r).solve(t)}function _s(r){if(r=H.checkMatrix(r),r.isSquare()){if(r.columns===0)return 1;let t,e,n,i;if(r.columns===2)return t=r.get(0,0),e=r.get(0,1),n=r.get(1,0),i=r.get(1,1),t*i-e*n;if(r.columns===3){let a,o,s;return a=new ys(r,[1,2],[1,2]),o=new ys(r,[1,2],[0,2]),s=new ys(r,[1,2],[0,1]),t=r.get(0,0),e=r.get(0,1),n=r.get(0,2),t*_s(a)-e*_s(o)+n*_s(s)}else return new Tu(r).determinant}else throw Error("determinant can only be calculated for a square matrix")}function aP(r,t){let e=[];for(let n=0;n<r;n++)n!==t&&e.push(n);return e}function oP(r,t,e,n=1e-9,i=1e-9){if(r>i)return new Array(t.rows+1).fill(0);{let a=t.addRow(e,[0]);for(let o=0;o<a.rows;o++)Math.abs(a.get(o,0))<n&&a.set(o,0,0);return a.to1DArray()}}function sP(r,t={}){const{thresholdValue:e=1e-9,thresholdError:n=1e-9}=t;r=H.checkMatrix(r);let i=r.rows,a=new H(i,i);for(let o=0;o<i;o++){let s=H.columnVector(r.getRow(o)),u=r.subMatrixRow(aP(i,o)).transpose(),h=new ji(u).solve(s),f=H.sub(s,u.mmul(h)).abs().max();a.setRow(o,oP(f,h,o,e,n))}return a}function uP(r,t=Number.EPSILON){if(r=H.checkMatrix(r),r.isEmpty())return r.transpose();let e=new ji(r,{autoTranspose:!0}),n=e.leftSingularVectors,i=e.rightSingularVectors,a=e.diagonal;for(let o=0;o<a.length;o++)Math.abs(a[o])>t?a[o]=1/a[o]:a[o]=0;return i.mmul(H.diag(a).mmul(n.transpose()))}function lP(r,t=r,e={}){r=new H(r);let n=!1;if(typeof t=="object"&&!H.isMatrix(t)&&!be.isAnyArray(t)?(e=t,t=r,n=!0):t=new H(t),r.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=e;i&&(r=r.center("column"),n||(t=t.center("column")));const a=r.transpose().mmul(t);for(let o=0;o<a.rows;o++)for(let s=0;s<a.columns;s++)a.set(o,s,a.get(o,s)*(1/(r.rows-1)));return a}function fP(r,t=r,e={}){r=new H(r);let n=!1;if(typeof t=="object"&&!H.isMatrix(t)&&!be.isAnyArray(t)?(e=t,t=r,n=!0):t=new H(t),r.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:a=!0}=e;i&&(r.center("column"),n||t.center("column")),a&&(r.scale("column"),n||t.scale("column"));const o=r.standardDeviation("column",{unbiased:!0}),s=n?o:t.standardDeviation("column",{unbiased:!0}),u=r.transpose().mmul(t);for(let l=0;l<u.rows;l++)for(let h=0;h<u.columns;h++)u.set(l,h,u.get(l,h)*(1/(o[l]*s[h]))*(1/(r.rows-1)));return u}let f_=class{constructor(t,e={}){const{assumeSymmetric:n=!1}=e;if(t=ze.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let i=t.columns,a=new H(i,i),o=new Float64Array(i),s=new Float64Array(i),u=t,l,h,f=!1;if(n?f=!0:f=t.isSymmetric(),f){for(l=0;l<i;l++)for(h=0;h<i;h++)a.set(l,h,u.get(l,h));hP(i,s,o,a),cP(i,s,o,a)}else{let c=new H(i,i),v=new Float64Array(i);for(h=0;h<i;h++)for(l=0;l<i;l++)c.set(l,h,u.get(l,h));vP(i,c,v,a),pP(i,s,o,a,c)}this.n=i,this.e=s,this.d=o,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t=this.n,e=this.e,n=this.d,i=new H(t,t),a,o;for(a=0;a<t;a++){for(o=0;o<t;o++)i.set(a,o,0);i.set(a,a,n[a]),e[a]>0?i.set(a,a+1,e[a]):e[a]<0&&i.set(a,a-1,e[a])}return i}};function hP(r,t,e,n){let i,a,o,s,u,l,h,f;for(u=0;u<r;u++)e[u]=n.get(r-1,u);for(s=r-1;s>0;s--){for(f=0,o=0,l=0;l<s;l++)f=f+Math.abs(e[l]);if(f===0)for(t[s]=e[s-1],u=0;u<s;u++)e[u]=n.get(s-1,u),n.set(s,u,0),n.set(u,s,0);else{for(l=0;l<s;l++)e[l]/=f,o+=e[l]*e[l];for(i=e[s-1],a=Math.sqrt(o),i>0&&(a=-a),t[s]=f*a,o=o-i*a,e[s-1]=i-a,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(i=e[u],n.set(u,s,i),a=t[u]+n.get(u,u)*i,l=u+1;l<=s-1;l++)a+=n.get(l,u)*e[l],t[l]+=n.get(l,u)*i;t[u]=a}for(i=0,u=0;u<s;u++)t[u]/=o,i+=t[u]*e[u];for(h=i/(o+o),u=0;u<s;u++)t[u]-=h*e[u];for(u=0;u<s;u++){for(i=e[u],a=t[u],l=u;l<=s-1;l++)n.set(l,u,n.get(l,u)-(i*t[l]+a*e[l]));e[u]=n.get(s-1,u),n.set(s,u,0)}}e[s]=o}for(s=0;s<r-1;s++){if(n.set(r-1,s,n.get(s,s)),n.set(s,s,1),o=e[s+1],o!==0){for(l=0;l<=s;l++)e[l]=n.get(l,s+1)/o;for(u=0;u<=s;u++){for(a=0,l=0;l<=s;l++)a+=n.get(l,s+1)*n.get(l,u);for(l=0;l<=s;l++)n.set(l,u,n.get(l,u)-a*e[l])}}for(l=0;l<=s;l++)n.set(l,s+1,0)}for(u=0;u<r;u++)e[u]=n.get(r-1,u),n.set(r-1,u,0);n.set(r-1,r-1,1),t[0]=0}function cP(r,t,e,n){let i,a,o,s,u,l,h,f,c,v,d,p,m,g,y,_;for(o=1;o<r;o++)t[o-1]=t[o];t[r-1]=0;let w=0,S=0,D=Number.EPSILON;for(l=0;l<r;l++){for(S=Math.max(S,Math.abs(e[l])+Math.abs(t[l])),h=l;h<r&&!(Math.abs(t[h])<=D*S);)h++;if(h>l)do{for(i=e[l],f=(e[l+1]-i)/(2*t[l]),c=Br(f,1),f<0&&(c=-c),e[l]=t[l]/(f+c),e[l+1]=t[l]*(f+c),v=e[l+1],a=i-e[l],o=l+2;o<r;o++)e[o]-=a;for(w=w+a,f=e[h],d=1,p=d,m=d,g=t[l+1],y=0,_=0,o=h-1;o>=l;o--)for(m=p,p=d,_=y,i=d*t[o],a=d*f,c=Br(f,t[o]),t[o+1]=y*c,y=t[o]/c,d=f/c,f=d*e[o]-y*i,e[o+1]=a+y*(d*i+y*e[o]),u=0;u<r;u++)a=n.get(u,o+1),n.set(u,o+1,y*n.get(u,o)+d*a),n.set(u,o,d*n.get(u,o)-y*a);f=-y*_*m*g*t[l]/v,t[l]=y*f,e[l]=d*f}while(Math.abs(t[l])>D*S);e[l]=e[l]+w,t[l]=0}for(o=0;o<r-1;o++){for(u=o,f=e[o],s=o+1;s<r;s++)e[s]<f&&(u=s,f=e[s]);if(u!==o)for(e[u]=e[o],e[o]=f,s=0;s<r;s++)f=n.get(s,o),n.set(s,o,n.get(s,u)),n.set(s,u,f)}}function vP(r,t,e,n){let i=0,a=r-1,o,s,u,l,h,f,c;for(f=i+1;f<=a-1;f++){for(c=0,l=f;l<=a;l++)c=c+Math.abs(t.get(l,f-1));if(c!==0){for(u=0,l=a;l>=f;l--)e[l]=t.get(l,f-1)/c,u+=e[l]*e[l];for(s=Math.sqrt(u),e[f]>0&&(s=-s),u=u-e[f]*s,e[f]=e[f]-s,h=f;h<r;h++){for(o=0,l=a;l>=f;l--)o+=e[l]*t.get(l,h);for(o=o/u,l=f;l<=a;l++)t.set(l,h,t.get(l,h)-o*e[l])}for(l=0;l<=a;l++){for(o=0,h=a;h>=f;h--)o+=e[h]*t.get(l,h);for(o=o/u,h=f;h<=a;h++)t.set(l,h,t.get(l,h)-o*e[h])}e[f]=c*e[f],t.set(f,f-1,c*s)}}for(l=0;l<r;l++)for(h=0;h<r;h++)n.set(l,h,l===h?1:0);for(f=a-1;f>=i+1;f--)if(t.get(f,f-1)!==0){for(l=f+1;l<=a;l++)e[l]=t.get(l,f-1);for(h=f;h<=a;h++){for(s=0,l=f;l<=a;l++)s+=e[l]*n.get(l,h);for(s=s/e[f]/t.get(f,f-1),l=f;l<=a;l++)n.set(l,h,n.get(l,h)+s*e[l])}}}function pP(r,t,e,n,i){let a=r-1,o=0,s=r-1,u=Number.EPSILON,l=0,h=0,f=0,c=0,v=0,d=0,p=0,m=0,g,y,_,w,S,D,b,M,E,C,A,x,F,L,N;for(g=0;g<r;g++)for((g<o||g>s)&&(e[g]=i.get(g,g),t[g]=0),y=Math.max(g-1,0);y<r;y++)h=h+Math.abs(i.get(g,y));for(;a>=o;){for(w=a;w>o&&(d=Math.abs(i.get(w-1,w-1))+Math.abs(i.get(w,w)),d===0&&(d=h),!(Math.abs(i.get(w,w-1))<u*d));)w--;if(w===a)i.set(a,a,i.get(a,a)+l),e[a]=i.get(a,a),t[a]=0,a--,m=0;else if(w===a-1){if(b=i.get(a,a-1)*i.get(a-1,a),f=(i.get(a-1,a-1)-i.get(a,a))/2,c=f*f+b,p=Math.sqrt(Math.abs(c)),i.set(a,a,i.get(a,a)+l),i.set(a-1,a-1,i.get(a-1,a-1)+l),M=i.get(a,a),c>=0){for(p=f>=0?f+p:f-p,e[a-1]=M+p,e[a]=e[a-1],p!==0&&(e[a]=M-b/p),t[a-1]=0,t[a]=0,M=i.get(a,a-1),d=Math.abs(M)+Math.abs(p),f=M/d,c=p/d,v=Math.sqrt(f*f+c*c),f=f/v,c=c/v,y=a-1;y<r;y++)p=i.get(a-1,y),i.set(a-1,y,c*p+f*i.get(a,y)),i.set(a,y,c*i.get(a,y)-f*p);for(g=0;g<=a;g++)p=i.get(g,a-1),i.set(g,a-1,c*p+f*i.get(g,a)),i.set(g,a,c*i.get(g,a)-f*p);for(g=o;g<=s;g++)p=n.get(g,a-1),n.set(g,a-1,c*p+f*n.get(g,a)),n.set(g,a,c*n.get(g,a)-f*p)}else e[a-1]=M+f,e[a]=M+f,t[a-1]=p,t[a]=-p;a=a-2,m=0}else{if(M=i.get(a,a),E=0,b=0,w<a&&(E=i.get(a-1,a-1),b=i.get(a,a-1)*i.get(a-1,a)),m===10){for(l+=M,g=o;g<=a;g++)i.set(g,g,i.get(g,g)-M);d=Math.abs(i.get(a,a-1))+Math.abs(i.get(a-1,a-2)),M=E=.75*d,b=-.4375*d*d}if(m===30&&(d=(E-M)/2,d=d*d+b,d>0)){for(d=Math.sqrt(d),E<M&&(d=-d),d=M-b/((E-M)/2+d),g=o;g<=a;g++)i.set(g,g,i.get(g,g)-d);l+=d,M=E=b=.964}for(m=m+1,S=a-2;S>=w&&(p=i.get(S,S),v=M-p,d=E-p,f=(v*d-b)/i.get(S+1,S)+i.get(S,S+1),c=i.get(S+1,S+1)-p-v-d,v=i.get(S+2,S+1),d=Math.abs(f)+Math.abs(c)+Math.abs(v),f=f/d,c=c/d,v=v/d,!(S===w||Math.abs(i.get(S,S-1))*(Math.abs(c)+Math.abs(v))<u*(Math.abs(f)*(Math.abs(i.get(S-1,S-1))+Math.abs(p)+Math.abs(i.get(S+1,S+1))))));)S--;for(g=S+2;g<=a;g++)i.set(g,g-2,0),g>S+2&&i.set(g,g-3,0);for(_=S;_<=a-1&&(L=_!==a-1,_!==S&&(f=i.get(_,_-1),c=i.get(_+1,_-1),v=L?i.get(_+2,_-1):0,M=Math.abs(f)+Math.abs(c)+Math.abs(v),M!==0&&(f=f/M,c=c/M,v=v/M)),M!==0);_++)if(d=Math.sqrt(f*f+c*c+v*v),f<0&&(d=-d),d!==0){for(_!==S?i.set(_,_-1,-d*M):w!==S&&i.set(_,_-1,-i.get(_,_-1)),f=f+d,M=f/d,E=c/d,p=v/d,c=c/f,v=v/f,y=_;y<r;y++)f=i.get(_,y)+c*i.get(_+1,y),L&&(f=f+v*i.get(_+2,y),i.set(_+2,y,i.get(_+2,y)-f*p)),i.set(_,y,i.get(_,y)-f*M),i.set(_+1,y,i.get(_+1,y)-f*E);for(g=0;g<=Math.min(a,_+3);g++)f=M*i.get(g,_)+E*i.get(g,_+1),L&&(f=f+p*i.get(g,_+2),i.set(g,_+2,i.get(g,_+2)-f*v)),i.set(g,_,i.get(g,_)-f),i.set(g,_+1,i.get(g,_+1)-f*c);for(g=o;g<=s;g++)f=M*n.get(g,_)+E*n.get(g,_+1),L&&(f=f+p*n.get(g,_+2),n.set(g,_+2,n.get(g,_+2)-f*v)),n.set(g,_,n.get(g,_)-f),n.set(g,_+1,n.get(g,_+1)-f*c)}}}if(h!==0){for(a=r-1;a>=0;a--)if(f=e[a],c=t[a],c===0)for(w=a,i.set(a,a,1),g=a-1;g>=0;g--){for(b=i.get(g,g)-f,v=0,y=w;y<=a;y++)v=v+i.get(g,y)*i.get(y,a);if(t[g]<0)p=b,d=v;else if(w=g,t[g]===0?i.set(g,a,b!==0?-v/b:-v/(u*h)):(M=i.get(g,g+1),E=i.get(g+1,g),c=(e[g]-f)*(e[g]-f)+t[g]*t[g],D=(M*d-p*v)/c,i.set(g,a,D),i.set(g+1,a,Math.abs(M)>Math.abs(p)?(-v-b*D)/M:(-d-E*D)/p)),D=Math.abs(i.get(g,a)),u*D*D>1)for(y=g;y<=a;y++)i.set(y,a,i.get(y,a)/D)}else if(c<0)for(w=a-1,Math.abs(i.get(a,a-1))>Math.abs(i.get(a-1,a))?(i.set(a-1,a-1,c/i.get(a,a-1)),i.set(a-1,a,-(i.get(a,a)-f)/i.get(a,a-1))):(N=es(0,-i.get(a-1,a),i.get(a-1,a-1)-f,c),i.set(a-1,a-1,N[0]),i.set(a-1,a,N[1])),i.set(a,a-1,0),i.set(a,a,1),g=a-2;g>=0;g--){for(C=0,A=0,y=w;y<=a;y++)C=C+i.get(g,y)*i.get(y,a-1),A=A+i.get(g,y)*i.get(y,a);if(b=i.get(g,g)-f,t[g]<0)p=b,v=C,d=A;else if(w=g,t[g]===0?(N=es(-C,-A,b,c),i.set(g,a-1,N[0]),i.set(g,a,N[1])):(M=i.get(g,g+1),E=i.get(g+1,g),x=(e[g]-f)*(e[g]-f)+t[g]*t[g]-c*c,F=(e[g]-f)*2*c,x===0&&F===0&&(x=u*h*(Math.abs(b)+Math.abs(c)+Math.abs(M)+Math.abs(E)+Math.abs(p))),N=es(M*v-p*C+c*A,M*d-p*A-c*C,x,F),i.set(g,a-1,N[0]),i.set(g,a,N[1]),Math.abs(M)>Math.abs(p)+Math.abs(c)?(i.set(g+1,a-1,(-C-b*i.get(g,a-1)+c*i.get(g,a))/M),i.set(g+1,a,(-A-b*i.get(g,a)-c*i.get(g,a-1))/M)):(N=es(-v-E*i.get(g,a-1),-d-E*i.get(g,a),p,c),i.set(g+1,a-1,N[0]),i.set(g+1,a,N[1]))),D=Math.max(Math.abs(i.get(g,a-1)),Math.abs(i.get(g,a))),u*D*D>1)for(y=g;y<=a;y++)i.set(y,a-1,i.get(y,a-1)/D),i.set(y,a,i.get(y,a)/D)}for(g=0;g<r;g++)if(g<o||g>s)for(y=g;y<r;y++)n.set(g,y,i.get(g,y));for(y=r-1;y>=o;y--)for(g=o;g<=s;g++){for(p=0,_=o;_<=Math.min(y,s);_++)p=p+n.get(g,_)*i.get(_,y);n.set(g,y,p)}}}function es(r,t,e,n){let i,a;return Math.abs(e)>Math.abs(n)?(i=n/e,a=e+i*n,[(r+i*t)/a,(t-i*r)/a]):(i=e/n,a=n+i*e,[(i*r+t)/a,(i*t-r)/a])}class h_{constructor(t){if(t=ze.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");let e=t,n=e.rows,i=new H(n,n),a=!0,o,s,u;for(s=0;s<n;s++){let l=0;for(u=0;u<s;u++){let h=0;for(o=0;o<u;o++)h+=i.get(u,o)*i.get(s,o);h=(e.get(s,u)-h)/i.get(u,u),i.set(s,u,h),l=l+h*h}for(l=e.get(s,s)-l,a&=l>0,i.set(s,s,Math.sqrt(Math.max(l,0))),u=s+1;u<n;u++)i.set(s,u,0)}this.L=i,this.positiveDefinite=!!a}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=ze.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let i=t.columns,a=t.clone(),o,s,u;for(u=0;u<n;u++)for(s=0;s<i;s++){for(o=0;o<u;o++)a.set(u,s,a.get(u,s)-a.get(o,s)*e.get(u,o));a.set(u,s,a.get(u,s)/e.get(u,u))}for(u=n-1;u>=0;u--)for(s=0;s<i;s++){for(o=u+1;o<n;o++)a.set(u,s,a.get(u,s)-a.get(o,s)*e.get(o,u));a.set(u,s,a.get(u,s)/e.get(u,u))}return a}get lowerTriangularMatrix(){return this.L}}class c_{constructor(t,e={}){t=ze.checkMatrix(t);let{Y:n}=e;const{scaleScores:i=!1,maxIterations:a=1e3,terminationCriteria:o=1e-10}=e;let s;if(n){if(be.isAnyArray(n)&&typeof n[0]=="number"?n=H.columnVector(n):n=ze.checkMatrix(n),n.rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=n.getColumnVector(0)}else s=t.getColumnVector(0);let u=1,l,h,f,c;for(let v=0;v<a&&u>o;v++)f=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),f=f.div(f.norm()),l=t.mmul(f).div(f.transpose().mmul(f).get(0,0)),v>0&&(u=l.clone().sub(c).pow(2).sum()),c=l.clone(),n?(h=n.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),h=h.div(h.norm()),s=n.mmul(h).div(h.transpose().mmul(h).get(0,0))):s=l;if(n){let v=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));v=v.div(v.norm());let d=t.clone().sub(l.clone().mmul(v.transpose())),p=s.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),m=n.clone().sub(l.clone().mulS(p.get(0,0)).mmul(h.transpose()));this.t=l,this.p=v.transpose(),this.w=f.transpose(),this.q=h,this.u=s,this.s=l.transpose().mmul(l),this.xResidual=d,this.yResidual=m,this.betas=p}else this.w=f.transpose(),this.s=l.transpose().mmul(l).sqrt(),i?this.t=l.clone().div(this.s.get(0,0)):this.t=l,this.xResidual=t.sub(l.mmul(f.transpose()))}}wt.AbstractMatrix=ht;wt.CHO=h_;wt.CholeskyDecomposition=h_;wt.DistanceMatrix=xu;wt.EVD=f_;var dP=wt.EigenvalueDecomposition=f_;wt.LU=Tu;wt.LuDecomposition=Tu;var v_=wt.Matrix=H;wt.MatrixColumnSelectionView=jL;wt.MatrixColumnView=XL;wt.MatrixFlipColumnView=KL;wt.MatrixFlipRowView=QL;wt.MatrixRowSelectionView=tP;wt.MatrixRowView=JL;wt.MatrixSelectionView=ys;wt.MatrixSubView=eP;wt.MatrixTransposeView=rP;wt.NIPALS=c_;wt.Nipals=c_;wt.QR=Dc;wt.QrDecomposition=Dc;wt.SVD=ji;wt.SingularValueDecomposition=ji;wt.SymmetricMatrix=Rn;wt.WrapperMatrix1D=u_;wt.WrapperMatrix2D=ze;wt.correlation=fP;wt.covariance=lP;var A0=wt.default=H;wt.determinant=_s;wt.inverse=iP;wt.linearDependencies=sP;wt.pseudoInverse=uP;wt.solve=l_;wt.wrap=nP;const gP=dP,mP=v_;A0.Matrix&&A0.Matrix;zn([sT,rI,NF,XF]);let p_=4,d_=[[0,6,3,6],[0,6,3,6,1,6,2,5,6,1,6,3,6],[0,6,3,6,1,6,2,5,6,2,4,6],[0,6,3,6,1,6,3,6],[0,6,4,5,6,2,4,6],[0,6,4,5,6,2,5,6,1,6,3,6],[0,6,4,6]],g_=d_.length,Gn=g_;const yP=(r,t)=>r.reduce((e,n)=>n===t?e+1:e,0);let Sc=mP.zeros(Gn,Gn);for(let r=0;r<Gn;r++)for(let t=0;t<Gn;t++){let e=yP(Cc(r),t);Sc.set(r,t,e||0)}console.table("M = ",Sc.data);function Cc(r){if(Number.isInteger(r))return d_[r];if(Array.isArray(r))return r.map(Cc).flat();console.log("susbtitution should be integer or array")}let Ws=new gP(Sc);function _P(r){let t=Ws.realEigenvalues[r],e=Ws.imaginaryEigenvalues[r];return gc(t,e)}let wP=[...Array(Gn).keys()].map(r=>_P(r)),m_=wP.reduce((r,t,e)=>(t.abs(e)>1&&e>0&&(r=[t,e]),r),[0,0]),y_=m_[0],__=m_[1],w_=mL(y_,-p_);console.log("normaliz = ",w_.toString(),"       beta = ",y_.toString());let DP=Ws.eigenvectorMatrix.transpose().to2DArray()[__],SP=Ws.eigenvectorMatrix.transpose().to2DArray()[__-1],D_=[];for(let r=0;r<g_;r++)D_[r]=gc(DP[r],SP[r]);function CP(r){let t=r,e=0;for(;e<p_;)t=Cc(t),e++;return t}let bP=[...Array(Gn).keys()].map(r=>CP(r)),bc=[...Array(Gn)].map(r=>[]);bc=bP.map((r,t)=>{let e=[];return r.reduce((n,i)=>(n=vL(n,Mu(w_,D_[i])),e.push([n.re,n.im]),n),gc(0,0)),e});const AP=EM(document.getElementById("jxgbox"),null,{width:800,height:600});let Ac=[];Ac=bc.map(r=>({data:r,type:"scatter",symbol:"circle",symbolSize:6}));let S_={data:["frac 0","frac 1","frac 2","frac 3","frac 4","frac 5","frac 6"],backgroundColor:"#ccc",textStyle:{color:"black"}};Ac=bc.map((r,t)=>({data:r,name:S_.data[t],type:"scatter",symbol:"circle",symbolSize:6}));let M0={toolbox:{feature:{saveAsImage:{type:"png",name:"fractal-dual-6-letters"}}},legend:S_,xAxis:{scale:!0},yAxis:{scale:!0},series:Ac};M0&&AP.setOption(M0);
